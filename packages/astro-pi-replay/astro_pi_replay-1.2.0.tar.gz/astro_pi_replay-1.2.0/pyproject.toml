[build-system]
requires = ["setuptools>=61.0"]
build-backend = "setuptools.build_meta"

[project]
name = "astro_pi_replay"
description = "A CLI to replay historic data from previous ISS missions."
dynamic = ["version"]
authors = [
  { name="Geraint Ballinger", email="geraint.ballinger@raspberrypi.org" }
]
license = { file = "LICENCE.txt" }
readme = "README.md"
requires-python = ">=3.9"
classifiers = [
  "Programming Language :: Python :: 3",
  "Operating System :: OS Independent"
]
dependencies = [
  "colorzero >= 2.0",
  "pandas >= 2.1.1; sys_platform=='emscripten'",
  "pandas == 2.1.1; sys_platform!='emscripten' and python_version >= '3.12'",
  "pandas == 2.0.3; sys_platform!='emscripten' and python_version < '3.12'",
  "Pillow >= 10.0.0; sys_platform=='emscripten'",
  "Pillow == 10.0.0; sys_platform!='emscripten'",
  "requests >= 2.31",
  "skyfield >= 1.46",
  "typing_extensions >= 4.7.1",
  "tqdm >= 4.66.0",
  "setuptools>=61.0",
  "scipy >= 1.11.2; python_version >= '3.11'",
  "scipy == 1.8.1; python_version < '3.11'",
  "exif >= 1.6.0",
  "numpy >= 1.26.0; sys_platform=='emscripten'",
  "numpy == 1.26.0; sys_platform!='emscripten' and python_version >= '3.12'",
  "numpy == 1.24.3; sys_platform!='emscripten' and python_version < '3.12'",
  "piexif==1.1.3",
  "opencv-python~=4.6",
]

[project.scripts]
Astro-Pi-Replay = "astro_pi_replay.main:main"

[project.urls]
Homepage = "https://github.com/astro-pi/Astro-Pi-Replay"

[tool.setuptools.dynamic]
version = {attr = "astro_pi_replay.__init__.__version__"}

[tool.isort]
atomic = true
line_length = 88
profile = "black"
skip_gitignore = true
src_paths = ["src", "test"]
skip_glob = ["test/resources", "venv"]

[tool.black]
line-length = 88
target-version = ['py39']
include = '\.pyi?$'
extend-exclude = '''
(
  ^/test/resources
)
'''

[tool.bandit]
skips = ["B101", "B404"]
exclude = ["test/resources"]

[tool.pyright]
pythonPlatform = "All"
