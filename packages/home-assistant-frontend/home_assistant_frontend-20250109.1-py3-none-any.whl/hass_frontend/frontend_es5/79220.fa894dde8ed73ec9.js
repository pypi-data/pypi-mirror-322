"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["79220"],{94264:function(e,t,n){n.d(t,{Ec:function(){return c},Mo:function(){return f},Oj:function(){return v},UK:function(){return d},av:function(){return _},s_:function(){return h}});n(19083),n(71695),n(92745),n(52805),n(19423),n(92519),n(42179),n(89256),n(24931),n(88463),n(57449),n(19814),n(61006),n(39527),n(92181),n(99790),n(41360),n(13334),n(34595),n(36993),n(47021);var i=n(95262),s=n(62201),o=n(31064),r=n(96194);function u(e,t){var n;if((0,o.T)(t)&&e.states[t])return null===(n=e.states[t])||void 0===n?void 0:n.state}function a(e,t){var n;const s=e.entity&&t.states[e.entity]?t.states[e.entity].state:r.nZ;let o=null!==(n=e.state)&&void 0!==n?n:e.state_not;if(Array.isArray(o)){const e=o.map((e=>u(t,e))).filter((e=>void 0!==e));o=[...o,...e]}else if("string"==typeof o){const e=u(t,o);o=[o],e&&o.push(e)}return null!=e.state?(0,i.r)(o).includes(s):!(0,i.r)(o).includes(s)}function c(e,t){return e.every((e=>{if("condition"in e)switch(e.condition){case"screen":return!!(n=e).media_query&&matchMedia(n.media_query).matches;case"user":return function(e,t){var n;return!(!e.users||null===(n=t.user)||void 0===n||!n.id)&&e.users.includes(t.user.id)}(e,t);case"numeric_state":return function(e,t){var n;const i=null===(n=e.entity?t.states[e.entity]:void 0)||void 0===n?void 0:n.state;let s=e.above,o=e.below;var r,a;"string"==typeof s&&(s=null!==(r=u(t,s))&&void 0!==r?r:s),"string"==typeof o&&(o=null!==(a=u(t,o))&&void 0!==a?a:o);const c=Number(i),d=Number(s),l=Number(o);return!isNaN(c)&&(null==e.above||isNaN(d)||d<c)&&(null==e.below||isNaN(l)||l>c)}(e,t);case"and":return function(e,t){return!e.conditions||c(e.conditions,t)}(e,t);case"or":return function(e,t){return!e.conditions||e.conditions.some((e=>c([e],t)))}(e,t);default:return a(e,t)}var n;return a(e,t)}))}function d(e){const t=new Set;for(const r of e)if("numeric_state"===r.condition)"string"==typeof r.above&&(0,o.T)(r.above)&&t.add(r.above),"string"==typeof r.below&&(0,o.T)(r.below)&&t.add(r.below);else if("state"===r.condition){var n,s;[...null!==(n=(0,i.r)(r.state))&&void 0!==n?n:[],...null!==(s=(0,i.r)(r.state_not))&&void 0!==s?s:[]].forEach((e=>{e&&(0,o.T)(e)&&t.add(e)}))}else if("conditions"in r&&r.conditions)return new Set([...t,...d(r.conditions)]);return t}function l(e){return null!=e.entity&&(null!=e.state||null!=e.state_not)}function h(e){return e.every((e=>{if("condition"in e)switch(e.condition){case"screen":return null!=e.media_query;case"user":return function(e){return null!=e.users}(e);case"numeric_state":return function(e){return null!=e.entity&&(null!=e.above||null!=e.below)}(e);case"and":case"or":return function(e){return null!=e.conditions}(e);default:return l(e)}return l(e)}))}function f(e,t){return"conditions"in e&&e.conditions?Object.assign(Object.assign({},e),{},{conditions:e.conditions.map((e=>f(e,t)))}):"state"===e.condition||"numeric_state"===e.condition?Object.assign(Object.assign({},e),{},{entity:t}):e}function v(e){return e.reduce(((e,t)=>("conditions"in t&&t.conditions&&e.push(...v(t.conditions)),"screen"===t.condition&&t.media_query&&e.push(t.media_query),e)),[])}function _(e,t){return v(e).map((e=>(0,s.K)(e,(e=>{t(e)}))))}},34939:function(e,t,n){n.d(t,{g:function(){return c}});var i=n(61701),s=n(72621),o=(n(22152),n(52247),n(71695),n(39527),n(99790),n(41360),n(47021),n(57243)),r=n(50778),u=n(48045),a=n(94264);let c=(0,i.Z)([(0,r.Mo)("hui-conditional-base")],(function(e,t){class n extends t{constructor(...t){super(...t),e(this)}}return{F:n,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"preview",value(){return!1}},{kind:"field",decorators:[(0,r.SB)()],key:"_config",value:void 0},{kind:"field",key:"_element",value:void 0},{kind:"field",key:"_listeners",value(){return[]}},{kind:"field",key:"_mediaQueries",value(){return[]}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"validateConfig",value:function(e){if(!e.conditions)throw new Error("No conditions configured");if(!Array.isArray(e.conditions))throw new Error("Conditions need to be an array");if(!(0,a.s_)(e.conditions))throw new Error("Conditions are invalid");this.lastChild&&this.removeChild(this.lastChild),this._config=e}},{kind:"method",key:"disconnectedCallback",value:function(){(0,s.Z)(n,"disconnectedCallback",this,3)([]),this._clearMediaQueries()}},{kind:"method",key:"connectedCallback",value:function(){(0,s.Z)(n,"connectedCallback",this,3)([]),this._listenMediaQueries(),this._updateVisibility()}},{kind:"method",key:"_clearMediaQueries",value:function(){this._listeners.forEach((e=>e())),this._listeners=[]}},{kind:"method",key:"_listenMediaQueries",value:function(){if(!this._config||!this.hass)return;const e=this._config.conditions.filter((e=>"condition"in e)),t=(0,a.Oj)(e);if((0,u.v)(t,this._mediaQueries))return;this._clearMediaQueries();const n=this._config.conditions,i=1===n.length&&"condition"in n[0]&&"screen"===n[0].condition&&!!n[0].media_query;this._listeners=(0,a.av)(e,(e=>{i?this.setVisibility(e):this._updateVisibility()}))}},{kind:"method",key:"update",value:function(e){(0,s.Z)(n,"update",this,3)([e]),(e.has("_element")||e.has("_config")||e.has("hass")||e.has("preview"))&&(this._listenMediaQueries(),this._updateVisibility())}},{kind:"method",key:"_updateVisibility",value:function(){if(!this._element||!this.hass||!this._config)return;this._element.preview=this.preview;const e=(0,a.Ec)(this._config.conditions,this.hass);this.setVisibility(e)}},{kind:"method",key:"setVisibility",value:function(e){if(!this._element||!this.hass)return;const t=this.preview||e;this.hidden!==!t&&(this.toggleAttribute("hidden",!t),this.style.setProperty("display",t?"":"none")),t?(this._element.hass=this.hass,this._element.parentElement||this.appendChild(this._element)):this._element.parentElement&&this.removeChild(this._element)}}]}}),o.fl)},24272:function(e,t,n){n.a(e,(async function(e,i){try{n.r(t);var s=n(61701),o=(n(52247),n(71695),n(19423),n(47021),n(50778)),r=n(34939),u=n(46542),a=e([u]);u=(a.then?(await a)():a)[0];(0,s.Z)([(0,o.Mo)("hui-conditional-row")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"method",key:"setConfig",value:function(e){if(this.validateConfig(e),!e.row)throw new Error("No row configured");this._element=(0,u.m)(e.state_color?Object.assign({state_color:!0},e.row):e.row)}}]}}),r.g);i()}catch(c){i(c)}}))}}]);
//# sourceMappingURL=79220.fa894dde8ed73ec9.js.map