{"version":3,"file":"12913.151c40c686d3897c.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20250109.1/src/common/color/colors.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250109.1/src/components/chart/ha-sankey-chart.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250109.1/src/mixins/subscribe-mixin.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250109.1/src/panels/lovelace/cards/energy/hui-energy-sankey-card.ts","/unknown/node_modules/date-fns/addDays.js","/unknown/node_modules/date-fns/addHours.js","/unknown/node_modules/date-fns/addMilliseconds.js","/unknown/node_modules/date-fns/addMonths.js","/unknown/node_modules/date-fns/compareAsc.js","/unknown/node_modules/date-fns/differenceInMilliseconds.js","/unknown/node_modules/date-fns/differenceInCalendarMonths.js","/unknown/node_modules/date-fns/differenceInMonths.js","/unknown/node_modules/date-fns/endOfDay.js","/unknown/node_modules/date-fns/endOfMonth.js","/unknown/node_modules/date-fns/isFirstDayOfMonth.js","/unknown/node_modules/date-fns/isLastDayOfMonth.js"],"names":["COLORS","getColorByIndex","index","length","getGraphColorByIndex","style","themeColor","getPropertyValue","theme2hex","NODE_WIDTH","FONT_SIZE","_decorate","customElement","_initialize","_LitElement","HaSankeyChart","constructor","args","F","d","kind","decorators","property","attribute","key","value","nodes","links","type","Boolean","ResizeController","this","callback","entries","contentRect","_superPropGet","_textMeasureCanvas","undefined","_statePerPixel","_sizeController","loadingText","nothing","width","height","paths","_processNodesAndPaths","data","html","map","path","i","svg","sourceNode","id","targetNode","vertical","color","cmd","x","y","join","node","passThrough","size","tooltip","label","labelWidth","fontSize","_getVerticalLabelFontSize","MIN_DISTANCE","memoizeOne","rawNodes","rawLinks","filteredNodes","filter","n","indexes","Set","sort","passThroughNodes","_processLinks","_processNodes","_processPaths","accountedIn","Map","accountedOut","forEach","link","find","source","target","sourceAccounted","get","targetAccounted","sourceRemaining","targetRemaining","Math","min","set","sourceIndex","findIndex","targetIndex","passThroughNodeIds","slice","push","offset","sectionSize","nodesPerSection","sectionFlexSize","_getSectionFlexSize","Object","values","sections","availableSpace","totalValue","reduce","acc","sizedNodes","statePerPixel","_setNodeSizes","section","totalSize","max","floor","sum","b","emptySpace","spacerSize","flatMap","flowDirection","orthDirection","nodesById","pathNodes","offsets","nextNode","flowMiddle","orthStart","orthEnd","prevNode","c","deficitHeight","result","fullSize","lastSectionFlexSize","lastSectionNodes","TEXT_PADDING","_getTextWidth","flexSize","text","document","createElement","context","getContext","font","measureText","longestWord","split","longest","current","wordWidth","static","css","LitElement","SubscribeMixin","superClass","_superClass","SubscribeClass","_checkSubscribed","__unsubs","unsub","pop","Promise","then","unsubFunc","changedProps","has","hassSubscribeRequiredHostProps","keys","includes","isConnected","hass","some","prop","hassSubscribe","_SubscribeMixin","state","config","_config","getEnergyDataCollection","collection_key","subscribe","_data","columns","min_columns","rows","min_rows","localize","prefs","types","energySourcesByType","homeNode","grid","totalFromGrid","calculateStatisticsSumGrowth","stats","flow_from","flow","stat_energy_from","formatNumber","locale","battery","totalBatteryOut","solar","totalSolarProduction","totalBatteryIn","stat_energy_to","flow_to","totalToGrid","areas","no_area","devices","floors","no_floor","untrackedConsumption","computedStyle","getComputedStyle","device_consumption","device","idx","entity","entities","stat_consumption","calculateStatisticSumGrowth","deviceNode","name","getStatisticLabel","statsMetadata","entityAreaId","area_id","device_id","area","floor_id","unshift","a","level","Infinity","floorId","floorNodeId","areaId","areaNodeId","hasData","title","layout","addDays","date","amount","options","_date","toDate","in","isNaN","constructFrom","NaN","setDate","getDate","addHours","addMilliseconds","millisecondsInHour","addMonths","dayOfMonth","endOfDesiredMonth","getTime","setMonth","getMonth","setFullYear","getFullYear","compareAsc","dateLeft","dateRight","diff","differenceInMilliseconds","laterDate","earlierDate","differenceInCalendarMonths","laterDate_","earlierDate_","normalizeDates","differenceInMonths","workingLaterDate","sign","difference","abs","isLastMonthNotFull","isLastDayOfMonth","endOfDay","setHours","endOfMonth","month","isFirstDayOfMonth"],"mappings":"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"}