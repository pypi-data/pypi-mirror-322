import{B as le,L as za}from"./ListItem-BIOYzg71.js";import{s as fe,c as $,a as Be,o as qe,w as te,b as je,C as La,u as Fe,d as ta,e as Aa,p as me,m as Wa,f as Ke,g as ve,h as ht,i as at,t as ee,j as _t,k as lt,r as A,l as gt,n as d,q as X,T as Ra,F as Y,v as aa,x as F,y as c,z as I,A as p,B as Q,D as b,E as ie,G as e,H as t,I as w,M as he,P as Ft,$ as Ue,J as C,K as V,L as Ha,N as Da,O as Ua,Q as la,R as G,S as R,U as Je,V as mt,W as vt,X as et,Y as j,Z as Te,_ as Z,a0 as ye,a1 as re,a2 as de,a3 as _e,a4 as tt,a5 as ia,a6 as oa,a7 as Na,a8 as Fa,a9 as sa,aa as Oa,ab as na,ac as xa,ad as Ya,ae as Xa,af as Oe,ag as Ga,ah as it,ai as ja,aj as Ot,ak as ra,al as ua,am as Ka,an as Za,ao as xt,ap as Ja,aq as el,ar as tl}from"./index-B55Az6uZ.js";import{D as al}from"./constants-BXWEQHoz.js";import{m as bt,a as Ve,b as wt,c as kt,d as ze,u as Pt,e as xe,f as Ct,g as It,h as ll,t as il,i as pe,V as Ee,j as ol,k as ce,l as sl,n as nl,o as da,p as rl,q as ca,r as ma,s as ul,v as we,w as N,x as dl,y as cl,z as ml,A as vl,M as pl,B as yl,C as fl}from"./VListItem-CTt5-rrr.js";import{u as ot,V as Ye,a as Ie}from"./VList-BbG08zRJ.js";import{m as hl,u as va,a as _l,V as Vt,f as gl,b as bl,s as wl,c as kl,d as Pl,e as pa}from"./VMenu-BJOay2FN.js";import{m as $t,u as St,a as Cl,b as Il,c as Vl}from"./layout-CXuYJmUE.js";import{_ as oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{M as Me,_ as $l,i as st,a as ya,b as Sl,g as Yt}from"./ItemContextMenu.vue_vue_type_style_index_0_scoped_3a9a25e3_lang-bhWnvEZi.js";import{_ as nt}from"./ProviderIcon.vue_vue_type_script_setup_true_lang-DmwHlomN.js";import{e as Ce}from"./eventbus-CGRXT3Tn.js";import{T as Ql,V as pt}from"./Toolbar-CnjrHAL9.js";import{V as Xe}from"./VCard-Ba6kturx.js";import{V as fa}from"./VDialog-B4Ltljs_.js";import{V as Tl,a as Ml}from"./VInfiniteScroll-08LzEGPu.js";import{V as ha}from"./VSlider-fbZzMnSw.js";import{M as ne,a as yt}from"./marquee_text_sync-D_EPQvtP.js";import{V as Bl}from"./VToolbar-Cw0gv67a.js";import{V as Ne,a as be}from"./VCardText-6y4Yo2hg.js";import{m as El,V as Xt,a as ql}from"./VChip-USL2zd6t.js";import{V as zl}from"./VVirtualScroll-Ds3B_Lds.js";import{V as Ll}from"./VCheckbox-BXkbvEGB.js";import{V as rt,a as ut,b as dt,c as Al}from"./VExpansionPanels-B7Tl_w95.js";import{V as Wl}from"./VAlert-DmQ6rEG3.js";import"./VCheckboxBtn-gndQvl0N.js";const Rl=""+new URL("icon-iUF3LVzp.png",import.meta.url).href;function Hl(a){let{rootEl:l,isSticky:s,layoutItemStyles:o}=a;const n=fe(!1),i=fe(0),u=$(()=>{const r=typeof n.value=="boolean"?"top":n.value;return[s.value?{top:"auto",bottom:"auto",height:void 0}:void 0,n.value?{[r]:Be(i.value)}:{top:o.value.top}]});qe(()=>{te(s,r=>{r?window.addEventListener("scroll",f,{passive:!0}):window.removeEventListener("scroll",f)},{immediate:!0})}),je(()=>{window.removeEventListener("scroll",f)});let m=0;function f(){const r=m>window.scrollY?"up":"down",h=l.value.getBoundingClientRect(),y=parseFloat(o.value.top??0),v=window.scrollY-Math.max(0,i.value-y),g=h.height+Math.max(i.value,y)-window.scrollY-window.innerHeight,_=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;h.height<window.innerHeight-y?(n.value="top",i.value=y):r==="up"&&n.value==="bottom"||r==="down"&&n.value==="top"?(i.value=window.scrollY+h.top-_,n.value=!0):r==="down"&&g<=0?(i.value=0,n.value="bottom"):r==="up"&&v<=0&&(_?n.value!=="top"&&(i.value=-v+_+y,n.value="top"):(i.value=h.top+v,n.value="top")),m=window.scrollY}return{isStuck:n,stickyStyles:u}}const Dl=100,Ul=20;function Gt(a){return(a<0?-1:1)*Math.sqrt(Math.abs(a))*1.41421356237}function jt(a){if(a.length<2)return 0;if(a.length===2)return a[1].t===a[0].t?0:(a[1].d-a[0].d)/(a[1].t-a[0].t);let l=0;for(let s=a.length-1;s>0;s--){if(a[s].t===a[s-1].t)continue;const o=Gt(l),n=(a[s].d-a[s-1].d)/(a[s].t-a[s-1].t);l+=(n-o)*Math.abs(n),s===a.length-1&&(l*=.5)}return Gt(l)*1e3}function Nl(){const a={};function l(n){Array.from(n.changedTouches).forEach(i=>{(a[i.identifier]??(a[i.identifier]=new La(Ul))).push([n.timeStamp,i])})}function s(n){Array.from(n.changedTouches).forEach(i=>{delete a[i.identifier]})}function o(n){var r;const i=(r=a[n])==null?void 0:r.values().reverse();if(!i)throw new Error(`No samples for touch id ${n}`);const u=i[0],m=[],f=[];for(const h of i){if(u[0]-h[0]>Dl)break;m.push({t:h[0],d:h[1].clientX}),f.push({t:h[0],d:h[1].clientY})}return{x:jt(m),y:jt(f),get direction(){const{x:h,y}=this,[v,g]=[Math.abs(h),Math.abs(y)];return v>g&&h>=0?"right":v>g&&h<=0?"left":g>v&&y>=0?"down":g>v&&y<=0?"up":Fl()}}}return{addMovement:l,endTouch:s,getVelocity:o}}function Fl(){throw new Error}function Ol(a){let{el:l,isActive:s,isTemporary:o,width:n,touchless:i,position:u}=a;qe(()=>{window.addEventListener("touchstart",U,{passive:!0}),window.addEventListener("touchmove",D,{passive:!1}),window.addEventListener("touchend",z,{passive:!0})}),je(()=>{window.removeEventListener("touchstart",U),window.removeEventListener("touchmove",D),window.removeEventListener("touchend",z)});const m=$(()=>["left","right"].includes(u.value)),{addMovement:f,endTouch:r,getVelocity:h}=Nl();let y=!1;const v=fe(!1),g=fe(0),_=fe(0);let S;function q(B,E){return(u.value==="left"?B:u.value==="right"?document.documentElement.clientWidth-B:u.value==="top"?B:u.value==="bottom"?document.documentElement.clientHeight-B:Qe())-(E?n.value:0)}function H(B){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const k=u.value==="left"?(B-_.value)/n.value:u.value==="right"?(document.documentElement.clientWidth-B-_.value)/n.value:u.value==="top"?(B-_.value)/n.value:u.value==="bottom"?(document.documentElement.clientHeight-B-_.value)/n.value:Qe();return E?Math.max(0,Math.min(1,k)):k}function U(B){if(i.value)return;const E=B.changedTouches[0].clientX,k=B.changedTouches[0].clientY,P=25,T=u.value==="left"?E<P:u.value==="right"?E>document.documentElement.clientWidth-P:u.value==="top"?k<P:u.value==="bottom"?k>document.documentElement.clientHeight-P:Qe(),L=s.value&&(u.value==="left"?E<n.value:u.value==="right"?E>document.documentElement.clientWidth-n.value:u.value==="top"?k<n.value:u.value==="bottom"?k>document.documentElement.clientHeight-n.value:Qe());(T||L||s.value&&o.value)&&(S=[E,k],_.value=q(m.value?E:k,s.value),g.value=H(m.value?E:k),y=_.value>-20&&_.value<80,r(B),f(B))}function D(B){const E=B.changedTouches[0].clientX,k=B.changedTouches[0].clientY;if(y){if(!B.cancelable){y=!1;return}const T=Math.abs(E-S[0]),L=Math.abs(k-S[1]);(m.value?T>L&&T>3:L>T&&L>3)?(v.value=!0,y=!1):(m.value?L:T)>3&&(y=!1)}if(!v.value)return;B.preventDefault(),f(B);const P=H(m.value?E:k,!1);g.value=Math.max(0,Math.min(1,P)),P>1?_.value=q(m.value?E:k,!0):P<0&&(_.value=q(m.value?E:k,!1))}function z(B){if(y=!1,!v.value)return;f(B),v.value=!1;const E=h(B.changedTouches[0].identifier),k=Math.abs(E.x),P=Math.abs(E.y);(m.value?k>P&&k>400:P>k&&P>3)?s.value=E.direction===({left:"right",right:"left",top:"down",bottom:"up"}[u.value]||Qe()):s.value=g.value>.5}const W=$(()=>v.value?{transform:u.value==="left"?`translateX(calc(-100% + ${g.value*n.value}px))`:u.value==="right"?`translateX(calc(100% - ${g.value*n.value}px))`:u.value==="top"?`translateY(calc(-100% + ${g.value*n.value}px))`:u.value==="bottom"?`translateY(calc(100% - ${g.value*n.value}px))`:Qe(),transition:"none"}:void 0);return Fe(v,()=>{var k,P;const B=((k=l.value)==null?void 0:k.style.transform)??null,E=((P=l.value)==null?void 0:P.style.transition)??null;ta(()=>{var T,L,x,ae;(L=l.value)==null||L.style.setProperty("transform",((T=W.value)==null?void 0:T.transform)||"none"),(ae=l.value)==null||ae.style.setProperty("transition",((x=W.value)==null?void 0:x.transition)||null)}),Aa(()=>{var T,L;(T=l.value)==null||T.style.setProperty("transform",B),(L=l.value)==null||L.style.setProperty("transition",E)})}),{isDragging:v,dragProgress:g,dragStyles:W}}function Qe(){throw new Error}const xl=["start","end","left","right","top","bottom"],Yl=me({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:a=>xl.includes(a)},sticky:Boolean,...bt(),...Ve(),...hl(),...Wa({mobile:null}),...wt(),...$t(),...kt(),...ze({tag:"nav"}),...Ke()},"VNavigationDrawer"),_a=ve()({name:"VNavigationDrawer",props:Yl(),emits:{"update:modelValue":a=>!0,"update:rail":a=>!0},setup(a,l){let{attrs:s,emit:o,slots:n}=l;const{isRtl:i}=ht(),{themeClasses:u}=at(a),{borderClasses:m}=Pt(a),{backgroundColorClasses:f,backgroundColorStyles:r}=xe(ee(a,"color")),{elevationClasses:h}=Ct(a),{displayClasses:y,mobile:v}=_t(a),{roundedClasses:g}=It(a),_=ll(),S=lt(a,"modelValue",null,J=>!!J),{ssrBootStyles:q}=ot(),{scopeId:H}=va(),U=A(),D=fe(!1),{runOpenDelay:z,runCloseDelay:W}=_l(a,J=>{D.value=J}),B=$(()=>a.rail&&a.expandOnHover&&D.value?Number(a.width):Number(a.rail?a.railWidth:a.width)),E=$(()=>il(a.location,i.value)),k=$(()=>a.persistent),P=$(()=>!a.permanent&&(v.value||a.temporary)),T=$(()=>a.sticky&&!P.value&&E.value!=="bottom");Fe(()=>a.expandOnHover&&a.rail!=null,()=>{te(D,J=>o("update:rail",!J))}),Fe(()=>!a.disableResizeWatcher,()=>{te(P,J=>!a.permanent&&aa(()=>S.value=!J))}),Fe(()=>!a.disableRouteWatcher&&!!_,()=>{te(_.currentRoute,()=>P.value&&(S.value=!1))}),te(()=>a.permanent,J=>{J&&(S.value=!0)}),a.modelValue==null&&!P.value&&(S.value=a.permanent||!v.value);const{isDragging:L,dragProgress:x}=Ol({el:U,isActive:S,isTemporary:P,width:B,touchless:ee(a,"touchless"),position:E}),ae=$(()=>{const J=P.value?0:a.rail&&a.expandOnHover?Number(a.railWidth):B.value;return L.value?J*x.value:J}),se=$(()=>["top","bottom"].includes(a.location)?0:B.value),{layoutItemStyles:ue,layoutItemScrimStyles:ke}=St({id:a.name,order:$(()=>parseInt(a.order,10)),position:E,layoutSize:ae,elementSize:se,active:$(()=>S.value||L.value),disableTransitions:$(()=>L.value),absolute:$(()=>a.absolute||T.value&&typeof ge.value!="string")}),{isStuck:ge,stickyStyles:Pe}=Hl({rootEl:U,isSticky:T,layoutItemStyles:ue}),Le=xe($(()=>typeof a.scrim=="string"?a.scrim:null)),Ze=$(()=>({...L.value?{opacity:x.value*.2,transition:"none"}:void 0,...ke.value}));return gt({VList:{bgColor:"transparent"}}),pe(()=>{const J=n.image||a.image;return d(Y,null,[d(a.tag,X({ref:U,onMouseenter:z,onMouseleave:W,class:["v-navigation-drawer",`v-navigation-drawer--${E.value}`,{"v-navigation-drawer--expand-on-hover":a.expandOnHover,"v-navigation-drawer--floating":a.floating,"v-navigation-drawer--is-hovering":D.value,"v-navigation-drawer--rail":a.rail,"v-navigation-drawer--temporary":P.value,"v-navigation-drawer--persistent":k.value,"v-navigation-drawer--active":S.value,"v-navigation-drawer--sticky":T.value},u.value,f.value,m.value,y.value,h.value,g.value,a.class],style:[r.value,ue.value,q.value,Pe.value,a.style,["top","bottom"].includes(E.value)?{height:"auto"}:{}]},H,s),{default:()=>{var Ae,We,Re;return[J&&d("div",{key:"image",class:"v-navigation-drawer__img"},[n.image?d(ol,{key:"image-defaults",disabled:!a.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:a.image}}},n.image):d(Ee,{key:"image-img",alt:"",cover:!0,height:"inherit",src:a.image},null)]),n.prepend&&d("div",{class:"v-navigation-drawer__prepend"},[(Ae=n.prepend)==null?void 0:Ae.call(n)]),d("div",{class:"v-navigation-drawer__content"},[(We=n.default)==null?void 0:We.call(n)]),n.append&&d("div",{class:"v-navigation-drawer__append"},[(Re=n.append)==null?void 0:Re.call(n)])]}}),d(Ra,{name:"fade-transition"},{default:()=>[P.value&&(L.value||S.value)&&!!a.scrim&&d("div",X({class:["v-navigation-drawer__scrim",Le.backgroundColorClasses.value],style:[Ze.value,Le.backgroundColorStyles.value],onClick:()=>{k.value||(S.value=!1)}},H),null)]})])}),{isStuck:ge}}}),ga=function(){const a=localStorage.getItem("frontend.settings.menu_items"),l=a?a.split(","):al,s=[];for(const o of l)o==="home"&&s.push({label:"home",icon:"mdi-home-outline",path:"/home",isLibraryNode:!1}),o==="search"&&s.push({label:"search",icon:"mdi-magnify",path:"/search",isLibraryNode:!1}),o==="artists"&&s.push({label:"artists",icon:"mdi-account-outline",path:"/artists",isLibraryNode:!0,hidden:t.libraryArtistsCount===0}),o==="albums"&&s.push({label:"albums",icon:"mdi-album",path:"/albums",isLibraryNode:!0,hidden:t.libraryAlbumsCount===0}),o==="tracks"&&s.push({label:"tracks",icon:"mdi-music-note",path:"/tracks",isLibraryNode:!0,hidden:t.libraryTracksCount===0}),o==="playlists"&&s.push({label:"playlists",icon:"mdi-playlist-play",path:"/playlists",isLibraryNode:!0,hidden:t.libraryPlaylistsCount===0}),o==="podcasts"&&s.push({label:"podcasts",icon:"mdi-podcast",path:"/podcasts",isLibraryNode:!0,hidden:t.libraryPodcastsCount===0}),o==="audiobooks"&&s.push({label:"audiobooks",icon:"mdi-book-play-outline",path:"/audiobooks",isLibraryNode:!0,hidden:t.libraryAudiobooksCount===0}),o==="radios"&&s.push({label:"radios",icon:"mdi-access-point",path:"/radios",isLibraryNode:!0,hidden:t.libraryRadiosCount===0}),o==="browse"&&s.push({label:"browse",icon:"mdi-folder-outline",path:"/browse",isLibraryNode:!0}),o==="settings"&&s.push({label:"settings.settings",icon:"mdi-cog-outline",path:"/settings",isLibraryNode:!0});return s},Xl=F({__name:"DrawerNavigation",setup(a){const l=A(!0),s=A(!1),o=ga();return(n,i)=>(c(),I(_a,{modelValue:l.value,"onUpdate:modelValue":i[1]||(i[1]=u=>l.value=u),app:"",rail:s.value,width:280},{default:p(()=>[d(ce,{style:{height:"55px"},active:!1},{prepend:p(()=>i[2]||(i[2]=[Q("img",{class:"logo_icon",size:"40",src:Rl},null,-1)])),title:p(()=>i[3]||(i[3]=[Q("div",{class:"logo_text"},"Music Assistant",-1)])),_:1}),d(Ye),d(Ie,{lines:"one",density:"compact",nav:""},{default:p(()=>[(c(!0),b(Y,null,ie(e(o).filter(u=>!u.hidden),u=>(c(),I(ce,{key:u.path,nav:"",density:"compact",height:15,title:n.$t(u.label),"prepend-icon":u.icon,to:u.path},null,8,["title","prepend-icon","to"]))),128))]),_:1}),d(le,{nav:"",height:15,width:40,style:{position:"relative",float:"right",right:"10px",top:"20px"},ripple:!1,icon:s.value?"mdi-chevron-right":"mdi-chevron-left",title:n.$t("tooltip.show_menu"),onClick:i[0]||(i[0]=u=>s.value=!s.value)},null,8,["icon","title"])]),_:1},8,["modelValue","rail"]))}}),Gl=oe(Xl,[["__scopeId","data-v-8c634824"]]),jl={class:"media-thumb"},Kl={style:{"margin-left":"-10px","padding-right":"5px"}},Zl=F({__name:"AddToPlaylistDialog",setup(a){const l=A(!1),s=A([]),o=A([]),n=A(),i=A([]);qe(()=>{Ce.on("playlistdialog",async h=>{l.value=!0,i.value=h.items,n.value=h.parentItem,await u()}),je(()=>{Ce.off("playlistdialog")})});const u=async function(){s.value=[],o.value=[];const h=await w.getLibraryPlaylists(),y=i.value.length?i.value[0]:void 0;for(const v of h){if(!v.provider_mappings.filter(_=>_.available).length||!v.is_editable||n.value&&n.value.media_type===he.PLAYLIST&&v.item_id===n.value.item_id)continue;const g=w.providers[v.provider_mappings[0].provider_instance];g&&(g.domain=="builtin"||g.is_streaming_provider||y!=null&&y.provider_mappings.filter(_=>_.provider_instance==g.instance_id).length)&&s.value.push(v)}for(const v of Object.values(w.providers))v.supported_features.includes(Ft.PLAYLIST_CREATE)&&v.supported_features.includes(Ft.PLAYLIST_TRACKS_EDIT)&&(v.domain=="builtin"||v.is_streaming_provider||y!=null&&y.provider_mappings.filter(g=>g.provider_instance==v.instance_id).length)&&o.value.push(v.instance_id)},m=async function(h){if(i.value[0].media_type===he.TRACK)w.addPlaylistTracks(h.item_id,i.value.map(v=>v.uri));else if(i.value[0].media_type===he.ALBUM){var y=await w.getAlbumTracks(i.value[0].item_id,i.value[0].provider);w.addPlaylistTracks(h.item_id,y.map(v=>v.uri))}r(),t.activeAlert={type:Ha.INFO,message:Ue("background_task_added"),persistent:!1}},f=async function(h){const y=prompt(Ue("new_playlist_name"));if(!y)return;const v=await w.createPlaylist(y,h);m(v)},r=function(){l.value=!1};return(h,y)=>(c(),I(fa,{modelValue:l.value,"onUpdate:modelValue":[y[0]||(y[0]=v=>l.value=v),y[1]||(y[1]=v=>{e(t).dialogActive=v})],fullscreen:"",transition:"dialog-bottom-transition"},{default:p(()=>[d(Xe,null,{default:p(()=>[d(Ql,{icon:"mdi-playlist-plus",title:e(Ue)("add_playlist"),"menu-items":[{label:"close",icon:"mdi-close",action:r}]},null,8,["title","menu-items"]),d(Ye),y[4]||(y[4]=Q("br",null,null,-1)),d(Ie,null,{default:p(()=>[(c(!0),b(Y,null,ie(s.value,v=>(c(),b("div",{key:v.item_id},[d(ce,{onClick:g=>m(v)},{prepend:p(()=>[Q("div",jl,[d(Me,{item:v,size:50},null,8,["item"])])]),title:p(()=>[Q("div",null,C(v.name),1)]),subtitle:p(()=>[Q("div",null,C(v.owner),1)]),append:p(()=>[v.provider_mappings?(c(),I(nt,{key:0,domain:v.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):V("",!0)]),_:2},1032,["onClick"])]))),128)),y[2]||(y[2]=Q("div",{style:{height:"30px"}},null,-1)),d(Ye),y[3]||(y[3]=Q("div",{style:{height:"30px"}},null,-1)),(c(!0),b(Y,null,ie(o.value,v=>(c(),b("div",{key:v},[d(ce,{onClick:g=>f(v)},{prepend:p(()=>[Q("div",Kl,[d(nt,{domain:e(w).providers[v].domain,size:50},null,8,["domain"])])]),title:p(()=>[Q("div",null,C(e(Ue)("new_playlist")),1)]),subtitle:p(()=>[Q("div",null,C(e(Ue)("create_playlist_on",[e(w).providers[v].name])),1)]),append:p(()=>[d(nt,{domain:e(w).providers[v].domain,size:20},null,8,["domain"])]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Jl=oe(Zl,[["__scopeId","data-v-a7c53a67"]]),ei=oe($l,[["__scopeId","data-v-3a9a25e3"]]),ti=me({scrollable:Boolean,...Ve(),...sl(),...ze({tag:"main"})},"VMain"),ai=ve()({name:"VMain",props:ti(),setup(a,l){let{slots:s}=l;const{dimensionStyles:o}=nl(a),{mainStyles:n}=Cl(),{ssrBootStyles:i}=ot();return pe(()=>d(a.tag,{class:["v-main",{"v-main--scrollable":a.scrollable},a.class],style:[n.value,i.value,o.value,a.style]},{default:()=>{var u,m;return[a.scrollable?d("div",{class:"v-main__scroller"},[(u=s.default)==null?void 0:u.call(s)]):(m=s.default)==null?void 0:m.call(s)]}})),{}}}),Kt=F({__name:"View",setup(a){return(l,s)=>{const o=Da("router-view");return c(),I(ai,{id:"cont",class:"overflow-y-auto",style:{height:"0px"}},{default:p(()=>{var n,i,u;return[e(t).navigationMenuStyle=="vertical"&&!e(t).frameless?(c(),I(Gl,{key:0})):V("",!0),d(o,null,{default:p(({Component:m})=>[(c(),I(Ua(m)))]),_:1}),d(Jl),d(ei),d(Tl,{"model-value":e(t).activeAlert!==void 0,color:((n=e(t).activeAlert)==null?void 0:n.type)||"grey",text:(i=e(t).activeAlert)==null?void 0:i.message,"close-on-content-click":"",position:"sticky",timeout:(u=e(t).activeAlert)!=null&&u.persistent?-1:5e3,"z-index":"999999",style:{"z-index":"999999"},"onUpdate:modelValue":s[0]||(s[0]=()=>e(t).activeAlert=void 0)},null,8,["model-value","color","text","timeout"])]}),_:1})}}}),li=me({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:a=>!a||["horizontal","shift"].includes(a)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...bt(),...Ve(),...da(),...wt(),...kt(),...$t({name:"bottom-navigation"}),...ze({tag:"header"}),...rl({selectedClass:"v-btn--selected"}),...Ke()},"VBottomNavigation"),ii=ve()({name:"VBottomNavigation",props:li(),emits:{"update:active":a=>!0,"update:modelValue":a=>!0},setup(a,l){let{slots:s}=l;const{themeClasses:o}=la(),{borderClasses:n}=Pt(a),{backgroundColorClasses:i,backgroundColorStyles:u}=xe(ee(a,"bgColor")),{densityClasses:m}=ca(a),{elevationClasses:f}=Ct(a),{roundedClasses:r}=It(a),{ssrBootStyles:h}=ot(),y=$(()=>Number(a.height)-(a.density==="comfortable"?8:0)-(a.density==="compact"?16:0)),v=lt(a,"active",a.active),{layoutItemStyles:g}=St({id:a.name,order:$(()=>parseInt(a.order,10)),position:$(()=>"bottom"),layoutSize:$(()=>v.value?y.value:0),elementSize:y,active:v,absolute:ee(a,"absolute")});return ma(a,ul),gt({VBtn:{baseColor:ee(a,"baseColor"),color:ee(a,"color"),density:ee(a,"density"),stacked:$(()=>a.mode!=="horizontal"),variant:"text"}},{scoped:!0}),pe(()=>d(a.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":v.value,"v-bottom-navigation--grow":a.grow,"v-bottom-navigation--shift":a.mode==="shift"},o.value,i.value,n.value,m.value,f.value,r.value,a.class],style:[u.value,g.value,{height:Be(y.value)},h.value,a.style]},{default:()=>[s.default&&d("div",{class:"v-bottom-navigation__content"},[s.default()])]})),{}}}),oi={class:"menuButton"},si={class:"menuButton"},ni={class:"menuButton"},ri=F({__name:"BottomNavigation",props:{height:{}},setup(a){const l=ga(),s=A(!1);return(o,n)=>(c(),I(ii,{height:o.height,grow:"",elevation:"15",style:{"border-top":"1px solid #20202035"},role:"navigation"},{default:p(()=>[e(G)("tablet")?(c(!0),b(Y,{key:0},ie(e(l),i=>(c(),I(we,{key:i.label,to:i.path,"aria-label":o.$t(i.label),tabindex:"0"},{default:p(()=>[d(N,{size:"xx-large"},{default:p(()=>[R(C(i.icon),1)]),_:2},1024),Q("span",oi,C(o.$t(i.label)),1)]),_:2},1032,["to","aria-label"]))),128)):(c(),b(Y,{key:1},[(c(!0),b(Y,null,ie(e(l).filter(i=>!i.isLibraryNode),i=>(c(),I(we,{key:i.label,to:i.path,"aria-label":o.$t(i.label),tabindex:"0"},{default:p(()=>[d(N,{size:"xx-large"},{default:p(()=>[R(C(i.icon),1)]),_:2},1024),Q("span",si,C(o.$t(i.label)),1)]),_:2},1032,["to","aria-label"]))),128)),d(Vt,null,{activator:p(({props:i})=>[d(we,X(i,{"aria-haspopup":"true","aria-expanded":s.value.toString(),"aria-label":"Open library menu"}),{default:p(()=>[d(N,{size:"xx-large"},{default:p(()=>n[0]||(n[0]=[R("mdi-bookshelf")])),_:1}),Q("span",ni,C(o.$t("library")),1)]),_:2},1040,["aria-expanded"])]),default:p(()=>[d(Ie,null,{default:p(()=>[(c(!0),b(Y,null,ie(e(l).filter(i=>i.isLibraryNode),i=>(c(),I(ce,{key:i.label,title:o.$t(i.label),"prepend-icon":i.icon,to:i.path},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),_:1})],64))]),_:1},8,["height"]))}}),ui=oe(ri,[["__scopeId","data-v-5c8e33d1"]]),di={style:{width:"auto"}},ci={key:0,style:{width:"100%"}},mi=["onClick"],vi={key:0,class:"time-text-row"},pi={class:"text-caption time-text-right"},yi=F({__name:"PlayerTimeline",props:{showLabels:{type:Boolean,default:!1}},setup(a){const l=A(!1),s=A(!0),o=A(!1),n=A(0),i=A(0),u=$(()=>t.curQueueItem?l.value?`-${Je(t.curQueueItem.duration-f.value)}`:`${Je(f.value)}`:"0:00"),m=$(()=>{var _;if(!t.curQueueItem||!t.curQueueItem.duration||((_=t.curQueueItem.media_item)==null?void 0:_.media_type)==he.RADIO)return"";const g=t.curQueueItem.duration;return Je(g)}),f=$(()=>o.value?(i.value=n.value,n.value):t.activePlayerQueue?t.activePlayerQueue.elapsed_time:0),r=$(()=>{var _,S,q;const g={};return(q=(S=(_=t.curQueueItem)==null?void 0:_.media_item)==null?void 0:S.metadata)!=null&&q.chapters&&t.curQueueItem.media_item.metadata.chapters.forEach(H=>{g[H.start]=H.name}),g});te(f,g=>{o.value||(n.value=g)});const h=function(){o.value=!0},y=()=>{o.value=!1,!o.value&&t.activePlayer&&w.playerCommandSeek(t.activePlayer.player_id,Math.round(i.value))},v=function(g){var _,S,q;if((q=(S=(_=t.curQueueItem)==null?void 0:_.media_item)==null?void 0:S.metadata)!=null&&q.chapters){for(const H of t.curQueueItem.media_item.metadata.chapters)if(H.start==g){w.playMedia(t.curQueueItem.media_item.uri,void 0,void 0,H.position.toString());return}}};return(g,_)=>{var S;return c(),b("div",di,[e(t).activePlayerQueue?(c(),b("div",ci,[d(ha,{modelValue:n.value,"onUpdate:modelValue":_[0]||(_[0]=q=>n.value=q),disabled:!e(t).curQueueItem||!e(t).curQueueItem.media_item||!e(t).curQueueItem.duration||e(t).curQueueItem.media_item.media_type==e(he).RADIO,style:{width:"100%"},min:0,max:(S=e(t).curQueueItem)==null?void 0:S.duration,"hide-details":"","track-size":2,"thumb-size":s.value?0:10,"show-ticks":r.value?"always":!1,ticks:r.value,"tick-size":"4",onTouchstart:_[1]||(_[1]=q=>s.value=!1),onTouchend:_[2]||(_[2]=q=>s.value=!0),onMouseenter:_[3]||(_[3]=q=>s.value=!1),onMouseleave:_[4]||(_[4]=q=>s.value=!0),onStart:h,onEnd:y},{"tick-label":p(({tick:q})=>[g.showLabels&&!s.value&&Object.values(r.value).length<6?(c(),b("a",{key:0,class:"text-caption",onClick:H=>v(q.value)},C(q.label),9,mi)):V("",!0)]),_:1},8,["modelValue","disabled","max","thumb-size","show-ticks","ticks"]),g.showLabels?(c(),b("div",vi,[Q("div",{class:"text-caption time-text-left",onClick:_[5]||(_[5]=q=>l.value?l.value=!1:l.value=!0)},C(u.value),1),Q("div",pi,C(m.value),1)])):V("",!0)])):V("",!0)])}}}),ba=oe(yi,[["__scopeId","data-v-50cb7560"]]),fi=F({__name:"ResponsiveIcon",props:{width:{default:void 0},height:{default:void 0},staticWidth:{default:void 0},staticHeight:{default:void 0},maxWidth:{default:void 0},maxHeight:{default:void 0},minWidth:{default:"24px"},minHeight:{default:"24px"},icon:{default:void 0},type:{default:"icon"},color:{default:void 0},disabled:{type:Boolean},badge:{type:Boolean,default:void 0}},emits:["click"],setup(a,{emit:l}){const s=()=>{if(o.value){const i=o.value.offsetWidth,u=o.value.offsetHeight,m=Math.min(i,u);n.value.$el.style.fontSize=`${m}px`}},o=A(),n=A();return qe(()=>{s(),window.addEventListener("resize",s)}),je(()=>{window.removeEventListener("resize",s)}),(i,u)=>(c(),b("div",{ref_key:"responsiveIconHolder",ref:o,class:et([i.type=="btn"&&!i.disabled?"responsive-icon-holder-btn":"responsive-icon-holder"]),style:j({width:i.staticWidth?i.staticWidth:i.width,height:i.staticWidth?i.staticWidth:i.height,maxHeight:i.staticHeight?i.staticHeight:i.maxHeight,maxWidth:i.staticWidth?i.staticWidth:i.maxWidth,minHeight:i.staticHeight?i.staticHeight:i.minHeight,minWidth:i.staticWidth?i.staticWidth:i.minWidth}),onClick:u[0]||(u[0]=m=>i.disabled?m.preventDefault():i.$emit("click",m))},[d(pt,{"model-value":i.badge==!0,color:"error",dot:""},{default:p(()=>[i.type==="icon"?(c(),I(N,{key:0,ref_key:"responsiveIcon",ref:n,class:"responsive-icon",color:i.color?i.color:"",icon:i.icon?i.icon:"mdi-check",width:i.staticWidth?i.staticWidth:null,height:i.staticHeight?i.staticHeight:null,disabled:i.disabled},mt({_:2},[ie(i.$slots,(m,f)=>({name:f,fn:p(()=>[vt(i.$slots,f,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):i.type==="btn"?(c(),I(N,{key:1,ref_key:"responsiveIcon",ref:n,class:"responsive-icon",style:{cursor:"pointer"},color:i.color?i.color:"",icon:i.icon?i.icon:"mdi-check",width:i.staticWidth?i.staticWidth:null,height:i.staticHeight?i.staticHeight:null,disabled:i.disabled},mt({_:2},[ie(i.$slots,(m,f)=>({name:f,fn:p(()=>[vt(i.$slots,f,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):V("",!0)]),_:3},8,["model-value"])],6))}}),$e=oe(fi,[["__scopeId","data-v-2c9253ab"]]),wa=F({__name:"RepeatBtn",props:{playerQueue:{},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(l,s)=>{var o,n;return l.isVisible&&l.playerQueue?(c(),I($e,X({key:0},l.icon,{disabled:!l.playerQueue.active||l.playerQueue.items==0,color:e(Te)((o=l.icon)==null?void 0:o.color,[[l.playerQueue.repeat_mode==e(Z).OFF,null],[l.playerQueue.repeat_mode==e(Z).ALL,"primary"],[l.playerQueue.repeat_mode==e(Z).ONE,"primary"]]),icon:e(Te)((n=l.icon)==null?void 0:n.icon,[[l.playerQueue.repeat_mode==e(Z).OFF,"mdi-repeat-off"],[l.playerQueue.repeat_mode==e(Z).ALL,"mdi-repeat"],[l.playerQueue.repeat_mode==e(Z).ONE,"mdi-repeat-once"],[!0,"mdi-repeat-off"]]),type:"btn",onClick:s[0]||(s[0]=i=>e(w).queueCommandRepeat(l.playerQueue.queue_id||"",e(Te)(null,[[l.playerQueue.repeat_mode==e(Z).OFF,e(Z).ONE],[l.playerQueue.repeat_mode==e(Z).ALL,e(Z).OFF],[l.playerQueue.repeat_mode==e(Z).ONE,e(Z).ALL]])))}),null,16,["disabled","color","icon"])):V("",!0)}}}),ka=F({__name:"ShuffleBtn",props:{playerQueue:{},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(l,s)=>{var o,n;return l.isVisible&&l.playerQueue?(c(),I($e,X({key:0},l.icon,{disabled:!l.playerQueue.active||l.playerQueue.items==0,color:e(Te)((o=l.icon)==null?void 0:o.color,[[l.playerQueue.shuffle_enabled,"primary",""]]),icon:e(Te)((n=l.icon)==null?void 0:n.icon,[[l.playerQueue.shuffle_enabled,"mdi-shuffle"],[l.playerQueue.shuffle_enabled==!1,"mdi-shuffle-disabled"],[!0,"mdi-shuffle"]]),type:"btn",onClick:s[0]||(s[0]=i=>e(w).queueCommandShuffle(l.playerQueue.queue_id,!l.playerQueue.shuffle_enabled))}),null,16,["disabled","color","icon"])):V("",!0)}}}),Pa=F({__name:"PlayBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},withCircle:{type:Boolean,default:!0},icon:{default:void 0},iconStyle:{default:"circle"}},setup(a){const l=a,s=$(()=>l.playerQueue?l.playerQueue.items>0:!1),o=$(()=>{var i;return!(!l.player||(i=l.playerQueue)!=null&&i.active||!l.player.current_media)}),n=$(()=>{var i;return((i=l.player)==null?void 0:i.state)==ye.PLAYING?"mdi-pause":"mdi-play"});return(i,u)=>i.isVisible&&i.player?(c(),I($e,X({key:0},i.icon,{disabled:!s.value&&!o.value,icon:i.iconStyle?`${n.value}-${i.iconStyle}`:n.value,type:"btn",onClick:u[0]||(u[0]=m=>e(w).playerCommandPlayPause(i.player.player_id))}),null,16,["disabled","icon"])):V("",!0)}}),Ca=F({__name:"PreviousBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a,s=$(()=>{var n,i;return!((n=l.playerQueue)!=null&&n.active)||!((i=l.playerQueue)!=null&&i.items)||!l.playerQueue.current_index?!1:l.playerQueue.current_index>0}),o=$(()=>{var n;return!l.player||(n=l.playerQueue)!=null&&n.active||!l.player.current_media?!1:l.player.supported_features.includes(re.NEXT_PREVIOUS)});return(n,i)=>n.isVisible&&n.player?(c(),I($e,X({key:0},n.icon,{disabled:!s.value&&!o.value,icon:"mdi-skip-previous-outline",type:"btn",onClick:i[0]||(i[0]=u=>e(w).playerCommandPrevious(n.player.player_id))}),null,16,["disabled"])):V("",!0)}}),Ia=F({__name:"NextBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a,s=$(()=>{var n;return(n=l.playerQueue)!=null&&n.active?(l.playerQueue.current_index||0)<l.playerQueue.items-1:!1}),o=$(()=>{var n;return!l.player||(n=l.playerQueue)!=null&&n.active||!l.player.current_media?!1:l.player.supported_features.includes(re.NEXT_PREVIOUS)});return(n,i)=>n.isVisible&&n.player?(c(),I($e,X({key:0},n.icon,{disabled:!s.value&&!o.value,icon:"mdi-skip-next-outline",type:"btn",onClick:i[0]||(i[0]=u=>e(w).playerCommandNext(n.player.player_id))}),null,16,["disabled"])):V("",!0)}}),hi={key:0,class:"player-controls"},_i={key:0,class:"player-controls-elements"},gi={key:1,class:"player-controls-elements"},bi={key:2},wi={key:3,class:"player-controls-elements"},ki={key:4,class:"player-controls-elements"},Zt=F({__name:"PlayerControls",props:{visibleComponents:{default:()=>({repeat:{isVisible:!0},shuffle:{isVisible:!0},play:{isVisible:!0},previous:{isVisible:!0},next:{isVisible:!0}})}},setup(a){return(l,s)=>{var o,n,i,u,m;return l.visibleComponents?(c(),b("div",hi,[l.visibleComponents&&((o=l.visibleComponents.shuffle)!=null&&o.isVisible)?(c(),b("div",_i,[d(ka,{"player-queue":e(t).activePlayerQueue,class:"media-controls-item",icon:l.visibleComponents.shuffle.icon},null,8,["player-queue","icon"])])):V("",!0),l.visibleComponents&&((n=l.visibleComponents.previous)!=null&&n.isVisible)?(c(),b("div",gi,[d(Ca,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item",icon:l.visibleComponents.previous.icon},null,8,["player","player-queue","icon"])])):V("",!0),l.visibleComponents&&((i=l.visibleComponents.play)!=null&&i.isVisible)?(c(),b("div",bi,[d(Pa,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","icon-style":l.visibleComponents.play.withCircle?"circle":"",icon:l.visibleComponents.play.icon},null,8,["player","player-queue","icon-style","icon"])])):V("",!0),l.visibleComponents&&((u=l.visibleComponents.next)!=null&&u.isVisible)?(c(),b("div",wi,[d(Ia,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,icon:l.visibleComponents.next.icon,"static-height":"24px","static-width":"24px"},null,8,["player","player-queue","icon"])])):V("",!0),l.visibleComponents&&((m=l.visibleComponents.repeat)!=null&&m.isVisible)?(c(),b("div",ki,[d(wa,{"player-queue":e(t).activePlayerQueue,icon:l.visibleComponents.repeat.icon,"static-height":"24px","static-width":"24px"},null,8,["player-queue","icon"])])):V("",!0)])):V("",!0)}}}),Pi={props:{width:String,height:String,style:String,isPowered:Boolean,allowWheel:Boolean},emits:["update:model-value"],setup(a,l){const s=A(!0),o=$(()=>({class:"player-volume",hideDetails:!0,trackSize:2,thumbSize:s.value?0:10,step:2,elevation:0,style:`width: ${a.width}; height:${a.height}; display: inline-grid; ${a.style}`,disabled:!a.isPowered})),n=$(()=>({...o.value,...l}));return{isThumbHidden:s,playerVolumeProps:n,onWheel:({deltaY:u})=>{if(!a.allowWheel)return;const m=n.value.step,f=l.attrs["model-value"],r=u<0?m:-m;l.emit("update:model-value",f+r)}}}};function Ci(a,l,s,o,n,i){return c(),I(ha,X(o.playerVolumeProps,{onTouchstart:l[0]||(l[0]=u=>o.isThumbHidden=!1),onTouchend:l[1]||(l[1]=u=>o.isThumbHidden=!0),onMouseenter:l[2]||(l[2]=u=>o.isThumbHidden=!1),onMouseleave:l[3]||(l[3]=u=>o.isThumbHidden=!0),onWheel:de(o.onWheel,["prevent"]),onEnd:l[4]||(l[4]=u=>a.$emit("update:model-value",u))}),mt({_:2},[ie(a.$slots,(u,m)=>({name:m,fn:p(()=>[vt(a.$slots,m,{},void 0,!0)])}))]),1040,["onWheel"])}const Ge=oe(Pi,[["render",Ci],["__scopeId","data-v-e5af1148"]]),Va=F({__name:"QueueBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=function(){t.showFullscreenPlayer&&t.showQueueItems?t.showQueueItems=!1:t.showFullscreenPlayer&&!t.showQueueItems?t.showQueueItems=!0:(t.showQueueItems=!0,t.showFullscreenPlayer=!0)};return(s,o)=>{var n;return s.isVisible?(c(),I($e,X({key:0},s.icon,{disabled:!e(t).activePlayerId||e(t).showFullscreenPlayer&&!e(t).curQueueItem&&!e(t).showQueueItems,icon:"mdi-playlist-play",color:e(Te)((n=s.icon)==null?void 0:n.color,[[e(t).showFullscreenPlayer&&e(t).showQueueItems,"primary",""]]),type:"btn",onClick:l}),null,16,["disabled","color"])):V("",!0)}}}),$a=F({__name:"SpeakerBtn",props:{color:{}},setup(a){return(l,s)=>(c(),I(le,{variant:"icon",ripple:!1,icon:"",onClick:s[0]||(s[0]=o=>e(t).showPlayersMenu=!0)},{default:p(()=>{var o;return[d(N,{color:l.color?l.color:"",size:24,icon:(o=e(t).activePlayer)!=null&&o.group_childs.length?"mdi-speaker-multiple":"mdi-speaker"},null,8,["color","icon"])]}),_:1}))}}),Sa=(a,l)=>{const s=[{label:a.powered?"power_off_player":"power_on_player",labelArgs:[],action:()=>{w.playerCommandPowerToggle(a.player_id)},icon:"mdi-power"}];(a==null?void 0:a.state)=="playing"&&s.push({label:"stop_playback",labelArgs:[],action:()=>{w.playerCommandStop(a.player_id)},icon:"mdi-stop"});const o=Object.values(w.players).filter(n=>n.player_id!=a.player_id&&n.available&&n.enabled&&(n.can_group_with.includes(a.provider)||n.can_group_with.includes(a.player_id))&&n.supported_features.includes(re.SET_MEMBERS)&&!n.synced_to);return a.supported_features.includes(re.SET_MEMBERS)&&!a.synced_to&&a.type==_e.PLAYER&&a.group_childs.length==0&&o.length>0&&s.push({label:"sync_player_with",labelArgs:[],icon:"mdi-link-variant",subItems:o.map(n=>({label:n.display_name,labelArgs:[],action:()=>{w.playerCommandGroup(a.player_id,n.player_id)}})).sort((n,i)=>{var u;return n.label.toUpperCase()>((u=i.label)==null?void 0:u.toUpperCase())?1:-1})}),l&&s.push({label:l.shuffle_enabled?"shuffle_disable":"shuffle_enable",labelArgs:[],action:()=>{w.queueCommandShuffleToggle(l.queue_id)},icon:l.shuffle_enabled?"mdi-shuffle-disabled":"mdi-shuffle"}),l&&s.push({label:"select_repeat_mode",labelArgs:[],subItems:[{label:"repeat_mode.off",labelArgs:[],action:()=>{w.queueCommandRepeat(l.queue_id,Z.OFF)},selected:l.repeat_mode==Z.OFF},{label:"repeat_mode.all",labelArgs:[],action:()=>{w.queueCommandRepeat(l.queue_id,Z.ALL)},selected:l.repeat_mode==Z.ALL},{label:"repeat_mode.one",labelArgs:[],action:()=>{w.queueCommandRepeat(l.queue_id,Z.ONE)},selected:l.repeat_mode==Z.ONE}],icon:"mdi-repeat"}),l!=null&&l.items&&s.push({label:"transfer_queue",icon:"mdi-swap-horizontal",subItems:Object.values(w.players).filter(n=>n.player_id!=l.queue_id&&n.player_id!=a.player_id&&n.available&&n.enabled&&!n.synced_to).map(n=>({label:n.display_name,labelArgs:[],action:()=>{w.queueCommandTransfer(l.queue_id,n.player_id),t.activePlayerId=n.player_id}})).sort((n,i)=>{var u;return n.label.toUpperCase()>((u=i.label)==null?void 0:u.toUpperCase())?1:-1})}),l!=null&&l.items&&s.push({label:"queue_clear",labelArgs:[],action:()=>{w.queueCommandClear(l.queue_id)},icon:"mdi-cancel"}),l&&"dont_stop_the_music_enabled"in l&&s.push({label:l.dont_stop_the_music_enabled?"dont_stop_the_music_disable":"dont_stop_the_music_enable",labelArgs:[],action:()=>{w.queueCommandDontStopTheMusicToggle(l.queue_id)},icon:"mdi-all-inclusive"}),s.push({label:"open_player_settings",labelArgs:[],action:()=>{t.showFullscreenPlayer=!1,t.showPlayersMenu=!1,tt.push(`/settings/editplayer/${a.player_id}`)},icon:"mdi-cog-outline"}),a.type!==_e.GROUP&&s.push({label:"open_dsp_settings",labelArgs:[],action:()=>{t.showFullscreenPlayer=!1,t.showPlayersMenu=!1,tt.push(`/settings/editplayer/${a.player_id}/dsp`)},icon:"mdi-equalizer"}),s},Qt=Symbol.for("vuetify:v-tabs"),Ii=me({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...ia(dl({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),ft=ve()({name:"VTab",props:Ii(),setup(a,l){let{slots:s,attrs:o}=l;const{textColorClasses:n,textColorStyles:i}=cl(a,"sliderColor"),u=A(),m=A(),f=$(()=>a.direction==="horizontal"),r=$(()=>{var y,v;return((v=(y=u.value)==null?void 0:y.group)==null?void 0:v.isSelected.value)??!1});function h(y){var g,_;let{value:v}=y;if(v){const S=(_=(g=u.value)==null?void 0:g.$el.parentElement)==null?void 0:_.querySelector(".v-tab--selected .v-tab__slider"),q=m.value;if(!S||!q)return;const H=getComputedStyle(S).color,U=S.getBoundingClientRect(),D=q.getBoundingClientRect(),z=f.value?"x":"y",W=f.value?"X":"Y",B=f.value?"right":"bottom",E=f.value?"width":"height",k=U[z],P=D[z],T=k>P?U[B]-D[B]:U[z]-D[z],L=Math.sign(T)>0?f.value?"right":"bottom":Math.sign(T)<0?f.value?"left":"top":"center",ae=(Math.abs(T)+(Math.sign(T)<0?U[E]:D[E]))/Math.max(U[E],D[E])||0,se=U[E]/D[E]||0,ue=1.5;bl(q,{backgroundColor:[H,"currentcolor"],transform:[`translate${W}(${T}px) scale${W}(${se})`,`translate${W}(${T/ue}px) scale${W}(${(ae-1)/ue+1})`,"none"],transformOrigin:Array(3).fill(L)},{duration:225,easing:wl})}}return pe(()=>{const y=we.filterProps(a);return d(we,X({symbol:Qt,ref:u,class:["v-tab",a.class],style:a.style,tabindex:r.value?0:-1,role:"tab","aria-selected":String(r.value),active:!1},y,o,{block:a.fixed,maxWidth:a.fixed?300:void 0,"onGroup:selected":h}),{...s,default:()=>{var v;return d(Y,null,[((v=s.default)==null?void 0:v.call(s))??a.text,!a.hideSlider&&d("div",{ref:m,class:["v-tab__slider",n.value],style:i.value},null)])}})}),gl({},u)}}),Vi=a=>{const{touchstartX:l,touchendX:s,touchstartY:o,touchendY:n}=a,i=.5,u=16;a.offsetX=s-l,a.offsetY=n-o,Math.abs(a.offsetY)<i*Math.abs(a.offsetX)&&(a.left&&s<l-u&&a.left(a),a.right&&s>l+u&&a.right(a)),Math.abs(a.offsetX)<i*Math.abs(a.offsetY)&&(a.up&&n<o-u&&a.up(a),a.down&&n>o+u&&a.down(a))};function $i(a,l){var o;const s=a.changedTouches[0];l.touchstartX=s.clientX,l.touchstartY=s.clientY,(o=l.start)==null||o.call(l,{originalEvent:a,...l})}function Si(a,l){var o;const s=a.changedTouches[0];l.touchendX=s.clientX,l.touchendY=s.clientY,(o=l.end)==null||o.call(l,{originalEvent:a,...l}),Vi(l)}function Qi(a,l){var o;const s=a.changedTouches[0];l.touchmoveX=s.clientX,l.touchmoveY=s.clientY,(o=l.move)==null||o.call(l,{originalEvent:a,...l})}function Ti(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const l={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:a.left,right:a.right,up:a.up,down:a.down,start:a.start,move:a.move,end:a.end};return{touchstart:s=>$i(s,l),touchend:s=>Si(s,l),touchmove:s=>Qi(s,l)}}function Mi(a,l){var m;const s=l.value,o=s!=null&&s.parent?a.parentElement:a,n=(s==null?void 0:s.options)??{passive:!0},i=(m=l.instance)==null?void 0:m.$.uid;if(!o||!i)return;const u=Ti(l.value);o._touchHandlers=o._touchHandlers??Object.create(null),o._touchHandlers[i]=u,oa(u).forEach(f=>{o.addEventListener(f,u[f],n)})}function Bi(a,l){var i,u;const s=(i=l.value)!=null&&i.parent?a.parentElement:a,o=(u=l.instance)==null?void 0:u.$.uid;if(!(s!=null&&s._touchHandlers)||!o)return;const n=s._touchHandlers[o];oa(n).forEach(m=>{s.removeEventListener(m,n[m])}),delete s._touchHandlers[o]}const Qa={mounted:Mi,unmounted:Bi},Ta=Symbol.for("vuetify:v-window"),Ma=Symbol.for("vuetify:v-window-group"),Ba=me({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:a=>typeof a=="boolean"||a==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Ve(),...ze(),...Ke()},"VWindow"),Jt=ve()({name:"VWindow",directives:{Touch:Qa},props:Ba(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:s}=l;const{themeClasses:o}=at(a),{isRtl:n}=ht(),{t:i}=Na(),u=ma(a,Ma),m=A(),f=$(()=>n.value?!a.reverse:a.reverse),r=fe(!1),h=$(()=>{const z=a.direction==="vertical"?"y":"x",B=(f.value?!r.value:r.value)?"-reverse":"";return`v-window-${z}${B}-transition`}),y=fe(0),v=A(void 0),g=$(()=>u.items.value.findIndex(z=>u.selected.value.includes(z.id)));te(g,(z,W)=>{const B=u.items.value.length,E=B-1;B<=2?r.value=z<W:z===E&&W===0?r.value=!0:z===0&&W===E?r.value=!1:r.value=z<W}),Fa(Ta,{transition:h,isReversed:r,transitionCount:y,transitionHeight:v,rootRef:m});const _=$(()=>a.continuous||g.value!==0),S=$(()=>a.continuous||g.value!==u.items.value.length-1);function q(){_.value&&u.prev()}function H(){S.value&&u.next()}const U=$(()=>{const z=[],W={icon:n.value?a.nextIcon:a.prevIcon,class:`v-window__${f.value?"right":"left"}`,onClick:u.prev,"aria-label":i("$vuetify.carousel.prev")};z.push(_.value?s.prev?s.prev({props:W}):d(we,W,null):d("div",null,null));const B={icon:n.value?a.prevIcon:a.nextIcon,class:`v-window__${f.value?"left":"right"}`,onClick:u.next,"aria-label":i("$vuetify.carousel.next")};return z.push(S.value?s.next?s.next({props:B}):d(we,B,null):d("div",null,null)),z}),D=$(()=>a.touch===!1?a.touch:{...{left:()=>{f.value?q():H()},right:()=>{f.value?H():q()},start:W=>{let{originalEvent:B}=W;B.stopPropagation()}},...a.touch===!0?{}:a.touch});return pe(()=>sa(d(a.tag,{ref:m,class:["v-window",{"v-window--show-arrows-on-hover":a.showArrows==="hover"},o.value,a.class],style:a.style},{default:()=>{var z,W;return[d("div",{class:"v-window__container",style:{height:v.value}},[(z=s.default)==null?void 0:z.call(s,{group:u}),a.showArrows!==!1&&d("div",{class:"v-window__controls"},[U.value])]),(W=s.additional)==null?void 0:W.call(s,{group:u})]}}),[[Oa("touch"),D.value]])),{group:u}}}),Ei=me({...ia(Ba(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),qi=ve()({name:"VTabsWindow",props:Ei(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:s}=l;const o=na(Qt,null),n=lt(a,"modelValue"),i=$({get(){var u;return n.value!=null||!o?n.value:(u=o.items.value.find(m=>o.selected.value.includes(m.id)))==null?void 0:u.value},set(u){n.value=u}});return pe(()=>{const u=Jt.filterProps(a);return d(Jt,X({_as:"VTabsWindow"},u,{modelValue:i.value,"onUpdate:modelValue":m=>i.value=m,class:["v-tabs-window",a.class],style:a.style,mandatory:!1,touch:!1}),s)}),{}}}),Ea=me({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Ve(),...ml(),...kl()},"VWindowItem"),ea=ve()({name:"VWindowItem",directives:{Touch:Qa},props:Ea(),emits:{"group:selected":a=>!0},setup(a,l){let{slots:s}=l;const o=na(Ta),n=vl(a,Ma),{isBooted:i}=ot();if(!o||!n)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const u=fe(!1),m=$(()=>i.value&&(o.isReversed.value?a.reverseTransition!==!1:a.transition!==!1));function f(){!u.value||!o||(u.value=!1,o.transitionCount.value>0&&(o.transitionCount.value-=1,o.transitionCount.value===0&&(o.transitionHeight.value=void 0)))}function r(){var _;u.value||!o||(u.value=!0,o.transitionCount.value===0&&(o.transitionHeight.value=Be((_=o.rootRef.value)==null?void 0:_.clientHeight)),o.transitionCount.value+=1)}function h(){f()}function y(_){u.value&&aa(()=>{!m.value||!u.value||!o||(o.transitionHeight.value=Be(_.clientHeight))})}const v=$(()=>{const _=o.isReversed.value?a.reverseTransition:a.transition;return m.value?{name:typeof _!="string"?o.transition.value:_,onBeforeEnter:r,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:r,onAfterLeave:f,onLeaveCancelled:h,onEnter:y}:!1}),{hasContent:g}=Pl(a,n.isSelected);return pe(()=>d(pl,{transition:v.value,disabled:!i.value},{default:()=>{var _;return[sa(d("div",{class:["v-window-item",n.selectedClass.value,a.class],style:a.style},[g.value&&((_=s.default)==null?void 0:_.call(s))]),[[xa,n.isSelected.value]])]}})),{groupItem:n}}}),zi=me({...Ea()},"VTabsWindowItem"),Li=ve()({name:"VTabsWindowItem",props:zi(),setup(a,l){let{slots:s}=l;return pe(()=>{const o=ea.filterProps(a);return d(ea,X({_as:"VTabsWindowItem"},o,{class:["v-tabs-window-item",a.class],style:a.style}),s)}),{}}});function Ai(a){return a?a.map(l=>Ya(l)?l:{text:l,value:l}):[]}const Wi=me({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...El({mandatory:"force",selectedClass:"v-tab-item--selected"}),...da(),...ze()},"VTabs"),Ri=ve()({name:"VTabs",props:Wi(),emits:{"update:modelValue":a=>!0},setup(a,l){let{attrs:s,slots:o}=l;const n=lt(a,"modelValue"),i=$(()=>Ai(a.items)),{densityClasses:u}=ca(a),{backgroundColorClasses:m,backgroundColorStyles:f}=xe(ee(a,"bgColor")),{scopeId:r}=va();return gt({VTab:{color:ee(a,"color"),direction:ee(a,"direction"),stacked:ee(a,"stacked"),fixed:ee(a,"fixedTabs"),sliderColor:ee(a,"sliderColor"),hideSlider:ee(a,"hideSlider")}}),pe(()=>{const h=Xt.filterProps(a),y=!!(o.window||a.items.length>0);return d(Y,null,[d(Xt,X(h,{modelValue:n.value,"onUpdate:modelValue":v=>n.value=v,class:["v-tabs",`v-tabs--${a.direction}`,`v-tabs--align-tabs-${a.alignTabs}`,{"v-tabs--fixed-tabs":a.fixedTabs,"v-tabs--grow":a.grow,"v-tabs--stacked":a.stacked},u.value,m.value,a.class],style:[{"--v-tabs-height":Be(a.height)},f.value,a.style],role:"tablist",symbol:Qt},r,s),{default:()=>{var v;return[((v=o.default)==null?void 0:v.call(o))??i.value.map(g=>{var _;return((_=o.tab)==null?void 0:_.call(o,{item:g}))??d(ft,X(g,{key:g.text,value:g.value}),{default:o[`tab.${g.value}`]?()=>{var S;return(S=o[`tab.${g.value}`])==null?void 0:S.call(o,{item:g})}:void 0})})]}}),y&&d(qi,X({modelValue:n.value,"onUpdate:modelValue":v=>n.value=v,key:"tabs-window"},r),{default:()=>{var v;return[i.value.map(g=>{var _;return((_=o.item)==null?void 0:_.call(o,{item:g}))??d(Li,{value:g.value},{default:()=>{var S;return(S=o[`item.${g.value}`])==null?void 0:S.call(o,{item:g})}})}),(v=o.window)==null?void 0:v.call(o)]}})])}),{}}}),Hi=["onClick"],Di={class:"main"},Ui={key:0,class:"main-media-details"},Ni={key:0,class:"main-media-details-image"},Fi={class:"main-media-details-track-info"},Oi={key:0},xi={key:0},Yi={key:0},Xi={style:{margin:"auto","padding-top":"20px"}},Gi={key:1,class:"main-queue-items"},ji={class:"queue-items-scroll-box"},Ki={class:"media-thumb listitem-media-thumb"},Zi={class:"d-flex"},Ji={style:{"white-space":"nowrap"},class:"pr-1"},eo={key:0},to={key:2,class:"main-queue-items"},ao={class:"main-media-details-image main-media-details-image-alt"},lo={class:"player-bottom"},io={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},oo={class:"media-controls"},so={key:0,class:"row",style:{"margin-left":"5%","margin-right":"5%"}},no={key:1,class:"row",style:{height:"70px",display:"flex","justify-content":"center","align-items":"center","padding-bottom":"15px","padding-top":"15px"}},ro=F({__name:"PlayerFullscreen",props:{colorPalette:{}},setup(a){Xa();const{name:l}=_t(),s=a,o=new yt,n=A(-1),i=new yt,u=A([]),m=A(""),f=A(0),r=A(!1),h=$(()=>t.activePlayerQueue?u.value.slice(t.activePlayerQueue.current_index):[]),y=$(()=>t.activePlayerQueue?u.value.slice(0,t.activePlayerQueue.current_index):[]),v=$(()=>{switch(l.value){case"xs":return"1.2em";case"sm":return"1.6em";case"md":return"2em";case"lg":return t.showQueueItems?"1.5em":"2.5em";case"xl":return t.showQueueItems?"1.6em":"3em";case"xxl":return t.showQueueItems?"1.7em":"3.2em";default:return"1.0em."}}),g=$(()=>{switch(l.value){case"xs":return"1.0em";case"sm":return"1.2em";case"md":return"1.7em";case"lg":return t.showQueueItems?"1.0em":"1.6em";case"xl":return t.showQueueItems?"1.2em":"2em";case"xxl":return t.showQueueItems?"1.2em":"2em";default:return"1.0em."}}),_=$(()=>Oe.display.height.value>800),S=function(k){t.showFullscreenPlayer=!1,tt.push({name:k.media_type,params:{itemId:k.item_id,provider:k.provider}})},q=function(k){t.globalSearchTerm=k,tt.push({name:"search"}),t.showFullscreenPlayer=!1},H=function(k,P){var x,ae,se,ue,ke,ge,Pe;const T=u.value.indexOf(P),L=[{label:"play_now",labelArgs:[],action:()=>{D(P,"play_now")},icon:"mdi-play-circle-outline",disabled:T===((x=t.activePlayerQueue)==null?void 0:x.current_index)||T===((ae=t.activePlayerQueue)==null?void 0:ae.index_in_buffer)},{label:"play_next",labelArgs:[],action:()=>{D(P,"move_next")},icon:"mdi-skip-next-circle-outline",disabled:T<=(((se=t.activePlayerQueue)==null?void 0:se.index_in_buffer)||0)},{label:"queue_move_up",labelArgs:[],action:()=>{D(P,"up")},icon:"mdi-arrow-up",disabled:T<=(((ue=t.activePlayerQueue)==null?void 0:ue.index_in_buffer)||0)},{label:"queue_move_down",labelArgs:[],action:()=>{D(P,"down")},icon:"mdi-arrow-down",disabled:T<=(((ke=t.activePlayerQueue)==null?void 0:ke.index_in_buffer)||0)},{label:"queue_delete",labelArgs:[],action:()=>{D(P,"delete")},icon:"mdi-delete",disabled:T<=(((ge=t.activePlayerQueue)==null?void 0:ge.index_in_buffer)||0)}];((Pe=P==null?void 0:P.media_item)==null?void 0:Pe.media_type)==he.TRACK&&L.push({label:"show_info",labelArgs:[],action:()=>{S(P.media_item)},icon:"mdi-information-outline",disabled:!1}),Ce.emit("contextmenu",{items:L,posX:k.clientX,posY:k.clientY})},U=function(k){t.activePlayer&&Ce.emit("contextmenu",{items:Sa(t.activePlayer,t.activePlayerQueue),posX:k.clientX,posY:k.clientY})},D=function(k,P){var T,L,x,ae,se;!k||!t.activePlayerQueue||(P=="play_now"?w.queueCommandPlayIndex((T=t.activePlayerQueue)==null?void 0:T.queue_id,k.queue_item_id):P=="move_next"?w.queueCommandMoveNext((L=t.activePlayerQueue)==null?void 0:L.queue_id,k.queue_item_id):P=="up"?w.queueCommandMoveUp((x=t.activePlayerQueue)==null?void 0:x.queue_id,k.queue_item_id):P=="down"?w.queueCommandMoveDown((ae=t.activePlayerQueue)==null?void 0:ae.queue_id,k.queue_item_id):P=="delete"&&w.queueCommandDelete((se=t.activePlayerQueue)==null?void 0:se.queue_id,k.queue_item_id))},z=async function(){r.value=!0,u.value=[],await Ot(100),r.value=!1},W=async function({done:k}){var x;if(!t.activePlayerQueue||t.activePlayerQueue.items==0){k("empty");return}if(u.value.length>=((x=t.activePlayerQueue)==null?void 0:x.items)){k("empty");return}const P=u.value.length,T=(t.activePlayerQueue.current_index||0)+50,L=await w.getPlayerQueueItems(t.activePlayerQueue.queue_id,T,P);u.value.push(...L),L.length<50?k("empty"):k("ok")};qe(()=>{const k=w.subscribe(Ga.QUEUE_ITEMS_UPDATED,P=>{var T;P.object_id==((T=t.activePlayerQueue)==null?void 0:T.queue_id)&&(P.data,z())});je(k)});const B=function(k){var T;if(!((T=t.curQueueItem)!=null&&T.media_item))return;if(!t.curQueueItem.media_item.favorite){w.toggleFavorite(t.curQueueItem.media_item);return}const P=[{label:"favorites_remove",labelArgs:[],action:()=>{w.toggleFavorite(t.curQueueItem.media_item)},icon:"mdi-heart"},{label:"add_playlist",labelArgs:[],action:()=>{Ce.emit("playlistdialog",{items:[t.curQueueItem.media_item]})},icon:"mdi-plus-circle-outline"}];Ce.emit("contextmenu",{items:P,posX:k.clientX,posY:k.clientY})},E=function(){r.value=!0,Ot(100).then(()=>{r.value=!1})};return te(()=>t.activePlayerId,k=>{z()},{immediate:!0}),te(()=>s.colorPalette,k=>{!k.darkColor||!k.lightColor?m.value=Oe.theme.current.value.dark?"#000":"#fff":m.value=Oe.theme.current.value.dark?k.darkColor:k.lightColor}),(k,P)=>(c(),I(fa,{modelValue:e(t).showFullscreenPlayer,"onUpdate:modelValue":P[12]||(P[12]=T=>e(t).showFullscreenPlayer=T),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition","z-index":"9999"},{default:p(()=>[d(Xe,{color:e(ja)(m.value,70,80)},{default:p(()=>{var T,L,x,ae,se,ue,ke,ge,Pe,Le,Ze,J,Ae,We,Re,Tt,Mt,Bt,Et,qt,zt,Lt,At,Wt,Rt,Ht,Dt,Ut,Nt;return[d(Bl,{class:"v-toolbar-default",color:"transparent"},{prepend:p(()=>[d(le,{icon:"",onClick:P[0]||(P[0]=M=>e(t).showFullscreenPlayer=!1)},{default:p(()=>[d(N,{icon:"mdi-chevron-down"})]),_:1})]),append:p(()=>{var M;return[(M=e(t).activePlayerQueue)!=null&&M.radio_source.length?(c(),I(Vt,{key:0,scrim:""},{activator:p(({props:O})=>[d(le,X(O,{icon:""}),{default:p(()=>[d(N,{color:"accent",icon:"mdi-radio-tower"})]),_:2},1040)]),default:p(()=>[d(Xe,{title:k.$t("queue_radio_enabled"),subtitle:k.$t("queue_radio_based_on")},{text:p(()=>{var O;return[(c(!0),b(Y,null,ie((O=e(t).activePlayerQueue)==null?void 0:O.radio_source,K=>(c(),b("div",{key:K.uri},[Q("a",{onClick:Se=>S(K)},C(K.name),9,Hi)]))),128))]}),_:1},8,["title","subtitle"])]),_:1})):V("",!0),_.value?V("",!0):(c(),I($a,{key:1})),d(le,{icon:"",onClick:de(U,["stop"])},{default:p(()=>[d(N,{icon:"mdi-dots-vertical"})]),_:1})]}),_:1}),Q("div",Di,[e(G)("bp7")||!e(t).showQueueItems?(c(),b("div",Ui,[k.$vuetify.display.height>600?(c(),b("div",Ni,[(x=(L=(T=e(t).curQueueItem)==null?void 0:T.streamdetails)==null?void 0:L.stream_metadata)!=null&&x.image_url?(c(),I(Ee,{key:0,style:{"max-width":"100%",width:"auto","border-radius":"4px"},src:e(t).curQueueItem.streamdetails.stream_metadata.image_url},null,8,["src"])):!((ae=e(t).curQueueItem)!=null&&ae.image)&&((ue=(se=e(t).activePlayer)==null?void 0:se.current_media)!=null&&ue.image_url)?(c(),I(Ee,{key:1,style:{"max-width":"100%",width:"auto","border-radius":"4px"},src:e(t).activePlayer.current_media.image_url},null,8,["src"])):(c(),I(Me,{key:2,item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"},fallback:k.$vuetify.theme.current.dark?e(st):e(ya)},null,8,["item","fallback"]))])):V("",!0),Q("div",Fi,[((ke=e(t).activePlayer)==null?void 0:ke.powered)==!1?(c(),I(Ne,{key:0,style:j(`font-size: ${v.value};`)},{default:p(()=>{var M;return[R(C((M=e(t).activePlayer)==null?void 0:M.display_name),1)]}),_:1},8,["style"])):(ge=e(t).curQueueItem)!=null&&ge.media_item?(c(),I(Ne,{key:1,style:j(`font-size: ${v.value};cursor:pointer;`),onClick:P[1]||(P[1]=M=>S(e(t).curQueueItem.media_item))},{default:p(()=>[d(ne,{sync:e(o)},{default:p(()=>[R(C(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(c(),b("span",Oi,"("+C(e(t).curQueueItem.media_item.version)+")",1)):V("",!0)]),_:1},8,["sync"])]),_:1},8,["style"])):!e(t).activePlayerQueue&&((Le=(Pe=e(t).activePlayer)==null?void 0:Pe.current_media)!=null&&Le.title)?(c(),I(Ne,{key:2},{default:p(()=>{var M,O,K,Se;return[(O=(M=e(t).activePlayer)==null?void 0:M.current_media)!=null&&O.artist?(c(),b("div",xi,[d(ne,{sync:e(o)},{default:p(()=>{var He,De;return[R(C((De=(He=e(t).activePlayer)==null?void 0:He.current_media)==null?void 0:De.artist),1)]}),_:1},8,["sync"])])):V("",!0),(Se=(K=e(t).activePlayer)==null?void 0:K.current_media)!=null&&Se.title?(c(),b("div",{key:1,style:j(`font-size: ${g.value};`)},[d(ne,{sync:e(o)},{default:p(()=>{var He,De;return[R(C((De=(He=e(t).activePlayer)==null?void 0:He.current_media)==null?void 0:De.title),1)]}),_:1},8,["sync"])],4)):V("",!0)]}),_:1})):(c(),I(Ne,{key:3,style:j(`font-size: ${v.value};cursor:pointer;`),onClick:P[2]||(P[2]=M=>e(t).showPlayersMenu=!0)},{default:p(()=>[d(ne,{sync:e(o)},{default:p(()=>{var M;return[R(C(((M=e(t).activePlayer)==null?void 0:M.display_name)||k.$t("no_player")),1)]}),_:1},8,["sync"])]),_:1},8,["style"])),(Ze=e(t).activePlayer)!=null&&Ze.powered?V("",!0):(c(),I(be,{key:4,class:"text-h6 text-md-h5 text-lg-h4"},{default:p(()=>[R(C(k.$t("off")),1)]),_:1})),(We=(Ae=(J=e(t).curQueueItem)==null?void 0:J.streamdetails)==null?void 0:Ae.stream_metadata)!=null&&We.title?(c(),I(be,{key:5,class:"text-h6 text-md-h5 text-lg-h4",onClick:P[3]||(P[3]=M=>{var O,K,Se;return q(((Se=(K=(O=e(t).curQueueItem)==null?void 0:O.streamdetails)==null?void 0:K.stream_metadata)==null?void 0:Se.artist)+" - "+e(t).curQueueItem.streamdetails.stream_metadata.title)})},{default:p(()=>[d(ne,{sync:e(o)},{default:p(()=>{var M,O,K;return[(K=(O=(M=e(t).curQueueItem)==null?void 0:M.streamdetails)==null?void 0:O.stream_metadata)!=null&&K.artist?(c(),b("span",Yi,C(e(t).curQueueItem.streamdetails.stream_metadata.artist)+" - ",1)):V("",!0),R(C(e(t).curQueueItem.streamdetails.stream_metadata.title),1)]}),_:1},8,["sync"])]),_:1})):V("",!0),(Re=e(t).curQueueItem)!=null&&Re.media_item&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album?(c(),I(be,{key:6,style:j(`font-size: ${g.value};cursor:pointer;`),onClick:P[4]||(P[4]=M=>S(e(t).curQueueItem.media_item.album))},{default:p(()=>[d(ne,{sync:e(o)},{default:p(()=>[R(C(e(t).curQueueItem.media_item.album.name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):V("",!0),(Tt=e(t).curQueueItem)!=null&&Tt.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length?(c(),I(be,{key:7,style:j(`font-size: ${g.value};cursor:pointer;`),onClick:P[5]||(P[5]=M=>S(e(t).curQueueItem.media_item.artists[0]))},{default:p(()=>[d(ne,{sync:e(o)},{default:p(()=>[R(C(e(t).curQueueItem.media_item.artists[0].name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):V("",!0),(Mt=e(t).curQueueItem)!=null&&Mt.media_item&&"podcast"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.podcast?(c(),I(be,{key:8,style:j(`font-size: ${g.value};`)},{default:p(()=>[d(ne,{sync:e(o)},{default:p(()=>[R(C(e(t).curQueueItem.media_item.podcast.name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):((Bt=e(t).activePlayer)==null?void 0:Bt.active_source)!=((Et=e(t).activePlayer)==null?void 0:Et.player_id)&&((qt=e(t).activePlayer)!=null&&qt.active_source)&&((zt=e(t).activePlayer)==null?void 0:zt.active_source)in e(w).queues?(c(),I(be,{key:9},{default:p(()=>{var M;return[R(C(k.$t("external_source_active",[(M=e(w).queues[e(t).activePlayer.active_source])==null?void 0:M.display_name])),1)]}),_:1})):((Lt=e(t).activePlayer)==null?void 0:Lt.active_source)!=((At=e(t).activePlayer)==null?void 0:At.player_id)?(c(),I(be,{key:10},{default:p(()=>{var M;return[R(C(k.$t("external_source_active",[(M=e(t).activePlayer)==null?void 0:M.active_source])),1)]}),_:1})):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(c(),I(be,{key:11,style:j(`font-size: ${g.value}`)},{default:p(()=>[R(C(k.$t("queue_empty")),1)]),_:1},8,["style"])):V("",!0),Q("div",Xi,[d(Sl)])])])):V("",!0),e(t).showQueueItems?(c(),b("div",Gi,[d(Ri,{modelValue:f.value,"onUpdate:modelValue":P[6]||(P[6]=M=>f.value=M),"hide-slider":"",density:"compact",onClick:E},{default:p(()=>[d(ft,{value:0},{default:p(()=>{var M,O;return[R(C(k.$t("queue"))+" ",1),d(pt,{color:"grey",content:(((M=e(t).activePlayerQueue)==null?void 0:M.items)||0)-(((O=e(t).activePlayerQueue)==null?void 0:O.current_index)||0),inline:""},null,8,["content"])]}),_:1}),d(ft,{value:1},{default:p(()=>{var M;return[R(C(k.$t("played"))+" ",1),d(pt,{color:"grey",content:(M=e(t).activePlayerQueue)==null?void 0:M.current_index,inline:""},null,8,["content"])]}),_:1})]),_:1},8,["modelValue"]),Q("div",ji,[r.value?V("",!0):(c(),I(Ml,{key:0,onLoad:W,"empty-text":"",height:"100%"},{default:p(()=>[d(zl,{"item-height":70,"max-height":"90%",items:f.value==0?h.value:y.value},{default:p(({item:M,index:O})=>[d(za,{link:"","show-menu-btn":!0,onClick:de(K=>H(K,M),["stop"]),onMenu:de(K=>H(K,M),["stop"]),onMouseenter:K=>n.value=O,onMouseleave:P[7]||(P[7]=K=>n.value=-1)},{prepend:p(()=>[Q("div",Ki,[d(Me,{size:"50",item:M},null,8,["item"])])]),title:p(()=>[d(ne,{sync:O==0&&f.value==0?e(o):e(i),disabled:!(O==0&&f.value==0||n.value==O)},{default:p(()=>[R(C(M.name),1)]),_:2},1032,["sync","disabled"])]),subtitle:p(()=>[Q("div",Zi,[Q("span",Ji,C(e(Je)(M.duration))+" | ",1),d(ne,{sync:O==0&&f.value==0?e(o):e(i),disabled:!(O==0&&f.value==0||n.value==O)},{default:p(()=>[M.media_item&&"album"in M.media_item&&M.media_item.album?(c(),b("span",eo,C(M.media_item.album.name),1)):V("",!0)]),_:2},1032,["sync","disabled"])])]),_:2},1032,["onClick","onMenu","onMouseenter"])]),_:1},8,["items"])]),_:1}))])])):V("",!0),!e(t).showQueueItems&&k.$vuetify.display.height<=600?(c(),b("div",to,[Q("div",ao,[d(Me,{item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])])])):V("",!0)]),Q("div",lo,[Q("div",io,[d(ba,{"show-labels":!0})]),Q("div",oo,[e(t).activePlayerQueue?(c(),I($e,{key:0,disabled:!((Wt=e(t).curQueueItem)!=null&&Wt.media_item),icon:(Ht=(Rt=e(t).curQueueItem)==null?void 0:Rt.media_item)!=null&&Ht.favorite?"mdi-heart":"mdi-heart-outline",title:k.$t("tooltip.favorite"),type:"btn",class:"media-controls-item","max-height":"30px",onClick:B},null,8,["disabled","icon","title"])):V("",!0),k.$vuetify.display.mdAndUp?(c(),I(ka,{key:1,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"30px"},null,8,["player-queue"])):V("",!0),d(Ca,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"45px"},null,8,["player","player-queue"]),d(Pa,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"100px"},null,8,["player","player-queue"]),d(Ia,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"45px"},null,8,["player","player-queue"]),k.$vuetify.display.mdAndUp?(c(),I(wa,{key:2,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"35px"},null,8,["player-queue"])):V("",!0),e(t).activePlayerQueue?(c(),I(Va,{key:3,class:"media-controls-item","max-height":"30px"})):V("",!0)]),e(t).activePlayer?(c(),b("div",so,[d(Ge,{width:"100%","is-powered":(Dt=e(t).activePlayer)==null?void 0:Dt.powered,disabled:!e(t).activePlayer||!((Ut=e(t).activePlayer)!=null&&Ut.powered),"model-value":Math.round(((Nt=e(t).activePlayer)==null?void 0:Nt.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","allow-wheel":!0,"onUpdate:modelValue":P[8]||(P[8]=M=>e(t).activePlayer.group_childs.length>0?e(w).playerCommandGroupVolume(e(t).activePlayerId,M):e(w).playerCommandVolumeSet(e(t).activePlayerId,M)),"onClick:prepend":P[9]||(P[9]=M=>e(t).activePlayer.group_childs.length>0?e(w).playerCommandGroupVolumeDown(e(t).activePlayerId):e(w).playerCommandVolumeDown(e(t).activePlayerId)),"onClick:append":P[10]||(P[10]=M=>e(t).activePlayer.group_childs.length>0?e(w).playerCommandGroupVolumeUp(e(t).activePlayerId):e(w).playerCommandVolumeUp(e(t).activePlayerId))},null,8,["is-powered","disabled","model-value"])])):V("",!0),_.value?(c(),b("div",no,[d(we,{class:"responsive-icon-holder-btn",variant:"outlined",onClick:P[11]||(P[11]=M=>e(t).showPlayersMenu=!0)},{default:p(()=>{var M;return[d(N,{icon:((M=e(t).activePlayer)==null?void 0:M.icon)||"mdi-speaker"},null,8,["icon"]),R(" "+C(e(t).activePlayer?e(it)(e(t).activePlayer):""),1)]}),_:1})])):V("",!0)])]}),_:1},8,["color"])]),_:1},8,["modelValue"]))}}),uo=oe(ro,[["__scopeId","data-v-5f045620"]]),co={key:0},mo={key:2},vo={key:3,class:"icon-thumb"},po={key:0},yo={key:2},fo={key:3},ho={key:4},_o={class:"d-flex justify-center",style:{width:"100%"}},go={key:0},bo={key:1},wo={key:2},ko={key:3},Po={key:4,class:"line-clamp-1"},Co={key:0},Io={key:5,class:"line-clamp-1"},Vo={key:6},$o={key:7,class:"line-clamp-1"},So={key:8,class:"line-clamp-1"},Qo={key:0},To=F({__name:"PlayerTrackDetails",props:{showOnlyArtist:{type:Boolean,default:!1},showQualityDetailsBtn:{type:Boolean,default:!0},colorPalette:{},primaryColor:{default:""}},setup(a){const l=new yt,s=a,o=$(()=>{var n,i;return(i=(n=t.activePlayerQueue)==null?void 0:n.current_item)==null?void 0:i.streamdetails});return(n,i)=>(c(),b(Y,null,[d(ce,{style:{height:"auto",width:"fit-content",margin:"0px",padding:"0px"},lines:"two"},{prepend:p(()=>{var u,m,f,r,h,y,v,g,_,S,q,H,U;return[Q("div",{class:"media-thumb player-media-thumb",style:j(`cursor: pointer;height: ${e(G)({breakpoint:"phone"})?50:64}px; width: ${e(G)({breakpoint:"phone"})?50:64}px; `),onClick:i[0]||(i[0]=D=>e(t).showFullscreenPlayer=!0)},[(u=e(t).activePlayer)!=null&&u.powered&&((r=(f=(m=e(t).curQueueItem)==null?void 0:m.streamdetails)==null?void 0:f.stream_metadata)!=null&&r.image_url)?(c(),b("div",co,[d(Ee,{class:"media-thumb",style:{"border-radius":"4px"},size:"55",src:e(t).curQueueItem.streamdetails.stream_metadata.image_url},null,8,["src"])])):(h=e(t).curQueueItem)!=null&&h.media_item||(y=e(t).curQueueItem)!=null&&y.image?(c(),I(Me,{key:1,item:((v=e(t).curQueueItem)==null?void 0:v.media_item)||e(t).curQueueItem,fallback:e(st)},null,8,["item","fallback"])):(g=e(t).activePlayer)!=null&&g.powered&&((S=(_=e(t).activePlayer)==null?void 0:_.current_media)!=null&&S.image_url)?(c(),b("div",mo,[d(Ee,{class:"media-thumb",style:{"border-radius":"4px"},size:"55",src:e(t).activePlayer.current_media.image_url},null,8,["src"])])):(c(),b("div",vo,[d(N,{size:"35",icon:((q=e(t).activePlayer)==null?void 0:q.type)==e(_e).PLAYER&&((H=e(t).activePlayer)!=null&&H.group_childs.length)?"mdi-speaker-multiple":((U=e(t).activePlayer)==null?void 0:U.icon)||"mdi-speaker",style:{display:"table-cell",opacity:"0.8"}},null,8,["icon"])]))],4)]}),title:p(()=>{var u,m,f,r,h,y;return[Q("div",{style:j({cursor:"pointer",color:n.primaryColor})},[((u=e(t).activePlayer)==null?void 0:u.powered)==!1?(c(),b("div",{key:0,onClick:i[1]||(i[1]=v=>e(t).showPlayersMenu=!0)},C((m=e(t).activePlayer)==null?void 0:m.display_name),1)):(f=e(t).curQueueItem)!=null&&f.media_item?(c(),b("div",{key:1,onClick:i[2]||(i[2]=v=>e(t).showFullscreenPlayer=!0)},[d(ne,{sync:e(l)},{default:p(()=>[R(C(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(c(),b("span",po,"("+C(e(t).curQueueItem.media_item.version)+")",1)):V("",!0)]),_:1},8,["sync"])])):e(t).curQueueItem?(c(),b("div",yo,C(e(t).curQueueItem.name),1)):!e(t).activePlayerQueue&&((h=(r=e(t).activePlayer)==null?void 0:r.current_media)!=null&&h.title)?(c(),b("div",fo,C(e(t).activePlayer.current_media.title),1)):e(t).activePlayer?(c(),b("div",ho,C((y=e(t).activePlayer)==null?void 0:y.display_name),1)):(c(),b("div",{key:5,onClick:i[3]||(i[3]=v=>e(t).showPlayersMenu=!0)},C(n.$t("no_player")),1))],4)]}),append:p(()=>{var u,m,f;return[(u=o.value)!=null&&u.audio_format.content_type&&!e(G)({breakpoint:"phone"})&&n.showQualityDetailsBtn?(c(),I(ql,X({key:0,disabled:!e(t).activePlayerQueue||!((m=e(t).activePlayerQueue)!=null&&m.active)||((f=e(t).activePlayerQueue)==null?void 0:f.items)==0,class:"player-track-content-type",style:n.$vuetify.theme.current.dark?"color: #000; background: #fff; margin-left: 15px;":"color: #fff; background: #000; margin-left: 15px;",label:"",ripple:!1},s),{default:p(()=>[Q("div",_o,C(o.value.audio_format.content_type.toUpperCase()),1)]),_:1},16,["disabled","style"])):V("",!0)]}),subtitle:p(()=>{var u;return[Q("div",{style:j({cursor:"pointer",color:n.primaryColor}),class:"line-clamp-1",onClick:i[4]||(i[4]=m=>e(t).showFullscreenPlayer=!0)},[d(ne,{sync:e(l)},{default:p(()=>{var m,f,r,h,y,v,g,_,S,q,H,U,D,z,W,B,E,k,P,T;return[(m=e(t).activePlayer)!=null&&m.powered?e(t).curQueueItem&&((f=e(t).curQueueItem.media_item)==null?void 0:f.media_type)==e(he).TRACK&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&!s.showOnlyArtist?(c(),b("div",bo,C(e(ra)(e(t).curQueueItem.media_item.artists))+" • "+C(e(t).curQueueItem.media_item.album.name),1)):(r=e(t).curQueueItem)!=null&&r.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length>0?(c(),b("div",wo,C(e(t).curQueueItem.media_item.artists[0].name),1)):(h=e(t).curQueueItem)!=null&&h.media_item&&"podcast"in e(t).curQueueItem.media_item&&((y=e(t).curQueueItem.media_item.podcast)!=null&&y.name)?(c(),b("div",ko,C(e(t).curQueueItem.media_item.podcast.name),1)):(_=(g=(v=e(t).curQueueItem)==null?void 0:v.streamdetails)==null?void 0:g.stream_metadata)!=null&&_.title?(c(),b("div",Po,[(H=(q=(S=e(t).curQueueItem)==null?void 0:S.streamdetails)==null?void 0:q.stream_metadata)!=null&&H.artist?(c(),b("span",Co,C(e(t).curQueueItem.streamdetails.stream_metadata.artist)+" - ",1)):V("",!0),R(C((D=(U=e(t).curQueueItem)==null?void 0:U.streamdetails)==null?void 0:D.stream_metadata.title),1)])):(W=(z=e(t).curQueueItem)==null?void 0:z.media_item)!=null&&W.metadata.description?(c(),b("div",Io,C(e(ua)(e(t).curQueueItem.media_item.metadata.description,100)),1)):!e(t).activePlayerQueue&&((B=e(t).activePlayer)!=null&&B.active_source)&&((k=(E=e(t).activePlayer)==null?void 0:E.current_media)!=null&&k.artist)?(c(),b("div",Vo,C(e(t).activePlayer.current_media.artist),1)):!e(t).activePlayerQueue&&((P=e(t).activePlayer)!=null&&P.active_source)?(c(),b("div",$o,C(n.$t("external_source_active",[(T=e(t).activePlayer)==null?void 0:T.active_source])),1)):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(c(),b("div",So,C(n.$t("queue_empty")),1)):V("",!0):(c(),b("div",go,C(n.$t("off")),1))]}),_:1},8,["sync"]),e(t).activePlayer&&((u=e(t).activePlayer)!=null&&u.powered)?(c(),b("div",Qo,C(e(it)(e(t).activePlayer)),1)):V("",!0)],4)]}),_:1}),d(uo,{"show-fullscreen":e(t).showFullscreenPlayer,"color-palette":n.colorPalette},null,8,["show-fullscreen","color-palette"])],64))}}),Mo={key:1,class:"text-caption volumecaption"},Bo={key:0,class:"text-caption volumecaption"},Eo=F({__name:"VolumeControl",props:{player:{},showSyncControls:{type:Boolean},showSubPlayers:{type:Boolean},hideHeadingRow:{type:Boolean},allowWheel:{type:Boolean}},setup(a){const l=a,s=A([]),o=A([]),n=A(void 0),i=$(()=>l.player.group_childs.length>0),u=function(r,h=!0){var v,g;const y=[];h&&r.type!=_e.GROUP&&y.push(r);for(const _ of r.group_childs){const S=(v=w)==null?void 0:v.players[_];S&&S.available&&!y.includes(S)&&y.push(S)}if(l.showSyncControls&&r.supported_features.includes(re.SET_MEMBERS))for(const _ of Object.values((g=w)==null?void 0:g.players))_.player_id!=r.player_id&&(!r.can_group_with.includes(_.player_id)&&!r.can_group_with.includes(_.provider)||_.available&&(_.active_group&&_.active_group!=r.player_id||_.active_source&&_.state==ye.PLAYING&&![r.player_id,_.player_id].includes(_.active_source)||y.includes(_)||y.push(_)));return y.sort((_,S)=>_.display_name.toUpperCase()>S.display_name.toUpperCase()?1:-1),y},m=async function(r){for(const h of r)w.players[h].powered&&!w.players[h].active_group?await w.playerCommandPower(h,!1):await w.playerCommandUnGroup(h)},f=async function(r,h){const y=l.player.player_id;h?(o.value.includes(r)&&(o.value=o.value.filter(v=>v!=r)),s.value.includes(r)||s.value.push(r),w.players[y].group_childs.push(r)):(s.value.includes(r)&&(s.value=s.value.filter(v=>v!=r)),o.value.includes(r)||o.value.push(r),w.players[y].group_childs=w.players[y].group_childs.filter(v=>v!=r)),n.value!=null&&clearTimeout(n.value),n.value=setTimeout(async()=>{o.value.length>0&&m(o.value).catch(async()=>{w.players[y]=await w.getPlayer(y)}).finally(()=>{o.value=[]}),s.value.length>0&&w.playerCommandGroupMany(y,s.value).catch(async()=>{w.players[y]=await w.getPlayer(y)}).finally(()=>{s.value=[]})},1e3)};return(r,h)=>(c(),I(Ie,{style:{overflow:"hidden",padding:"0"},lines:"two"},{default:p(()=>[r.hideHeadingRow?V("",!0):(c(),I(ce,{key:0,class:"volumesliderrow heading",link:!1,style:j(r.player.powered?"opacity: 1":"opacity: 0.6")},{prepend:p(()=>[d(N,{size:25,icon:r.player.icon,style:{"margin-left":"6px",opacity:"0.6"}},null,8,["icon"])]),default:p(()=>[Q("h5",null,C(e(it)(r.player,27)),1)]),append:p(()=>[d(le,{class:"powerbtn",variant:"icon",onClick:h[0]||(h[0]=de(y=>e(w).playerCommandPowerToggle(r.player.player_id),["stop"]))},{default:p(()=>[d(N,{size:25,icon:"mdi-power"})]),_:1})]),_:1},8,["style"])),d(ce,{class:"volumesliderrow",link:!1,style:j(r.player.powered?"opacity: 0.75":"opacity: 0.35")},{prepend:p(()=>[d(le,{icon:"",style:{height:"25px"},disabled:r.player.type==e(_e).GROUP||r.player.group_childs.length>0,onClick:h[1]||(h[1]=de(y=>e(w).playerCommandMuteToggle(r.player.player_id),["stop"]))},{default:p(()=>[d(N,{size:25,icon:r.player.volume_muted?"mdi-volume-mute":"mdi-volume-medium"},null,8,["icon"])]),_:1},8,["disabled"])]),default:p(()=>[d(Ge,{color:"secondary",width:"100%","is-powered":r.player.powered,disabled:!r.player.available||!r.player.powered||!r.player.supported_features.includes(e(re).VOLUME_SET)&&!r.player.group_childs.length,"model-value":Math.round(r.player.group_childs.length?r.player.group_volume:r.player.volume_level),onClick:h[2]||(h[2]=de(()=>{},["stop"])),"onUpdate:modelValue":h[3]||(h[3]=y=>r.player.group_childs.length>0?e(w).playerCommandGroupVolume(r.player.player_id,y):e(w).playerCommandVolumeSet(r.player.player_id,y))},null,8,["is-powered","disabled","model-value"])]),append:p(()=>[i.value&&!r.showSubPlayers?(c(),I(N,{key:0,class:"expandbtn"},{default:p(()=>h[7]||(h[7]=[R(" mdi-chevron-down ")])),_:1})):(c(),b("div",Mo,C(Math.round(r.player.group_childs.length?r.player.group_volume:r.player.volume_level)),1))]),_:1},8,["style"]),r.showSubPlayers&&r.player.powered&&(r.player.group_childs.length>0||r.showSyncControls)?(c(),b("div",{key:1,onClick:h[6]||(h[6]=de(()=>{},["stop"]))},[d(Ye,{style:{"margin-top":"10px","margin-bottom":"15px"}}),(c(!0),b(Y,null,ie(u(r.player,!r.showSyncControls),y=>(c(),b("div",{key:y.player_id},[d(ce,{class:"volumesliderrow",link:!1,style:j(y.powered||r.showSyncControls?"opacity: 0.75":"opacity: 0.4"),onClick:h[4]||(h[4]=de(()=>{},["stop"]))},{prepend:p(()=>[d(N,{size:30,icon:y.icon,style:{"margin-left":"6px",opacity:"0.6"}},null,8,["icon"])]),default:p(()=>[Q("h6",null,C(e(ua)(y.display_name,27)),1)]),append:p(()=>[r.showSyncControls?(c(),I(Ll,{key:0,ripple:!1,disabled:y.player_id==r.player.player_id,"model-value":r.player.group_childs.includes(y.player_id)||y.player_id==r.player.player_id,size:"22",class:"checkbox","onUpdate:modelValue":v=>f(y.player_id,v)},null,8,["disabled","model-value","onUpdate:modelValue"])):V("",!0)]),_:2},1032,["style"]),d(ce,{class:"volumesliderrow",link:!1,style:j(y.powered?"opacity: 0.75":"opacity: 0.4"),onClick:h[5]||(h[5]=de(()=>{},["stop"]))},{prepend:p(()=>[d(le,{icon:"",disabled:!y.supported_features.includes(e(re).VOLUME_MUTE),style:{height:"25px"},onClick:v=>e(w).playerCommandMuteToggle(y.player_id)},{default:p(()=>[d(N,{size:25,icon:y.volume_muted?"mdi-volume-mute":"mdi-volume-medium"},null,8,["icon"])]),_:2},1032,["disabled","onClick"])]),default:p(()=>[d(Ge,{color:"secondary",width:"100%","is-powered":y.powered,disabled:!y.available||!y.supported_features.includes(e(re).VOLUME_SET),"allow-wheel":r.allowWheel,"model-value":Math.round(y.volume_level),"onUpdate:modelValue":v=>e(w).playerCommandVolumeSet(y.player_id,v)},null,8,["is-powered","disabled","allow-wheel","model-value","onUpdate:modelValue"])]),append:p(()=>[y.supported_features.includes(e(re).VOLUME_SET)?(c(),b("div",Bo,C(y.volume_level),1)):V("",!0)]),_:2},1032,["style"]),h[8]||(h[8]=Q("div",{style:{height:"14px"}},null,-1))]))),128))])):V("",!0)]),_:1}))}}),qa=oe(Eo,[["__scopeId","data-v-5404a26c"]]),qo={key:0},zo={key:0},Lo={class:"text-caption"},Ao={key:1},Wo=F({__name:"VolumeBtn",props:{volumeSize:{default:"150px"},responsiveVolumeSize:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},color:{default:""}},setup(a){const l=a,s=A(!1);return(o,n)=>l.isVisible&&e(t).activePlayer?(c(),b("div",qo,[d(Vt,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=i=>s.value=i),class:"volume-control-dialog","close-on-content-click":!1,location:"top",scrim:o.$vuetify.theme.current.dark?"rgba(0,0,0,.75)":"rgba(0,0,0,.85)"},{activator:p(({props:i})=>{var u,m;return[e(G)("bp6")||!o.responsiveVolumeSize?(c(),b("div",zo,[d(Ge,{style:"margin-right: 0px; margin-left: 0px;",width:o.volumeSize,"is-powered":!0,"model-value":e(t).activePlayer.group_childs.length>0?Math.round(((u=e(t).activePlayer)==null?void 0:u.group_volume)||0):Math.round(((m=e(t).activePlayer)==null?void 0:m.volume_level)||0),"allow-wheel":!0,"onUpdate:modelValue":n[0]||(n[0]=f=>{var r,h;return e(t).activePlayer.group_childs.length>0?e(w).playerCommandGroupVolume(((r=e(t).activePlayer)==null?void 0:r.player_id)||"",f):e(w).playerCommandVolumeSet(((h=e(t).activePlayer)==null?void 0:h.player_id)||"",f)})},{prepend:p(()=>[d(le,X({variant:"icon",size:"48",ripple:!1},{...i}),{default:p(()=>{var f,r;return[d(N,{color:l.color?o.color:"",size:24,icon:"mdi-volume-high"},null,8,["color"]),Q("div",Lo,C(e(t).activePlayer.group_childs.length>0?Math.round(((f=e(t).activePlayer)==null?void 0:f.group_volume)||0):Math.round(((r=e(t).activePlayer)==null?void 0:r.volume_level)||0)),1)]}),_:2},1040)]),_:2},1032,["width","model-value"])])):(c(),b("div",Ao,[d(le,X({...i},{size:"48",variant:"icon"}),{default:p(()=>{var f,r;return[d(N,{color:l.color?o.color:"",icon:"mdi-volume-high"},null,8,["color"]),Q("div",{class:"text-caption",style:j({color:l.color?o.color:""})},C(e(t).activePlayer.group_childs.length>0?Math.round(((f=e(t).activePlayer)==null?void 0:f.group_volume)||0):Math.round(((r=e(t).activePlayer)==null?void 0:r.volume_level)||0)),5)]}),_:2},1040)]))]}),default:p(()=>[d(Xe,{"min-width":300,style:{overflow:"hidden","padding-top":"20px","padding-bottom":"20px","padding-right":"20px"}},{default:p(()=>[e(t).activePlayer?(c(),I(qa,{key:0,player:e(t).activePlayer,"show-sub-players":!0,"show-sync-controls":!1,"hide-heading-row":!1,"allow-wheel":!0,style:{"margin-left":"18px"}},null,8,["player"])):V("",!0)]),_:1})]),_:1},8,["modelValue","scrim"])])):V("",!0)}}),Ro=oe(Wo,[["__scopeId","data-v-3b2ac5c4"]]),Ho=F({__name:"PlayerExtendedControls",props:{queue:{default:()=>({isVisible:!0,showQueueDialog:!1})},player:{default:()=>({isVisible:!0})},volume:{default:()=>({isVisible:!0,volumeSize:"150px",responsiveVolumeSize:!1})}},setup(a){return(l,s)=>(c(),b(Y,null,[l.player&&l.player.isVisible?(c(),I($a,{key:0,color:l.player.color},null,8,["color"])):V("",!0),l.queue&&l.queue.isVisible?(c(),I(Va,{key:1,color:l.player.color,style:{"padding-left":"15px","padding-right":"20px"}},null,8,["color"])):V("",!0),l.volume&&l.volume.isVisible?(c(),I(Ro,{key:2,color:l.volume.color,"volume-size":l.volume.volumeSize,"responsive-volume-size":l.volume.responsiveVolumeSize},null,8,["color","volume-size","responsive-volume-size"])):V("",!0)],64))}}),Do=["data-floating"],Uo=["data-mobile"],No={class:"mediacontrols-left"},Fo={class:"mediacontrols-bottom-center"},Oo={class:"mediacontrols-bottom-right"},xo={key:0,class:"volume-slider"},Yo=F({__name:"Player",props:{useFloatingPlayer:{type:Boolean}},setup(a){Ka(i=>({"4e17711c":n.value})),la();const{mobile:l}=_t({mobileBreakpoint:576}),s=A({0:"",1:"",2:"",3:"",4:"",5:"",lightColor:"",darkColor:""}),o=new Image;o.src=Oe.theme.current.value.dark?st:ya,o.crossOrigin="Anonymous",o.addEventListener("load",function(){s.value=Za(o)});const n=$(()=>Oe.theme.current.value.dark?s.value&&s.value.darkColor?s.value.darkColor+"26":"CCCCCC26":s.value&&s.value.lightColor?s.value.lightColor+"26":"CCCCCC26");return te(()=>{var i;return(i=t.curQueueItem)==null?void 0:i.queue_item_id},()=>{var i;(i=t.curQueueItem)!=null&&i.media_item?o.src=Yt(t.curQueueItem.media_item,xt.THUMB)||"":t.curQueueItem?o.src=Yt(t.curQueueItem,xt.THUMB)||"":o.src=""}),(i,u)=>{var m,f,r,h,y,v,g;return c(),b(Y,null,[Q("div",{class:"mediacontrols-bg","data-floating":i.useFloatingPlayer},null,8,Do),Q("div",{class:"mediacontrols","data-mobile":e(l)},[Q("div",No,[d(To,{"show-quality-details-btn":!!e(G)("bp8"),"show-only-artist":!e(G)("bp7"),"color-palette":s.value,"primary-color":i.$vuetify.theme.current.dark?"#fff":"#000"},null,8,["show-quality-details-btn","show-only-artist","color-palette","primary-color"])]),Q("div",Fo,[d(Zt,{"visible-components":{repeat:{isVisible:e(G)("bp3")},shuffle:{isVisible:e(G)("bp3")},play:{isVisible:!0,icon:{staticWidth:"50px",staticHeight:"50px"},withCircle:i.useFloatingPlayer},previous:{isVisible:e(G)("bp3")},next:{isVisible:e(G)("bp3")}}},null,8,["visible-components"]),e(G)("bp6")?(c(),I(ba,{key:0,color:i.$vuetify.theme.current.dark?s.value.lightColor||"#fff":s.value.darkColor||"#000","is-progress-bar":!1,disabled:!((m=e(t).activePlayerQueue)!=null&&m.active)||((h=(r=(f=e(t).activePlayerQueue)==null?void 0:f.current_item)==null?void 0:r.media_item)==null?void 0:h.media_type)!==e(he).TRACK},null,8,["color","disabled"])):V("",!0)]),Q("div",Oo,[Q("div",null,[d(Ho,{queue:{isVisible:e(G)("bp3"),color:i.$vuetify.theme.current.dark?"#fff":"#000"},player:{isVisible:!0,color:i.$vuetify.theme.current.dark?"#fff":"#000"},volume:{isVisible:!e(l),color:i.$vuetify.theme.current.dark?"#fff":"#000"}},null,8,["queue","player","volume"]),d(Zt,{style:{"padding-right":"5px"},"visible-components":{repeat:{isVisible:!1},shuffle:{isVisible:!1},play:{isVisible:e(G)({breakpoint:"bp3",condition:"lt"}),withCircle:!1,icon:{staticWidth:"40px",staticHeight:"40px",color:i.$vuetify.theme.current.dark?"#fff":"#000"}},previous:{isVisible:!1},next:{isVisible:!1}}},null,8,["visible-components"])])])],8,Uo),e(l)?(c(),b("div",xo,[d(Ge,{width:"100%",color:"secondary","is-powered":(y=e(t).activePlayer)==null?void 0:y.powered,disabled:!e(t).activePlayer||!((v=e(t).activePlayer)!=null&&v.powered),"model-value":Math.round(((g=e(t).activePlayer)==null?void 0:g.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","onUpdate:modelValue":u[0]||(u[0]=_=>e(t).activePlayer.group_childs.length>0?e(w).playerCommandGroupVolume(e(t).activePlayerId,_):e(w).playerCommandVolumeSet(e(t).activePlayerId,_)),"onClick:prepend":u[1]||(u[1]=_=>e(t).activePlayer.group_childs.length>0?e(w).playerCommandGroupVolume(e(t).activePlayerId,e(t).activePlayer.group_volume-5):e(w).playerCommandVolumeSet(e(t).activePlayerId,e(t).activePlayer.volume_level-5)),"onClick:append":u[2]||(u[2]=_=>e(t).activePlayer.group_childs.length>0?e(w).playerCommandGroupVolume(e(t).activePlayerId,e(t).activePlayer.group_volume+5):e(w).playerCommandVolumeSet(e(t).activePlayerId,e(t).activePlayer.volume_level+5))},null,8,["is-powered","disabled","model-value"])])):V("",!0)],64)}}}),Xo=oe(Yo,[["__scopeId","data-v-3edee708"]]),Go=me({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...bt(),...Ve(),...wt(),...$t(),...kt(),...ze({tag:"footer"}),...Ke()},"VFooter"),jo=ve()({name:"VFooter",props:Go(),setup(a,l){let{slots:s}=l;const o=A(),{themeClasses:n}=at(a),{backgroundColorClasses:i,backgroundColorStyles:u}=xe(ee(a,"color")),{borderClasses:m}=Pt(a),{elevationClasses:f}=Ct(a),{roundedClasses:r}=It(a),h=fe(32),{resizeRef:y}=yl(g=>{g.length&&(h.value=g[0].target.clientHeight)}),v=$(()=>a.height==="auto"?h.value:parseInt(a.height,10));return Fe(()=>a.app,()=>{const g=St({id:a.name,order:$(()=>parseInt(a.order,10)),position:$(()=>"bottom"),layoutSize:v,elementSize:$(()=>a.height==="auto"?void 0:v.value),active:$(()=>a.app),absolute:ee(a,"absolute")});ta(()=>{o.value=g.layoutItemStyles.value})}),pe(()=>d(a.tag,{ref:y,class:["v-footer",n.value,i.value,m.value,f.value,r.value,a.class],style:[u.value,a.app?o.value:{height:Be(a.height)},a.style]},s)),{}}}),Ko=F({__name:"Footer",setup(a){const l=$(()=>t.navigationMenuStyle=="horizontal"),s=$(()=>t.navigationMenuStyle!="horizontal"?0:t.isInStandaloneMode?100:80),o=$(()=>l.value?s.value+5:0);return(n,i)=>(c(),b(Y,null,[l.value?(c(),b("div",{key:0,class:et(n.$vuetify.theme.current.dark?"gradient-dark":"gradient-light"),style:j(`
      position: fixed;
      width: 100%;
      height: ${s.value+(e(G)("bp3")?100:70)}px;
      bottom: 0px;
      z-index: 999;
    `)},null,6)):V("",!0),e(t).navigationMenuStyle=="horizontal"?(c(),I(ui,{key:1,height:s.value},null,8,["height"])):V("",!0),d(jo,{bottom:"",fixed:"",class:et(`d-flex flex-column ${l.value?"mediacontrols-player-float":"mediacontrols-player-default"}`),style:j(`bottom: ${o.value}px;`),elevation:"10",app:""},{default:p(()=>[d(Xo,{"use-floating-player":l.value},null,8,["use-floating-player"])]),_:1},8,["class","style"])],64))}}),Zo={class:"player-media-thumb"},Jo={key:1},es={key:2,class:"icon-thumb"},ts={style:{"margin-bottom":"3px"}},as={key:0,style:{"font-size":"0.85rem","font-weight":"500","white-space":"nowrap"}},ls={key:0},is={key:0},os={key:1},ss={key:2},ns={class:"v-list-item-subtitle",style:{"white-space":"nowrap"}},rs={key:0},us={key:1},ds={key:2},cs={key:3},ms={key:0},vs={key:4},ps={key:5},ys={key:6},fs=F({__name:"PlayerCard",props:{player:{},showVolumeControl:{type:Boolean},showMenuButton:{type:Boolean},showSubPlayers:{type:Boolean},showSyncControls:{type:Boolean}},setup(a){const l=a,s=$(()=>{if(l.player&&l.player.active_source in w.queues)return w.queues[l.player.active_source];if(l.player&&!l.player.active_source&&l.player.player_id in w.queues)return w.queues[l.player.player_id]}),o=$(()=>{if(s.value&&s.value.active)return s.value.current_item}),n=function(i){Ce.emit("contextmenu",{items:Sa(l.player,s.value),posX:i.clientX,posY:i.clientY})};return(i,u)=>(c(),I(Xe,{flat:"",class:et(["panel-item",{"panel-item-selected":i.player.player_id==e(t).activePlayerId,"panel-item-idle":i.player.state==e(ye).IDLE,"panel-item-off":!i.player.powered}]),ripple:!1},{default:p(()=>[d(ce,{class:"panel-item-details",flat:"",ripple:!1},{prepend:p(()=>{var m,f,r,h;return[Q("div",Zo,[i.player.powered&&((m=o.value)!=null&&m.media_item)||(f=o.value)!=null&&f.image?(c(),I(Me,{key:0,class:"media-thumb",size:"55",item:((r=o.value)==null?void 0:r.media_item)||o.value,fallback:e(st)},null,8,["item","fallback"])):i.player.powered&&!s.value&&((h=i.player.current_media)!=null&&h.image_url)?(c(),b("div",Jo,[d(Ee,{class:"media-thumb",size:"55",src:i.player.current_media.image_url},null,8,["src"])])):(c(),b("div",es,[d(N,{size:"35",icon:i.player.type==e(_e).PLAYER&&i.player.group_childs.length?"mdi-speaker-multiple":i.player.icon,style:{display:"table-cell",opacity:"0.8"}},null,8,["icon"])]))])]}),title:p(()=>[Q("div",ts,C(e(it)(i.player,27)),1)]),subtitle:p(()=>{var m,f,r,h,y,v,g;return[i.player.powered?(c(),b("div",as,[(m=o.value)!=null&&m.media_item?(c(),b("div",ls,[R(C((f=o.value)==null?void 0:f.media_item.name)+" ",1),"version"in((r=o.value)==null?void 0:r.media_item)&&((h=o.value)!=null&&h.media_item.version)?(c(),b("span",is,"("+C((y=o.value)==null?void 0:y.media_item.version)+")",1)):V("",!0)])):o.value?(c(),b("div",os,C((v=o.value)==null?void 0:v.name),1)):!s.value&&((g=i.player.current_media)!=null&&g.title)?(c(),b("div",ss,C(i.player.current_media.title),1)):V("",!0)])):V("",!0)]}),default:p(()=>{var m,f,r,h,y,v,g,_,S,q,H,U,D,z,W,B,E,k,P,T,L,x;return[Q("div",ns,[i.player.powered?(m=o.value)!=null&&m.media_item&&((r=(f=o.value)==null?void 0:f.media_item)==null?void 0:r.media_type)==e(he).TRACK&&"album"in((h=o.value)==null?void 0:h.media_item)&&((y=o.value)!=null&&y.media_item.album)?(c(),b("div",us,C(e(ra)((v=o.value)==null?void 0:v.media_item.artists))+" • "+C((g=o.value)==null?void 0:g.media_item.album.name),1)):(_=o.value)!=null&&_.media_item&&"artists"in((S=o.value)==null?void 0:S.media_item)&&((q=o.value)==null?void 0:q.media_item.artists.length)>0?(c(),b("div",ds,C((H=o.value)==null?void 0:H.media_item.artists[0].name),1)):(D=(U=o.value)==null?void 0:U.streamdetails)!=null&&D.stream_metadata?(c(),b("div",cs,[(B=(W=(z=o.value)==null?void 0:z.streamdetails)==null?void 0:W.stream_metadata)!=null&&B.artist?(c(),b("span",ms,C(o.value.streamdetails.stream_metadata.artist)+" - ",1)):V("",!0),R(C((k=(E=o.value)==null?void 0:E.streamdetails)==null?void 0:k.stream_metadata.title),1)])):(T=(P=o.value)==null?void 0:P.media_item)!=null&&T.metadata.description?(c(),b("div",vs,C((L=o.value)==null?void 0:L.media_item.metadata.description),1)):!s.value&&i.player.active_source?(c(),b("div",ps,C(i.$t("external_source_active",[i.player.active_source])),1)):((x=s.value)==null?void 0:x.items)==0?(c(),b("div",ys,C(i.$t("queue_empty")),1)):V("",!0):(c(),b("div",rs,C(i.$t("off")),1))])]}),append:p(()=>{var m;return[i.player.state==e(ye).PAUSED||i.player.state==e(ye).PLAYING||(m=s.value)!=null&&m.items?(c(),I(le,{key:0,variant:"icon",class:"player-command-btn",onClick:u[0]||(u[0]=f=>{e(w).playerCommandPlayPause(i.player.player_id),e(t).activePlayerId=i.player.player_id})},{default:p(()=>[d(N,{size:e(G)({breakpoint:"phone"})?"30":"32",icon:i.player.state==e(ye).PLAYING?"mdi-pause":"mdi-play"},null,8,["size","icon"])]),_:1})):(c(),I(le,{key:1,variant:"icon",class:"player-command-btn",onClick:u[1]||(u[1]=f=>{e(w).playerCommandPowerToggle(i.player.player_id),e(t).activePlayerId=i.player.player_id})},{default:p(()=>[d(N,{size:e(G)({breakpoint:"phone"})?"30":"32"},{default:p(()=>u[2]||(u[2]=[R("mdi-power")])),_:1},8,["size"])]),_:1})),i.showMenuButton?(c(),I(le,{key:2,variant:"icon",class:"player-command-btn",style:{"margin-right":"-5px"},onClick:de(n,["stop"])},{default:p(()=>[d(N,{size:e(G)({breakpoint:"phone"})?"30":"32"},{default:p(()=>u[3]||(u[3]=[R("mdi-dots-vertical")])),_:1},8,["size"])]),_:1})):V("",!0)]}),_:1}),i.showVolumeControl&&i.player.powered?(c(),I(qa,{key:0,player:i.player,"show-sync-controls":i.showSyncControls,"hide-heading-row":!0,"show-sub-players":i.showSubPlayers,"allow-wheel":!1},null,8,["player","show-sync-controls","show-sub-players"])):V("",!0)]),_:1},8,["class"]))}}),ct=oe(fs,[["__scopeId","data-v-1d9c7edf"]]),hs={style:{float:"right","margin-right":"-20px"}},_s=F({__name:"PlayerSelect",setup(a){const l=A(!1),s=$(()=>Object.values(w.players).filter(m=>n(m,!1,!1,!1)).sort((m,f)=>{var r;return m.display_name.toUpperCase()>((r=f.display_name)==null?void 0:r.toUpperCase())?1:-1}));te(()=>t.activePlayerId,m=>{m&&localStorage.setItem("mass.LastPlayerId",m)}),te(()=>w.players,m=>{m&&!t.activePlayer&&i()},{deep:!0}),te(()=>w.state,m=>{m.value!=Ja.CONNECTED&&(t.activePlayerId=void 0)},{deep:!0});function o(m,f=!1){t.activePlayerId==m.player_id?l.value=!l.value:(l.value=!1,t.activePlayerId=m.player_id),f&&(t.showPlayersMenu=!1)}qe(()=>{i()});const n=function(m,f=!0,r=!1,h=!1){return!(!m.enabled||!h&&m.hidden||!f&&!m.available||m.synced_to&&!r||!r&&m.type==_e.PLAYER&&m.active_group)},i=function(){if(t.activePlayer&&n(t.activePlayer,!1,!1,!1))return;const m=u();m&&(t.activePlayerId=m.player_id)},u=function(){const m=localStorage.getItem("mass.LastPlayerId");if(m&&m in w.players&&n(w.players[m],!1,!1,!1))return w.players[m]};return(m,f)=>(c(),b(Y,null,[d(pa,{modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":f[0]||(f[0]=r=>e(t).showPlayersMenu=r)},null,8,["modelValue"]),e(t).showPlayersMenu?(c(),I(_a,{key:0,modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":f[2]||(f[2]=r=>e(t).showPlayersMenu=r),location:"right",app:"",clipped:"",temporary:"",touchless:"",width:500,style:{"z-index":"99999"},"z-index":"99999"},{default:p(()=>[Q("div",null,[d(Ne,{class:"title",style:{"padding-top":"20px","padding-bottom":"20px"}},{default:p(()=>[Q("b",null,C(m.$t("players")),1),Q("div",hs,[d(le,{variant:"icon",to:{name:"playersettings"}},{default:p(()=>[d(N,{size:"30"},{default:p(()=>f[3]||(f[3]=[R("mdi-cog-outline")])),_:1})]),_:1}),d(le,{variant:"icon",onClick:f[1]||(f[1]=r=>e(t).showPlayersMenu=!1)},{default:p(()=>[d(N,{size:"30"},{default:p(()=>f[4]||(f[4]=[R("mdi-window-close")])),_:1})]),_:1})])]),_:1}),d(Ye),d(Al,{variant:"accordion",flat:"",class:"expansion","model-value":0},{default:p(()=>[d(rt,{style:{padding:"0"}},{default:p(()=>[d(ut,null,{default:p(()=>[Q("h3",null,C(m.$t("currently_playing_players")),1)]),_:1}),d(dt,{style:{padding:"0"}},{default:p(()=>[d(Ie,{flat:"",style:{margin:"-20px 3px 5px 3px"}},{default:p(()=>[(c(!0),b(Y,null,ie(s.value.filter(r=>[e(ye).PLAYING,e(ye).PAUSED].includes(r.state)||r.player_id==e(t).activePlayerId&&r.powered),r=>(c(),I(ct,{id:r.player_id,key:r.player_id,player:r,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&r.player_id==e(t).activePlayerId,"show-sync-controls":r.supported_features.includes(e(re).SET_MEMBERS),onClick:h=>o(r)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128)),s.value.filter(r=>[e(ye).PLAYING,e(ye).PAUSED].includes(r.state)).length==0?(c(),I(Wl,{key:0},{default:p(()=>[R(C(m.$t("no_player_playing")),1)]),_:1})):V("",!0)]),_:1})]),_:1})]),_:1}),d(rt,{style:{padding:"0"}},{default:p(()=>[d(ut,null,{default:p(()=>[Q("h3",null,C(m.$t("all_players")),1)]),_:1}),d(dt,{style:{padding:"0"}},{default:p(()=>[d(Ie,{flat:"",style:{margin:"-20px 3px 5px 3px"}},{default:p(()=>[(c(!0),b(Y,null,ie(s.value.filter(r=>r.type!=e(_e).GROUP),r=>(c(),I(ct,{id:r.player_id,key:r.player_id,player:r,"show-volume-control":!1,"show-menu-button":!0,"show-sub-players":l.value&&r.player_id==e(t).activePlayerId,"show-sync-controls":r.supported_features.includes(e(re).SET_MEMBERS),onClick:h=>o(r)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1})]),_:1})]),_:1}),d(rt,{style:{padding:"0"}},{default:p(()=>[d(ut,null,{default:p(()=>[Q("h3",null,C(m.$t("all_groups")),1)]),_:1}),d(dt,{style:{padding:"0"}},{default:p(()=>[d(Ie,{flat:"",style:{margin:"-20px 3px 5px 3px"}},{default:p(()=>[(c(!0),b(Y,null,ie(s.value.filter(r=>r.type==e(_e).GROUP),r=>(c(),I(ct,{id:r.player_id,key:r.player_id,player:r,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&r.player_id==e(t).activePlayerId,"show-sync-controls":r.supported_features.includes(e(re).SET_MEMBERS),onClick:h=>o(r)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1},8,["modelValue"])):V("",!0)],64))}}),gs=oe(_s,[["__scopeId","data-v-4355034a"]]);function bs(a={}){const{immediate:l=!1,onNeedRefresh:s,onOfflineReady:o,onRegistered:n,onRegisteredSW:i,onRegisterError:u}=a;let m,f,r;const h=async(v=!0)=>{await f,r==null||r()};async function y(){if("serviceWorker"in navigator){if(m=await el(async()=>{const{Workbox:v}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:v}},[],import.meta.url).then(({Workbox:v})=>new v("./sw.js",{scope:"./",type:"classic"})).catch(v=>{u==null||u(v)}),!m)return;r=()=>{m==null||m.messageSkipWaiting()};{let v=!1;const g=()=>{v=!0,m==null||m.addEventListener("controlling",_=>{_.isUpdate&&window.location.reload()}),s==null||s()};m.addEventListener("installed",_=>{typeof _.isUpdate>"u"?typeof _.isExternal<"u"&&_.isExternal?g():!v&&(o==null||o()):_.isUpdate||o==null||o()}),m.addEventListener("waiting",g)}m.register({immediate:l}).then(v=>{i?i("./sw.js",v):n==null||n(v)}).catch(v=>{u==null||u(v)})}}return f=y(),h}function ws(a={}){const{immediate:l=!0,onNeedRefresh:s,onOfflineReady:o,onRegistered:n,onRegisteredSW:i,onRegisterError:u}=a,m=A(!1),f=A(!1);return{updateServiceWorker:bs({immediate:l,onNeedRefresh(){m.value=!0,s==null||s()},onOfflineReady(){f.value=!0,o==null||o()},onRegistered:n,onRegisteredSW:i,onRegisterError:u}),offlineReady:f,needRefresh:m}}const ks={key:0,class:"pwa-toast",role:"alert"},Ps={class:"message"},Cs={key:0},Is={key:1},Vs=F({__name:"ReloadPrompt",setup(a){const{offlineReady:l,needRefresh:s,updateServiceWorker:o}=ws(),n=async()=>{l.value=!1,s.value=!1};return(i,u)=>e(l)||e(s)?(c(),b("div",ks,[Q("div",Ps,[e(l)?(c(),b("span",Cs," App ready to work offline ")):(c(),b("span",Is," New content available, click on reload button to update. "))]),e(s)?(c(),b("button",{key:0,onClick:u[0]||(u[0]=m=>e(o)())},"Reload")):V("",!0),Q("button",{onClick:n},"Close")])):V("",!0)}}),$s=me({...Ve(),...Il({fullHeight:!0}),...Ke()},"VApp"),Ss=ve()({name:"VApp",props:$s(),setup(a,l){let{slots:s}=l;const o=at(a),{layoutClasses:n,getLayoutItem:i,items:u,layoutRef:m}=Vl(a),{rtlClasses:f}=ht();return pe(()=>{var r;return d("div",{ref:m,class:["v-application",o.themeClasses.value,n.value,f.value,a.class],style:[a.style]},[d("div",{class:"v-application__wrap"},[(r=s.default)==null?void 0:r.call(s)])])}),{getLayoutItem:i,items:u,theme:o}}}),Qs=F({__name:"Default",setup(a){const l=tl();return te([()=>l.query.player,()=>Object.keys(w.players).length],([s])=>{var i;if(!s)return;const o=s.toString().toLowerCase(),n=(i=Object.values(w.players).find(u=>u.player_id.toLowerCase()===o||u.display_name.toLowerCase()===o))==null?void 0:i.player_id;n&&(t.activePlayerId=n)},{immediate:!0}),te(()=>l.query.showFullscreenPlayer,s=>{t.showFullscreenPlayer=!!s},{immediate:!0}),te(()=>l.query.frameless,s=>{s&&(t.frameless=!0)},{immediate:!0}),(s,o)=>(c(),b(Y,null,[e(t).connected?(c(),I(Ss,{key:0},{default:p(()=>[e(t).frameless?(c(),I(Kt,{key:0})):(c(),b(Y,{key:1},[d(gs),d(Ko),d(Kt)],64))]),_:1})):(c(),I(pa,{key:1,class:"centeredoverlay",persistent:"","model-value":!e(t).connected},{default:p(()=>[Q("div",null,[d(fl,{color:"primary",indeterminate:"",size:"64"})])]),_:1},8,["model-value"])),e(t).isInStandaloneMode?(c(),I(Vs,{key:2})):V("",!0)],64))}}),tn=oe(Qs,[["__scopeId","data-v-33a00054"]]);export{tn as default};
