(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2797],{94114:function(e,t,s){Promise.resolve().then(s.bind(s,96034))},96034:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return L}});var n=s(57437),a=s(95186),r=s(2265),l=s(41816),o=s.n(l),i=s(19378),c=s(66070),d=s(73925),u=s(75216),m=s(91521),h=s(45178),x=s(58619),f=s(35099),g=s(64697),j=s(27556),p=s(77168),b=s(74915),N=s(62869),v=s(27648),w=s(42225),y=s(7436),k=s(85872),S=s(34124),C=s(6512),_=s(37104);let E=["What does the paper say about climate change?","Making a cappuccino at home","Benefits of eating mangoes","How to plan a wedding on a budget","Appointment with Dr. Makinde on 12th August","Class notes lecture 3 on quantum mechanics","Painting concepts for acrylics","Abstract from the paper attention is all you need","Climbing Everest without oxygen","Solving a rubik's cube in 30 seconds","Facts about the planet Mars","How to make a website using React","Fish at the bottom of the ocean","Fish farming Kenya 2021","How to make a cake without an oven","Installing a solar panel at home"];function F(e){var t;let s=e.note,a=(s.additional.file||"").startsWith("http"),r=a?s.additional.heading:s.additional.file.split("/").pop(),l=(0,w.Le)(r||".txt","h-4 w-4 inline mr-2");return(0,n.jsxs)(c.Zb,{className:"bg-secondary h-full shadow-sm rounded-lg border border-muted mb-4",children:[(0,n.jsx)(c.Ol,{children:(0,n.jsxs)(c.ll,{className:"inline-flex gap-2",children:["notion"===(t=s.additional.source)?(0,n.jsx)(d.F,{className:"text-muted-foreground"}):"github"===t?(0,n.jsx)(u.b,{className:"text-muted-foreground"}):(0,n.jsx)(m.S,{className:"text-muted-foreground"}),r]})}),(0,n.jsxs)(c.aY,{children:[(0,n.jsx)("div",{className:"line-clamp-4 text-muted-foreground",children:s.entry}),(0,n.jsxs)(N.z,{onClick:()=>e.setFocusSearchResult(s),variant:"ghost",className:"p-0 mt-2 text-orange-400 hover:bg-inherit",children:["See content",(0,n.jsx)(h.o,{className:"inline ml-2"})]})]}),(0,n.jsx)(c.eW,{children:a?(0,n.jsxs)("a",{href:s.additional.file,target:"_blank",className:"underline text-sm bg-muted p-1 rounded-lg text-muted-foreground",children:[(0,n.jsx)(x.a,{className:"inline m-2"}),s.additional.file]}):(0,n.jsxs)("div",{className:"bg-muted p-2 text-sm rounded-lg text-muted-foreground",children:[l,s.additional.file]})})]})}function L(){let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)(null),[d,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(null),[L,T]=(0,r.useState)(""),[O,Z]=(0,r.useState)([]),[M,I]=(0,r.useState)([]),[R,W]=(0,r.useState)(!1),Y=(0,r.useRef)(null),D=(0,y.IC)();function H(s){t(e.replace(/file:([^"\s]*|"[^"]*")?/,'file:"'.concat(s,'"'))),W(!1),P()}function P(){!d&&e.trim()&&fetch("/api/search?q=".concat(encodeURIComponent(e),"&client=web"),{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{l(e),u(!1)}).catch(e=>{console.error("Error:",e)})}return(0,r.useEffect)(()=>{T(E[Math.floor(Math.random()*E.length)]),fetch("/api/content/computer",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{I(e)}).catch(e=>{console.error("Error loading files:",e)})},[]),(0,n.jsxs)(k.Hn,{children:[(0,n.jsx)(S.S,{conversationId:""}),(0,n.jsxs)(k.kV,{children:[(0,n.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4",children:[(0,n.jsx)(k.vP,{className:"-ml-1"}),(0,n.jsx)(C.Z,{orientation:"vertical",className:"mr-2 h-4"}),D?(0,n.jsx)("a",{className:"p-0 no-underline",href:"/",children:(0,n.jsx)(_.VO,{className:"h-auto w-16"})}):(0,n.jsx)("h2",{className:"text-lg",children:"Search"})]}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"".concat(o().searchLayout),children:(0,n.jsx)("div",{className:"md:w-3/4 sm:w-full mx-auto pt-6 md:pt-8",children:(0,n.jsxs)("div",{className:"p-4 md:w-3/4 sm:w-full mx-auto",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center border-2 border-muted p-1 gap-1 rounded-lg",children:[(0,n.jsxs)("div",{className:"relative flex-1",children:[(0,n.jsx)(a.I,{autoFocus:!0,className:"border-none pl-4",onChange:e=>{var s;t(s=e.currentTarget.value),Y.current&&clearTimeout(Y.current),function(e){var t;let s=e.match(/file:([^"\s]*|"[^"]*")?/);if(!s){Z([]),W(!1);return}let n=(null===(t=s[1])||void 0===t?void 0:t.replace(/^"|"$/g,"").trim())||"";Z(M.filter(e=>e.toLowerCase().includes(n.toLowerCase())).sort().slice(0,10)),W(!0)}(s),s.trim()&&(Y.current=setTimeout(()=>{P()},750))},onKeyDown:e=>{"Enter"===e.key&&(R&&O.length>0?H(O[0]):P())},type:"search",placeholder:"Search Documents (type 'file:' for file suggestions)",value:e}),R&&O.length>0&&(0,n.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-background border rounded-md shadow-lg",children:O.map((e,t)=>(0,n.jsx)("div",{className:"px-4 py-2 hover:bg-muted cursor-pointer",onClick:()=>H(e),children:e},t))})]}),(0,n.jsxs)("button",{className:"px-2 gap-2 inline-flex items-center rounded border-l border-gray-300 hover:text-gray-500",onClick:()=>P(),children:[(0,n.jsx)(f.Y,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"Find"})]})]}),m&&(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsxs)(N.z,{onClick:()=>h(null),className:"mb-4",variant:"outline",children:[(0,n.jsx)(g.X,{className:"inline mr-2"}),"Back"]}),function(e){let t=(e.additional.file||"").startsWith("http"),s=t?e.additional.heading:e.additional.file.split("/").pop(),a=(0,w.Le)(s||".txt","h-4 w-4 inline mr-2");return(0,n.jsxs)(c.Zb,{className:"bg-secondary h-full shadow-sm rounded-lg bg-gradient-to-b from-background to-slate-50 dark:to-gray-950 border border-muted mb-4",children:[(0,n.jsx)(c.Ol,{children:(0,n.jsx)(c.ll,{children:s})}),(0,n.jsx)(c.eW,{children:t?(0,n.jsxs)("a",{href:e.additional.file,target:"_blank",className:"underline text-sm bg-muted p-3 rounded-lg text-muted-foreground flex items-center gap-2",children:[(0,n.jsx)(x.a,{className:"inline"}),e.additional.file]}):(0,n.jsxs)("div",{className:"bg-muted p-3 text-sm rounded-lg text-muted-foreground flex items-center gap-2",children:[a,e.additional.file]})}),(0,n.jsx)(c.aY,{children:(0,n.jsx)("div",{className:"text-m",children:e.entry})})]})}(m)]}),!m&&s&&s.length>0&&(0,n.jsx)("div",{className:"mt-4 max-w-[92vw] break-all",children:(0,n.jsx)(i.x,{className:"h-[80vh]",children:s.map((e,t)=>(0,n.jsx)(F,{note:e,setFocusSearchResult:h},e["corpus-id"]))})}),null==s&&(0,n.jsxs)(c.Zb,{className:"flex flex-col items-center justify-center border-none shadow-none",children:[(0,n.jsxs)(c.Ol,{className:"flex flex-col items-center justify-center",children:[(0,n.jsx)(c.SZ,{className:"border-muted-foreground border w-fit rounded-lg mb-2 text-center text-lg p-4",children:(0,n.jsx)(j.r,{weight:"fill",className:"text-muted-foreground h-10 w-10"})}),(0,n.jsx)(c.ll,{className:"text-center",children:"Search across your documents"})]}),(0,n.jsxs)(c.aY,{className:"text-muted-foreground items-center justify-center text-center flex",children:[(0,n.jsx)(p.v,{className:"inline mr-2"})," ",L]})]}),s&&0===s.length&&(0,n.jsxs)(c.Zb,{className:"flex flex-col items-center justify-center border-none shadow-none",children:[(0,n.jsxs)(c.Ol,{className:"flex flex-col items-center justify-center",children:[(0,n.jsx)(c.SZ,{className:"border-muted-foreground border w-fit rounded-lg mb-2 text-center text-lg p-4",children:(0,n.jsx)(b.D,{weight:"fill",className:"text-muted-foreground h-10 w-10"})}),(0,n.jsx)(c.ll,{className:"text-center",children:"No documents found"})]}),(0,n.jsxs)(c.aY,{children:[(0,n.jsx)("div",{className:"text-muted-foreground items-center justify-center text-center flex",children:"To use search, upload your docs to your account."}),(0,n.jsx)(v.default,{href:"https://docs.khoj.dev/data-sources/share_your_data",className:"no-underline",children:(0,n.jsx)("div",{className:"mt-4 text-center text-secondary-foreground bg-secondary w-fit m-auto p-2 rounded-lg",children:"Learn More"})})]})]})]})})})})]})]})}},41816:function(e){e.exports={searchLayout:"search_searchLayout__fP3m0"}}},function(e){e.O(0,[2026,1607,9259,8667,182,6065,2327,2971,2117,1744],function(){return e(e.s=94114)}),_N_E=e.O()}]);