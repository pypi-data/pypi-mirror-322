import{v as ue,z as k,d as D,r as U,b6 as Ke,U as jt,a1 as Nt,V as Ht,P as Pt,au as Kt,w as ie,a2 as he,R as Lt,N as Jt,O as Yt,e as Gt,W as Wt,aB as qt,J as Q,al as Xt,aL as Zt,j as kt,bd as ze,b8 as $t,f as A,p as q,q as L,h as O,F as oe,G as ae,u as $,H as Y,I as Je,Q as se,t as F,C as V,E as G,_ as en,l as tn,L as nn,n as Ye,s as M,X as rn,Y as me,a8 as Ge,ad as on,ae as an,A as ye,af as We,D as Xe}from"./index-CTZOk7JZ.js";import{a as sn,Q as ln}from"./QHeader-CFwRq-CN.js";import{Q as Ze}from"./QLinearProgress-CKqADvbx.js";import{c as un,u as cn,a as dn,b as fn,Q as gn,e as hn}from"./use-panel-_gqEfoej.js";import{u as mn,a as yn,b as wn}from"./use-fullscreen-CZlBLFBX.js";import{Q as vn}from"./QPageSticky-DgJc7hwu.js";import{Q as Sn,a as $e}from"./QLayout-uk5-M_nV.js";import{Q as pn,a as _n}from"./QBtnDropdown-BxiZx-xw.js";const we=ue({name:"QSpace",setup(){const e=k("div",{class:"q-space"});return()=>e}}),Cn={ratio:[String,Number]};function bn(e,n){return D(()=>{const i=Number(e.ratio||(n!==void 0?n.value:void 0));return isNaN(i)!==!0&&i>0?{paddingBottom:`${100/i}%`}:null})}const En=1.7778,In=ue({name:"QImg",props:{...Cn,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:En},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:n,emit:i}){const t=U(e.initialRatio),r=bn(e,t),o=Lt(),{registerTimeout:s,removeTimeout:l}=Ke(),{registerTimeout:a,removeTimeout:u}=Ke(),g=D(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),_=D(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),m=[U(null),U(g.value)],d=U(0),E=U(!1),T=U(!1),N=D(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),I=D(()=>({width:e.width,height:e.height})),R=D(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),B=D(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function C(){if(u(),e.loadingShowDelay===0){E.value=!0;return}a(()=>{E.value=!0},e.loadingShowDelay)}function P(){u(),E.value=!1}function y({target:c}){he(o)===!1&&(l(),t.value=c.naturalHeight===0?.5:c.naturalWidth/c.naturalHeight,S(c,1))}function S(c,f){f===1e3||he(o)===!0||(c.complete===!0?p(c):s(()=>{S(c,f+1)},50))}function p(c){he(o)!==!0&&(d.value=d.value^1,m[d.value].value=null,P(),c.getAttribute("__qerror")!=="true"&&(T.value=!1),i("load",c.currentSrc||c.src))}function w(c){l(),P(),T.value=!0,m[d.value].value=_.value,m[d.value^1].value=g.value,i("error",c)}function h(c){const f=m[c].value,b={key:"img_"+c,class:R.value,style:B.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...f};return d.value===c?Object.assign(b,{class:b.class+"current",onLoad:y,onError:w}):b.class+="loaded",k("div",{class:"q-img__container absolute-full",key:"img"+c},k("img",b))}function v(){return E.value===!1?k("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Pt(n[T.value===!0?"error":"default"])):k("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},n.loading!==void 0?n.loading():e.noSpinner===!0?void 0:[k(Kt,{color:e.spinnerColor,size:e.spinnerSize})])}{let c=function(){ie(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,f=>{l(),T.value=!1,f===null?(P(),m[d.value^1].value=g.value):C(),m[d.value].value=f},{immediate:!0})};jt.value===!0?Nt(c):c()}return()=>{const c=[];return r.value!==null&&c.push(k("div",{key:"filler",style:r.value})),m[0].value!==null&&c.push(h(0)),m[1].value!==null&&c.push(h(1)),c.push(k(Ht,{name:"q-transition--fade"},v)),k("div",{key:"main",class:N.value,style:I.value,role:"img","aria-label":e.alt},c)}}}),Bn=ue({name:"QCarouselSlide",props:{...un,imgSrc:String},setup(e,{slots:n}){const i=D(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>k("div",{class:"q-carousel__slide",style:i.value},Pt(n.default))}}),Tn=["top","right","bottom","left"],Rn=["regular","flat","outline","push","unelevated"],An=ue({name:"QCarousel",props:{...Jt,...cn,...mn,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Rn.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Tn.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...yn,...dn],setup(e,{slots:n}){const{proxy:{$q:i}}=Lt(),t=Yt(e,i);let r=null,o;const{updatePanelsList:s,getPanelContent:l,panelDirectives:a,goToPanel:u,previousPanel:g,nextPanel:_,getEnabledPanels:m,panelIndex:d}=fn(),{inFullscreen:E}=wn(),T=D(()=>E.value!==!0&&e.height!==void 0?{height:e.height}:{}),N=D(()=>e.vertical===!0?"vertical":"horizontal"),I=D(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),R=D(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(E.value===!0?" fullscreen":"")+(t.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${N.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${I.value}`:"")),B=D(()=>{const h=[e.prevIcon||i.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||i.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&i.lang.rtl===!0?h.reverse():h}),C=D(()=>e.navigationIcon||i.iconSet.carousel.navigationIcon),P=D(()=>e.navigationActiveIcon||C.value),y=D(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));ie(()=>e.modelValue,()=>{e.autoplay&&S()}),ie(()=>e.autoplay,h=>{h?S():r!==null&&(clearTimeout(r),r=null)});function S(){const h=qt(e.autoplay)===!0?Math.abs(e.autoplay):5e3;r!==null&&clearTimeout(r),r=setTimeout(()=>{r=null,h>=0?_():g()},h)}Nt(()=>{e.autoplay&&S()}),Gt(()=>{r!==null&&clearTimeout(r)});function p(h,v){return k("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${h} q-carousel__navigation--${I.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[k("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},m().map(v))])}function w(){const h=[];if(e.navigation===!0){const v=n["navigation-icon"]!==void 0?n["navigation-icon"]:f=>k(Q,{key:"nav"+f.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${f.active===!0?"":"in"}active`,...f.btnProps,onClick:f.onClick}),c=o-1;h.push(p("buttons",(f,b)=>{const z=f.props.name,K=d.value===b;return v({index:b,maxIndex:c,name:z,active:K,btnProps:{icon:K===!0?P.value:C.value,size:"sm",...y.value},onClick:()=>{u(z)}})}))}else if(e.thumbnails===!0){const v=e.controlColor!==void 0?` text-${e.controlColor}`:"";h.push(p("thumbnails",c=>{const f=c.props;return k("img",{key:"tmb#"+f.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${f.name===e.modelValue?"":"in"}active`+v,src:f.imgSrc||f["img-src"],onClick:()=>{u(f.name)}})}))}return e.arrows===!0&&d.value>=0&&((e.infinite===!0||d.value>0)&&h.push(k("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${N.value} absolute flex flex-center`},[k(Q,{icon:B.value[0],...y.value,onClick:g})])),(e.infinite===!0||d.value<o-1)&&h.push(k("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${N.value} absolute flex flex-center`},[k(Q,{icon:B.value[1],...y.value,onClick:_})]))),Xt(n.control,h)}return()=>(o=s(n),k("div",{class:R.value,style:T.value},[Wt("div",{class:"q-carousel__slides-container"},l(),"sl-cont",e.swipeable,()=>a.value)].concat(w())))}});var ee={},ve,et;function Nn(){return et||(et=1,ve=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),ve}var Se={},J={},tt;function W(){if(tt)return J;tt=1;let e;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return J.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17},J.getSymbolTotalCodewords=function(t){return n[t]},J.getBCHDigit=function(i){let t=0;for(;i!==0;)t++,i>>>=1;return t},J.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');e=t},J.isKanjiModeEnabled=function(){return typeof e<"u"},J.toSJIS=function(t){return e(t)},J}var pe={},nt;function Qe(){return nt||(nt=1,function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+i)}}e.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4},e.from=function(t,r){if(e.isValid(t))return t;try{return n(t)}catch{return r}}}(pe)),pe}var _e,rt;function Pn(){if(rt)return _e;rt=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(n){const i=Math.floor(n/8);return(this.buffer[i]>>>7-n%8&1)===1},put:function(n,i){for(let t=0;t<i;t++)this.putBit((n>>>i-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),n&&(this.buffer[i]|=128>>>this.length%8),this.length++}},_e=e,_e}var Ce,it;function Ln(){if(it)return Ce;it=1;function e(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}return e.prototype.set=function(n,i,t,r){const o=n*this.size+i;this.data[o]=t,r&&(this.reservedBit[o]=!0)},e.prototype.get=function(n,i){return this.data[n*this.size+i]},e.prototype.xor=function(n,i,t){this.data[n*this.size+i]^=t},e.prototype.isReserved=function(n,i){return this.reservedBit[n*this.size+i]},Ce=e,Ce}var be={},ot;function qn(){return ot||(ot=1,function(e){const n=W().getSymbolSize;e.getRowColCoords=function(t){if(t===1)return[];const r=Math.floor(t/7)+2,o=n(t),s=o===145?26:Math.ceil((o-13)/(2*r-2))*2,l=[o-7];for(let a=1;a<r-1;a++)l[a]=l[a-1]-s;return l.push(6),l.reverse()},e.getPositions=function(t){const r=[],o=e.getRowColCoords(t),s=o.length;for(let l=0;l<s;l++)for(let a=0;a<s;a++)l===0&&a===0||l===0&&a===s-1||l===s-1&&a===0||r.push([o[l],o[a]]);return r}}(be)),be}var Ee={},at;function kn(){if(at)return Ee;at=1;const e=W().getSymbolSize,n=7;return Ee.getPositions=function(t){const r=e(t);return[[0,0],[r-n,0],[0,r-n]]},Ee}var Ie={},st;function Mn(){return st||(st=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n={N1:3,N2:3,N3:40,N4:10};e.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},e.from=function(r){return e.isValid(r)?parseInt(r,10):void 0},e.getPenaltyN1=function(r){const o=r.size;let s=0,l=0,a=0,u=null,g=null;for(let _=0;_<o;_++){l=a=0,u=g=null;for(let m=0;m<o;m++){let d=r.get(_,m);d===u?l++:(l>=5&&(s+=n.N1+(l-5)),u=d,l=1),d=r.get(m,_),d===g?a++:(a>=5&&(s+=n.N1+(a-5)),g=d,a=1)}l>=5&&(s+=n.N1+(l-5)),a>=5&&(s+=n.N1+(a-5))}return s},e.getPenaltyN2=function(r){const o=r.size;let s=0;for(let l=0;l<o-1;l++)for(let a=0;a<o-1;a++){const u=r.get(l,a)+r.get(l,a+1)+r.get(l+1,a)+r.get(l+1,a+1);(u===4||u===0)&&s++}return s*n.N2},e.getPenaltyN3=function(r){const o=r.size;let s=0,l=0,a=0;for(let u=0;u<o;u++){l=a=0;for(let g=0;g<o;g++)l=l<<1&2047|r.get(u,g),g>=10&&(l===1488||l===93)&&s++,a=a<<1&2047|r.get(g,u),g>=10&&(a===1488||a===93)&&s++}return s*n.N3},e.getPenaltyN4=function(r){let o=0;const s=r.data.length;for(let a=0;a<s;a++)o+=r.data[a];return Math.abs(Math.ceil(o*100/s/5)-10)*n.N4};function i(t,r,o){switch(t){case e.Patterns.PATTERN000:return(r+o)%2===0;case e.Patterns.PATTERN001:return r%2===0;case e.Patterns.PATTERN010:return o%3===0;case e.Patterns.PATTERN011:return(r+o)%3===0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(o/3))%2===0;case e.Patterns.PATTERN101:return r*o%2+r*o%3===0;case e.Patterns.PATTERN110:return(r*o%2+r*o%3)%2===0;case e.Patterns.PATTERN111:return(r*o%3+(r+o)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}e.applyMask=function(r,o){const s=o.size;for(let l=0;l<s;l++)for(let a=0;a<s;a++)o.isReserved(a,l)||o.xor(a,l,i(r,a,l))},e.getBestMask=function(r,o){const s=Object.keys(e.Patterns).length;let l=0,a=1/0;for(let u=0;u<s;u++){o(u),e.applyMask(u,r);const g=e.getPenaltyN1(r)+e.getPenaltyN2(r)+e.getPenaltyN3(r)+e.getPenaltyN4(r);e.applyMask(u,r),g<a&&(a=g,l=u)}return l}}(Ie)),Ie}var re={},lt;function Mt(){if(lt)return re;lt=1;const e=Qe(),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return re.getBlocksCount=function(r,o){switch(o){case e.L:return n[(r-1)*4+0];case e.M:return n[(r-1)*4+1];case e.Q:return n[(r-1)*4+2];case e.H:return n[(r-1)*4+3];default:return}},re.getTotalCodewordsCount=function(r,o){switch(o){case e.L:return i[(r-1)*4+0];case e.M:return i[(r-1)*4+1];case e.Q:return i[(r-1)*4+2];case e.H:return i[(r-1)*4+3];default:return}},re}var Be={},te={},ut;function Dn(){if(ut)return te;ut=1;const e=new Uint8Array(512),n=new Uint8Array(256);return function(){let t=1;for(let r=0;r<255;r++)e[r]=t,n[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)e[r]=e[r-255]}(),te.log=function(t){if(t<1)throw new Error("log("+t+")");return n[t]},te.exp=function(t){return e[t]},te.mul=function(t,r){return t===0||r===0?0:e[n[t]+n[r]]},te}var ct;function Fn(){return ct||(ct=1,function(e){const n=Dn();e.mul=function(t,r){const o=new Uint8Array(t.length+r.length-1);for(let s=0;s<t.length;s++)for(let l=0;l<r.length;l++)o[s+l]^=n.mul(t[s],r[l]);return o},e.mod=function(t,r){let o=new Uint8Array(t);for(;o.length-r.length>=0;){const s=o[0];for(let a=0;a<r.length;a++)o[a]^=n.mul(r[a],s);let l=0;for(;l<o.length&&o[l]===0;)l++;o=o.slice(l)}return o},e.generateECPolynomial=function(t){let r=new Uint8Array([1]);for(let o=0;o<t;o++)r=e.mul(r,new Uint8Array([1,n.exp(o)]));return r}}(Be)),Be}var Te,dt;function Un(){if(dt)return Te;dt=1;const e=Fn();function n(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}return n.prototype.initialize=function(t){this.degree=t,this.genPoly=e.generateECPolynomial(this.degree)},n.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const o=e.mod(r,this.genPoly),s=this.degree-o.length;if(s>0){const l=new Uint8Array(this.degree);return l.set(o,s),l}return o},Te=n,Te}var Re={},Ae={},Ne={},ft;function Dt(){return ft||(ft=1,Ne.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}),Ne}var x={},gt;function Ft(){if(gt)return x;gt=1;const e="[0-9]+",n="[A-Z $%*+\\-./:]+";let i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";i=i.replace(/u/g,"\\u");const t="(?:(?![A-Z0-9 $%*+\\-./:]|"+i+`)(?:.|[\r
]))+`;x.KANJI=new RegExp(i,"g"),x.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),x.BYTE=new RegExp(t,"g"),x.NUMERIC=new RegExp(e,"g"),x.ALPHANUMERIC=new RegExp(n,"g");const r=new RegExp("^"+i+"$"),o=new RegExp("^"+e+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return x.testKanji=function(a){return r.test(a)},x.testNumeric=function(a){return o.test(a)},x.testAlphanumeric=function(a){return s.test(a)},x}var ht;function X(){return ht||(ht=1,function(e){const n=Dt(),i=Ft();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!n.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?o.ccBits[0]:s<27?o.ccBits[1]:o.ccBits[2]},e.getBestModeForData=function(o){return i.testNumeric(o)?e.NUMERIC:i.testAlphanumeric(o)?e.ALPHANUMERIC:i.testKanji(o)?e.KANJI:e.BYTE},e.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},e.isValid=function(o){return o&&o.bit&&o.ccBits};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+r)}}e.from=function(o,s){if(e.isValid(o))return o;try{return t(o)}catch{return s}}}(Ae)),Ae}var mt;function On(){return mt||(mt=1,function(e){const n=W(),i=Mt(),t=Qe(),r=X(),o=Dt(),s=7973,l=n.getBCHDigit(s);function a(m,d,E){for(let T=1;T<=40;T++)if(d<=e.getCapacity(T,E,m))return T}function u(m,d){return r.getCharCountIndicator(m,d)+4}function g(m,d){let E=0;return m.forEach(function(T){const N=u(T.mode,d);E+=N+T.getBitsLength()}),E}function _(m,d){for(let E=1;E<=40;E++)if(g(m,E)<=e.getCapacity(E,d,r.MIXED))return E}e.from=function(d,E){return o.isValid(d)?parseInt(d,10):E},e.getCapacity=function(d,E,T){if(!o.isValid(d))throw new Error("Invalid QR Code version");typeof T>"u"&&(T=r.BYTE);const N=n.getSymbolTotalCodewords(d),I=i.getTotalCodewordsCount(d,E),R=(N-I)*8;if(T===r.MIXED)return R;const B=R-u(T,d);switch(T){case r.NUMERIC:return Math.floor(B/10*3);case r.ALPHANUMERIC:return Math.floor(B/11*2);case r.KANJI:return Math.floor(B/13);case r.BYTE:default:return Math.floor(B/8)}},e.getBestVersionForData=function(d,E){let T;const N=t.from(E,t.M);if(Array.isArray(d)){if(d.length>1)return _(d,N);if(d.length===0)return 1;T=d[0]}else T=d;return a(T.mode,T.getLength(),N)},e.getEncodedBits=function(d){if(!o.isValid(d)||d<7)throw new Error("Invalid QR Code version");let E=d<<12;for(;n.getBCHDigit(E)-l>=0;)E^=s<<n.getBCHDigit(E)-l;return d<<12|E}}(Re)),Re}var Pe={},yt;function Vn(){if(yt)return Pe;yt=1;const e=W(),n=1335,i=21522,t=e.getBCHDigit(n);return Pe.getEncodedBits=function(o,s){const l=o.bit<<3|s;let a=l<<10;for(;e.getBCHDigit(a)-t>=0;)a^=n<<e.getBCHDigit(a)-t;return(l<<10|a)^i},Pe}var Le={},qe,wt;function zn(){if(wt)return qe;wt=1;const e=X();function n(i){this.mode=e.NUMERIC,this.data=i.toString()}return n.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(t){let r,o,s;for(r=0;r+3<=this.data.length;r+=3)o=this.data.substr(r,3),s=parseInt(o,10),t.put(s,10);const l=this.data.length-r;l>0&&(o=this.data.substr(r),s=parseInt(o,10),t.put(s,l*3+1))},qe=n,qe}var ke,vt;function Qn(){if(vt)return ke;vt=1;const e=X(),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(t){this.mode=e.ALPHANUMERIC,this.data=t}return i.getBitsLength=function(r){return 11*Math.floor(r/2)+6*(r%2)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(r){let o;for(o=0;o+2<=this.data.length;o+=2){let s=n.indexOf(this.data[o])*45;s+=n.indexOf(this.data[o+1]),r.put(s,11)}this.data.length%2&&r.put(n.indexOf(this.data[o]),6)},ke=i,ke}var Me,St;function xn(){if(St)return Me;St=1;const e=X();function n(i){this.mode=e.BYTE,typeof i=="string"?this.data=new TextEncoder().encode(i):this.data=new Uint8Array(i)}return n.getBitsLength=function(t){return t*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){for(let t=0,r=this.data.length;t<r;t++)i.put(this.data[t],8)},Me=n,Me}var De,pt;function jn(){if(pt)return De;pt=1;const e=X(),n=W();function i(t){this.mode=e.KANJI,this.data=t}return i.getBitsLength=function(r){return r*13},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){let r;for(r=0;r<this.data.length;r++){let o=n.toSJIS(this.data[r]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[r]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),t.put(o,13)}},De=i,De}var Fe={exports:{}},_t;function Hn(){return _t||(_t=1,function(e){var n={single_source_shortest_paths:function(i,t,r){var o={},s={};s[t]=0;var l=n.PriorityQueue.make();l.push(t,0);for(var a,u,g,_,m,d,E,T,N;!l.empty();){a=l.pop(),u=a.value,_=a.cost,m=i[u]||{};for(g in m)m.hasOwnProperty(g)&&(d=m[g],E=_+d,T=s[g],N=typeof s[g]>"u",(N||T>E)&&(s[g]=E,l.push(g,E),o[g]=u))}if(typeof r<"u"&&typeof s[r]>"u"){var I=["Could not find a path from ",t," to ",r,"."].join("");throw new Error(I)}return o},extract_shortest_path_from_predecessor_list:function(i,t){for(var r=[],o=t;o;)r.push(o),i[o],o=i[o];return r.reverse(),r},find_path:function(i,t,r){var o=n.single_source_shortest_paths(i,t,r);return n.extract_shortest_path_from_predecessor_list(o,r)},PriorityQueue:{make:function(i){var t=n.PriorityQueue,r={},o;i=i||{};for(o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);return r.queue=[],r.sorter=i.sorter||t.default_sorter,r},default_sorter:function(i,t){return i.cost-t.cost},push:function(i,t){var r={value:i,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=n}(Fe)),Fe.exports}var Ct;function Kn(){return Ct||(Ct=1,function(e){const n=X(),i=zn(),t=Qn(),r=xn(),o=jn(),s=Ft(),l=W(),a=Hn();function u(I){return unescape(encodeURIComponent(I)).length}function g(I,R,B){const C=[];let P;for(;(P=I.exec(B))!==null;)C.push({data:P[0],index:P.index,mode:R,length:P[0].length});return C}function _(I){const R=g(s.NUMERIC,n.NUMERIC,I),B=g(s.ALPHANUMERIC,n.ALPHANUMERIC,I);let C,P;return l.isKanjiModeEnabled()?(C=g(s.BYTE,n.BYTE,I),P=g(s.KANJI,n.KANJI,I)):(C=g(s.BYTE_KANJI,n.BYTE,I),P=[]),R.concat(B,C,P).sort(function(S,p){return S.index-p.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function m(I,R){switch(R){case n.NUMERIC:return i.getBitsLength(I);case n.ALPHANUMERIC:return t.getBitsLength(I);case n.KANJI:return o.getBitsLength(I);case n.BYTE:return r.getBitsLength(I)}}function d(I){return I.reduce(function(R,B){const C=R.length-1>=0?R[R.length-1]:null;return C&&C.mode===B.mode?(R[R.length-1].data+=B.data,R):(R.push(B),R)},[])}function E(I){const R=[];for(let B=0;B<I.length;B++){const C=I[B];switch(C.mode){case n.NUMERIC:R.push([C,{data:C.data,mode:n.ALPHANUMERIC,length:C.length},{data:C.data,mode:n.BYTE,length:C.length}]);break;case n.ALPHANUMERIC:R.push([C,{data:C.data,mode:n.BYTE,length:C.length}]);break;case n.KANJI:R.push([C,{data:C.data,mode:n.BYTE,length:u(C.data)}]);break;case n.BYTE:R.push([{data:C.data,mode:n.BYTE,length:u(C.data)}])}}return R}function T(I,R){const B={},C={start:{}};let P=["start"];for(let y=0;y<I.length;y++){const S=I[y],p=[];for(let w=0;w<S.length;w++){const h=S[w],v=""+y+w;p.push(v),B[v]={node:h,lastCount:0},C[v]={};for(let c=0;c<P.length;c++){const f=P[c];B[f]&&B[f].node.mode===h.mode?(C[f][v]=m(B[f].lastCount+h.length,h.mode)-m(B[f].lastCount,h.mode),B[f].lastCount+=h.length):(B[f]&&(B[f].lastCount=h.length),C[f][v]=m(h.length,h.mode)+4+n.getCharCountIndicator(h.mode,R))}}P=p}for(let y=0;y<P.length;y++)C[P[y]].end=0;return{map:C,table:B}}function N(I,R){let B;const C=n.getBestModeForData(I);if(B=n.from(R,C),B!==n.BYTE&&B.bit<C.bit)throw new Error('"'+I+'" cannot be encoded with mode '+n.toString(B)+`.
 Suggested mode is: `+n.toString(C));switch(B===n.KANJI&&!l.isKanjiModeEnabled()&&(B=n.BYTE),B){case n.NUMERIC:return new i(I);case n.ALPHANUMERIC:return new t(I);case n.KANJI:return new o(I);case n.BYTE:return new r(I)}}e.fromArray=function(R){return R.reduce(function(B,C){return typeof C=="string"?B.push(N(C,null)):C.data&&B.push(N(C.data,C.mode)),B},[])},e.fromString=function(R,B){const C=_(R,l.isKanjiModeEnabled()),P=E(C),y=T(P,B),S=a.find_path(y.map,"start","end"),p=[];for(let w=1;w<S.length-1;w++)p.push(y.table[S[w]].node);return e.fromArray(d(p))},e.rawSplit=function(R){return e.fromArray(_(R,l.isKanjiModeEnabled()))}}(Le)),Le}var bt;function Jn(){if(bt)return Se;bt=1;const e=W(),n=Qe(),i=Pn(),t=Ln(),r=qn(),o=kn(),s=Mn(),l=Mt(),a=Un(),u=On(),g=Vn(),_=X(),m=Kn();function d(y,S){const p=y.size,w=o.getPositions(S);for(let h=0;h<w.length;h++){const v=w[h][0],c=w[h][1];for(let f=-1;f<=7;f++)if(!(v+f<=-1||p<=v+f))for(let b=-1;b<=7;b++)c+b<=-1||p<=c+b||(f>=0&&f<=6&&(b===0||b===6)||b>=0&&b<=6&&(f===0||f===6)||f>=2&&f<=4&&b>=2&&b<=4?y.set(v+f,c+b,!0,!0):y.set(v+f,c+b,!1,!0))}}function E(y){const S=y.size;for(let p=8;p<S-8;p++){const w=p%2===0;y.set(p,6,w,!0),y.set(6,p,w,!0)}}function T(y,S){const p=r.getPositions(S);for(let w=0;w<p.length;w++){const h=p[w][0],v=p[w][1];for(let c=-2;c<=2;c++)for(let f=-2;f<=2;f++)c===-2||c===2||f===-2||f===2||c===0&&f===0?y.set(h+c,v+f,!0,!0):y.set(h+c,v+f,!1,!0)}}function N(y,S){const p=y.size,w=u.getEncodedBits(S);let h,v,c;for(let f=0;f<18;f++)h=Math.floor(f/3),v=f%3+p-8-3,c=(w>>f&1)===1,y.set(h,v,c,!0),y.set(v,h,c,!0)}function I(y,S,p){const w=y.size,h=g.getEncodedBits(S,p);let v,c;for(v=0;v<15;v++)c=(h>>v&1)===1,v<6?y.set(v,8,c,!0):v<8?y.set(v+1,8,c,!0):y.set(w-15+v,8,c,!0),v<8?y.set(8,w-v-1,c,!0):v<9?y.set(8,15-v-1+1,c,!0):y.set(8,15-v-1,c,!0);y.set(w-8,8,1,!0)}function R(y,S){const p=y.size;let w=-1,h=p-1,v=7,c=0;for(let f=p-1;f>0;f-=2)for(f===6&&f--;;){for(let b=0;b<2;b++)if(!y.isReserved(h,f-b)){let z=!1;c<S.length&&(z=(S[c]>>>v&1)===1),y.set(h,f-b,z),v--,v===-1&&(c++,v=7)}if(h+=w,h<0||p<=h){h-=w,w=-w;break}}}function B(y,S,p){const w=new i;p.forEach(function(b){w.put(b.mode.bit,4),w.put(b.getLength(),_.getCharCountIndicator(b.mode,y)),b.write(w)});const h=e.getSymbolTotalCodewords(y),v=l.getTotalCodewordsCount(y,S),c=(h-v)*8;for(w.getLengthInBits()+4<=c&&w.put(0,4);w.getLengthInBits()%8!==0;)w.putBit(0);const f=(c-w.getLengthInBits())/8;for(let b=0;b<f;b++)w.put(b%2?17:236,8);return C(w,y,S)}function C(y,S,p){const w=e.getSymbolTotalCodewords(S),h=l.getTotalCodewordsCount(S,p),v=w-h,c=l.getBlocksCount(S,p),f=w%c,b=c-f,z=Math.floor(w/c),K=Math.floor(v/c),zt=K+1,xe=z-K,Qt=new a(xe);let ce=0;const ne=new Array(c),je=new Array(c);let de=0;const xt=new Uint8Array(y.buffer);for(let Z=0;Z<c;Z++){const ge=Z<b?K:zt;ne[Z]=xt.slice(ce,ce+ge),je[Z]=Qt.encode(ne[Z]),ce+=ge,de=Math.max(de,ge)}const fe=new Uint8Array(w);let He=0,j,H;for(j=0;j<de;j++)for(H=0;H<c;H++)j<ne[H].length&&(fe[He++]=ne[H][j]);for(j=0;j<xe;j++)for(H=0;H<c;H++)fe[He++]=je[H][j];return fe}function P(y,S,p,w){let h;if(Array.isArray(y))h=m.fromArray(y);else if(typeof y=="string"){let z=S;if(!z){const K=m.rawSplit(y);z=u.getBestVersionForData(K,p)}h=m.fromString(y,z||40)}else throw new Error("Invalid data");const v=u.getBestVersionForData(h,p);if(!v)throw new Error("The amount of data is too big to be stored in a QR Code");if(!S)S=v;else if(S<v)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+v+`.
`);const c=B(S,p,h),f=e.getSymbolSize(S),b=new t(f);return d(b,S),E(b),T(b,S),I(b,p,0),S>=7&&N(b,S),R(b,c),isNaN(w)&&(w=s.getBestMask(b,I.bind(null,b,p))),s.applyMask(w,b),I(b,p,w),{modules:b,version:S,errorCorrectionLevel:p,maskPattern:w,segments:h}}return Se.create=function(S,p){if(typeof S>"u"||S==="")throw new Error("No input text");let w=n.M,h,v;return typeof p<"u"&&(w=n.from(p.errorCorrectionLevel,n.M),h=u.from(p.version),v=s.from(p.maskPattern),p.toSJISFunc&&e.setToSJISFunction(p.toSJISFunc)),P(S,h,w,v)},Se}var Ue={},Oe={},Et;function Ut(){return Et||(Et=1,function(e){function n(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let t=i.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+i);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(o){return[o,o]}))),t.length===6&&t.push("F","F");const r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+t.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});const r=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,o=t.width&&t.width>=21?t.width:void 0,s=t.scale||4;return{width:o,scale:o?4:s,margin:r,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,r){return r.width&&r.width>=t+r.margin*2?r.width/(t+r.margin*2):r.scale},e.getImageWidth=function(t,r){const o=e.getScale(t,r);return Math.floor((t+r.margin*2)*o)},e.qrToImageData=function(t,r,o){const s=r.modules.size,l=r.modules.data,a=e.getScale(s,o),u=Math.floor((s+o.margin*2)*a),g=o.margin*a,_=[o.color.light,o.color.dark];for(let m=0;m<u;m++)for(let d=0;d<u;d++){let E=(m*u+d)*4,T=o.color.light;if(m>=g&&d>=g&&m<u-g&&d<u-g){const N=Math.floor((m-g)/a),I=Math.floor((d-g)/a);T=_[l[N*s+I]?1:0]}t[E++]=T.r,t[E++]=T.g,t[E++]=T.b,t[E]=T.a}}}(Oe)),Oe}var It;function Yn(){return It||(It=1,function(e){const n=Ut();function i(r,o,s){r.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function t(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(o,s,l){let a=l,u=s;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),s||(u=t()),a=n.getOptions(a);const g=n.getImageWidth(o.modules.size,a),_=u.getContext("2d"),m=_.createImageData(g,g);return n.qrToImageData(m.data,o,a),i(_,u,g),_.putImageData(m,0,0),u},e.renderToDataURL=function(o,s,l){let a=l;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),a||(a={});const u=e.render(o,s,a),g=a.type||"image/png",_=a.rendererOpts||{};return u.toDataURL(g,_.quality)}}(Ue)),Ue}var Ve={},Bt;function Gn(){if(Bt)return Ve;Bt=1;const e=Ut();function n(r,o){const s=r.a/255,l=o+'="'+r.hex+'"';return s<1?l+" "+o+'-opacity="'+s.toFixed(2).slice(1)+'"':l}function i(r,o,s){let l=r+o;return typeof s<"u"&&(l+=" "+s),l}function t(r,o,s){let l="",a=0,u=!1,g=0;for(let _=0;_<r.length;_++){const m=Math.floor(_%o),d=Math.floor(_/o);!m&&!u&&(u=!0),r[_]?(g++,_>0&&m>0&&r[_-1]||(l+=u?i("M",m+s,.5+d+s):i("m",a,0),a=0,u=!1),m+1<o&&r[_+1]||(l+=i("h",g),g=0)):a++}return l}return Ve.render=function(o,s,l){const a=e.getOptions(s),u=o.modules.size,g=o.modules.data,_=u+a.margin*2,m=a.color.light.a?"<path "+n(a.color.light,"fill")+' d="M0 0h'+_+"v"+_+'H0z"/>':"",d="<path "+n(a.color.dark,"stroke")+' d="'+t(g,u,a.margin)+'"/>',E='viewBox="0 0 '+_+" "+_+'"',N='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+E+' shape-rendering="crispEdges">'+m+d+`</svg>
`;return typeof l=="function"&&l(null,N),N},Ve}var Tt;function Wn(){if(Tt)return ee;Tt=1;const e=Nn(),n=Jn(),i=Yn(),t=Gn();function r(o,s,l,a,u){const g=[].slice.call(arguments,1),_=g.length,m=typeof g[_-1]=="function";if(!m&&!e())throw new Error("Callback required as last argument");if(m){if(_<2)throw new Error("Too few arguments provided");_===2?(u=l,l=s,s=a=void 0):_===3&&(s.getContext&&typeof u>"u"?(u=a,a=void 0):(u=a,a=l,l=s,s=void 0))}else{if(_<1)throw new Error("Too few arguments provided");return _===1?(l=s,s=a=void 0):_===2&&!s.getContext&&(a=l,l=s,s=void 0),new Promise(function(d,E){try{const T=n.create(l,a);d(o(T,s,a))}catch(T){E(T)}})}try{const d=n.create(l,a);u(null,o(d,s,a))}catch(d){u(d)}}return ee.create=n.create,ee.toCanvas=r.bind(null,i.render),ee.toDataURL=r.bind(null,i.renderToDataURL),ee.toString=r.bind(null,function(o,s,l){return t.render(o,l)}),ee}var Xn=Wn();const Zn=Zt(Xn);var $n=Object.defineProperty,er=Object.defineProperties,tr=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable,Rt=(e,n,i)=>n in e?$n(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,nr=(e,n)=>{for(var i in n||(n={}))Ot.call(n,i)&&Rt(e,i,n[i]);if(le)for(var i of le(n))Vt.call(n,i)&&Rt(e,i,n[i]);return e},rr=(e,n)=>er(e,tr(n)),ir=(e,n)=>{var i={};for(var t in e)Ot.call(e,t)&&n.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&le)for(var t of le(e))n.indexOf(t)<0&&Vt.call(e,t)&&(i[t]=e[t]);return i};const or=["low","medium","quartile","high","L","M","Q","H"],ar=[0,1,2,3,4,5,6,7],sr=["alphanumeric","numeric","kanji","byte"],lr=["image/png","image/jpeg","image/webp"],ur=40;var cr=kt({props:{version:{type:Number,validator:e=>e===Number.parseInt(String(e),10)&&e>=1&&e<=ur},errorCorrectionLevel:{type:String,validator:e=>or.includes(e)},maskPattern:{type:Number,validator:e=>ar.includes(e)},toSJISFunc:Function,margin:Number,scale:Number,width:Number,color:{type:Object,validator:e=>["dark","light"].every(n=>["string","undefined"].includes(typeof e[n])),required:!0},type:{type:String,validator:e=>lr.includes(e),required:!0},quality:{type:Number,validator:e=>e===Number.parseFloat(String(e))&&e>=0&&e<=1,required:!1},value:{type:[String,Array],required:!0,validator(e){return typeof e=="string"?!0:e.every(n=>typeof n.data=="string"&&"mode"in n&&n.mode&&sr.includes(n.mode))}}},setup(e,{attrs:n,emit:i}){const t=U();return ie(e,()=>{const o=e,{quality:s,value:l}=o,a=ir(o,["quality","value"]);Zn.toDataURL(l,Object.assign(a,s==null||{renderOptions:{quality:s}})).then(u=>{t.value=u,i("change",u)}).catch(u=>i("error",u))},{immediate:!0}),()=>k("img",rr(nr({},n),{src:t.value}))}});function dr(e){const n=Object.assign({noopener:!0},e),i=[];for(const t in n){const r=n[t];r===!0?i.push(t):(qt(r)||typeof r=="string"&&r!=="")&&i.push(t+"="+r)}return i.join(",")}function At(e,n,i){let t=window.open;if(ze.is.cordova===!0){if(cordova!==void 0&&cordova.InAppBrowser!==void 0&&cordova.InAppBrowser.open!==void 0)t=cordova.InAppBrowser.open;else if(navigator!==void 0&&navigator.app!==void 0)return navigator.app.loadUrl(e,{openExternal:!0})}const r=t(e,"_blank",dr(i));if(r)return ze.is.desktop&&r.focus(),r;n&&n()}const fr=(e,n,i)=>{if(ze.is.ios===!0&&window.SafariViewController!==void 0){window.SafariViewController.isAvailable(t=>{t?window.SafariViewController.show({url:e},$t,n):At(e,n,i)});return}return At(e,n,i)},gr=kt({__name:"ShareTriggerButtons",props:{triggers:{},directAccessNumberOfButtons:{},currentItemIsImage:{type:Boolean}},emits:["triggerAction"],setup(e,{emit:n}){const i=e;function t(s){return console.log(i.currentItemIsImage,s),!i.currentItemIsImage&&s}const r=n;function o(s){console.log(`trigger share config_index ${s}`),r("triggerAction",s)}return(s,l)=>(A(),q(_n,{rounded:""},{default:L(()=>[(A(!0),O(oe,null,ae(s.triggers.slice(0,s.directAccessNumberOfButtons),(a,u)=>(A(),O("div",{key:u},[a.show_button&&!($(Y.isEmpty)(a.title)&&$(Y.isEmpty)(a.icon))?(A(),q(Q,{key:0,flat:"",rounded:"",disabled:t(a.handles_images_only),class:Je(["share-button",["share-button-"+u]]),onClick:g=>o(a.config_index)},{default:L(()=>[$(Y.isEmpty)(a.icon)?F("",!0):(A(),q(se,{key:0,class:"q-mr-sm",name:`sym_o_${a.icon}`},null,8,["name"])),V("div",null,G(a.title),1)]),_:2},1032,["disabled","class","onClick"])):F("",!0)]))),128)),s.triggers.length>s.directAccessNumberOfButtons?(A(),q(pn,{key:0,"auto-close":"",rounded:"",color:"primary",label:"more"},{default:L(()=>[(A(!0),O(oe,null,ae(s.triggers.slice(s.directAccessNumberOfButtons),(a,u)=>(A(),O("div",{key:u,padding:"",style:{width:"250px"}},[a.show_button&&!($(Y.isEmpty)(a.title)&&$(Y.isEmpty)(a.icon))?(A(),q(Q,{key:0,flat:"",disabled:t(a.handles_images_only),class:Je(["share-button full-width",["share-button-"+u]]),onClick:g=>o(a.config_index)},{default:L(()=>[$(Y.isEmpty)(a.icon)?F("",!0):(A(),q(se,{key:0,class:"q-mr-sm",name:`sym_o_${a.icon}`},null,8,["name"])),V("div",null,G(a.title),1)]),_:2},1032,["disabled","class","onClick"])):F("",!0)]))),128))]),_:1})):F("",!0)]),_:1}))}}),hr={components:{VueQrcode:cr,ShareTriggerButtons:gr},props:{indexSelected:{type:Number,required:!0},itemRepository:{type:Array,required:!0},startTimerOnOpen:{type:Boolean,required:!1,default:!1},singleItemView:{type:Boolean,default:!1},showToolbar:{type:Boolean,default:!0},slideshowTimeout:{type:Number,default:0},slideshowUseFade:{type:Boolean,default:!1},randomOrder:{type:Boolean,default:!1}},emits:["closeEvent"],setup(){const e=tn(),n=U(!1);return{configurationStore:e,openURL:fr,fabRight:U(!1),currentSlideId:U(""),currentSlideIndex:U(0),autoplay:U(!1),showFilterDialog:U(!1),displayLoadingSpinner:U(!1),confirmDeleteFile:U(!1),rightDrawerOpen:n,toggleRightDrawer(){n.value=!n.value},handleSwipeDown(){console.log("TODO: add method to close dialog programmatically")}}},data(){return{intervalTimerId:null,remainingSeconds:0,remainingSecondsNormalized:0,displayLinearProgressBar:!0}},computed:{emptyRepository(){return!this.itemRepository||this.itemRepository.length==0},slicedImages(){if(this.randomOrder)return this.currentSlideIndex,console.log(this.rndIncides.map(i=>this.itemRepository[i])),this.rndIncides.map(i=>this.itemRepository[i]);var e=Math.max(0,this.currentSlideIndex-2),n=Math.max(0,this.currentSlideIndex+3);return console.log(this.itemRepository.slice(e,n)),this.itemRepository.slice(e,n)},shareButtons(){const e=[];return this.configurationStore.getConfigElement("share.actions",[]).forEach((i,t)=>{const r=Y.get(i,"trigger.ui_trigger");e.push({config_index:t,handles_images_only:i.handles_images_only,...r})}),console.log(e),e}},beforeCreate(){if(!this.emptyRepository){if(this.randomOrder){this.rndIncidesFull=Array.from(Array(this.itemRepository.length).keys());for(let e=this.rndIncidesFull.length-1;e>0;e--){let n=Math.floor(Math.random()*(e+1)),i=this.rndIncidesFull[e];this.rndIncidesFull[e]=this.rndIncidesFull[n],this.rndIncidesFull[n]=i}for(;this.rndIncidesFull.length<5;)this.rndIncidesFull.push(...this.rndIncidesFull);this.rndIncides=this.rndIncidesFull.slice(0,5),console.log("Initial random indices: ",this.rndIncides),this.currentSlideIndex=this.rndIncides[2]}else this.currentSlideIndex=this.indexSelected;console.log("currentSlideIndex:",this.currentSlideIndex),this.currentSlideId=this.itemRepository[this.currentSlideIndex].id}},mounted(){this.startTimerOnOpen&&this.startTimer()},beforeUnmount(){clearInterval(this.intervalTimerId)},methods:{async reloadImg(e){await fetch(e,{cache:"reload",mode:"no-cors"});const n=new Date().getTime();document.body.querySelectorAll(`img[src*='${e}']`).forEach(i=>{i.src=e+"#"+n})},applyFilter(e,n){this.displayLoadingSpinner=!0,fetch(`/api/mediaprocessing/applyfilter/${e}/${n}`).then(i=>{if(!i.ok)throw new Error("Server returned "+i.status);const t=this.itemRepository.findIndex(r=>r.id===e);this.reloadImg(this.itemRepository[t].full),this.reloadImg(this.itemRepository[t].preview),this.reloadImg(this.itemRepository[t].thumbnail),this.displayLoadingSpinner=!1}).catch(i=>{console.error(i),this.displayLoadingSpinner=!1})},deleteItem(e){fetch("/api/mediacollection/delete",{method:"POST",body:JSON.stringify({image_id:e}),headers:{"Content-Type":"application/json"}}).then(n=>{if(!n.ok)throw new Error("Server returned "+n.status)}).then(n=>{console.log(n)}).catch(n=>{console.error("There was a problem with the Fetch operation:",n),this.$q.notify({message:"Error deleting file! Please check logs and browser console.",type:"negative"})})},invokeShareAction(e){console.log(this.currentSlideId,e),nn(`/api/share/actions/${this.currentSlideId}/${e}`)},getFilterAvailable(e){return["image","collageimage","animationimage"].includes(e)},getImageQrData(){return this.itemRepository[this.currentSlideIndex].share_url},abortTimer(){clearInterval(this.intervalTimerId),this.remainingSeconds=0,this.remainingSecondsNormalized=0},startTimer(){var e=this.configurationStore.getConfigElement("uisettings.AUTOCLOSE_NEW_ITEM_ARRIVED",0);console.log(`starting newitemarrived timer, duration=${e}`),this.remainingSeconds=e,this.intervalTimerId=setInterval(()=>{this.remainingSecondsNormalized=this.remainingSeconds/e,this.remainingSeconds-=.05,this.remainingSeconds<=0&&(clearInterval(this.intervalTimerId),this.$router.push({path:"/"}))},50)}}},mr={class:"q-ml-sm"},yr={key:4,class:"q-mr-sm"},wr={class:"q-mr-sm"},vr={class:"text-center text-overline"},Sr={class:"absolute-bottom-right text-subtitle1 text-center",style:{padding:"4px","pointer-events":"none"}},pr={key:0,class:"full-height"},_r={key:0,class:"full-height"},Cr=["src"],br={key:1,class:"full-height"},Er=["src"],Ir={key:1,class:"full-height"},Br={key:0,class:"full-height"},Tr=["src"],Rr={key:1,class:"full-height"},Ar=["src"];function Nr(e,n,i,t,r,o){const s=Ye("ShareTriggerButtons"),l=Ye("vue-qrcode");return o.emptyRepository?(A(),q($e,{key:1,view:"hhh Lpr ffr"},{default:L(()=>n[8]||(n[8]=[Xe("EMPTY")])),_:1})):(A(),q($e,{key:0,view:"hhh Lpr ffr",onClick:o.abortTimer},{default:L(()=>[M(sn,{class:"bg-primary text-white"},{default:L(()=>[i.showToolbar?(A(),q(ln,{key:0,id:"gallery-toolbar",class:"toolbar"},{default:L(()=>[M(Q,{dense:"",flat:"",icon:"sym_o_close",size:"1.5rem",onClick:n[0]||(n[0]=a=>e.$emit("closeEvent"))}),M(we),t.configurationStore.getConfigElement("uisettings.gallery_show_download",!1)?(A(),q(Q,{key:0,flat:"",class:"q-mr-sm",icon:"sym_o_download",label:e.$t("BTN_LABEL_GALLERY_DOWNLOAD"),onClick:n[1]||(n[1]=a=>{t.openURL(i.itemRepository[t.currentSlideIndex].full)})},null,8,["label"])):F("",!0),t.configurationStore.getConfigElement("uisettings.gallery_show_delete",!1)||i.singleItemView?(A(),q(Q,{key:1,flat:"",class:"q-mr-sm",icon:"sym_o_delete",label:e.$t("BTN_LABEL_GALLERY_DELETE"),onClick:n[2]||(n[2]=a=>t.confirmDeleteFile=!0)},null,8,["label"])):F("",!0),M(rn,{modelValue:t.confirmDeleteFile,"onUpdate:modelValue":n[4]||(n[4]=a=>t.confirmDeleteFile=a)},{default:L(()=>[M(me,{id:"gallery-confirm-delete-dialog",class:"q-pa-sm",style:{"min-width":"350px"}},{default:L(()=>[M(Ge,{class:"row items-center",style:{"flex-wrap":"nowrap"}},{default:L(()=>[M(on,{icon:"sym_o_delete",color:"primary","text-color":"white"}),V("span",mr,G(e.$t("MSG_CONFIRM_DELETE_IMAGE")),1)]),_:1}),M(an,{align:"right"},{default:L(()=>[ye(M(Q,{flat:"",label:e.$t("BTN_LABEL_CANCEL")},null,8,["label"]),[[We]]),ye(M(Q,{label:e.$t("BTN_LABEL_DELETE_IMAGE"),color:"primary",onClick:n[3]||(n[3]=a=>{o.deleteItem(t.currentSlideId),e.$emit("closeEvent")})},null,8,["label"]),[[We]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t.configurationStore.getConfigElement("uisettings.gallery_show_filter",!1)&&t.configurationStore.getConfigElement("uisettings.gallery_filter_userselectable",[]).length>0?(A(),q(Q,{key:2,flat:"",class:"q-mr-sm",icon:"sym_o_filter",label:e.$t("BTN_LABEL_GALLERY_FILTER"),disabled:!o.getFilterAvailable(i.itemRepository[t.currentSlideIndex].media_type),onClick:t.toggleRightDrawer},null,8,["label","disabled","onClick"])):F("",!0),t.configurationStore.getConfigElement("uisettings.gallery_show_print",!1)&&t.configurationStore.getConfigElement("share.sharing_enabled",!1)?(A(),q(s,{key:3,triggers:o.shareButtons,"direct-access-number-of-buttons":t.configurationStore.getConfigElement("share.number_direct_access_buttons",1),"current-item-is-image":["image","collage","collageimage","animationimage"].includes(i.itemRepository[t.currentSlideIndex].media_type),onTriggerAction:o.invokeShareAction},null,8,["triggers","direct-access-number-of-buttons","current-item-is-image","onTriggerAction"])):F("",!0),M(we),i.singleItemView?F("",!0):(A(),O("div",yr,[M(se,{name:"sym_o_tag"}),V("span",null,G(e.$t("LABEL_ELEMENT_X_OF_Y",{no:t.currentSlideIndex+1,total:i.itemRepository.length})),1)])),M(we),V("div",wr,[M(se,{name:"sym_o_image"}),Xe(" "+G(i.itemRepository[t.currentSlideIndex].caption),1)])]),_:1})):F("",!0),r.displayLinearProgressBar&&r.remainingSeconds>0?(A(),q(Ze,{key:1,id:"gallery-linear-progress-bar",class:"absolute",value:r.remainingSecondsNormalized,"animation-speed":"200",color:"grey"},null,8,["value"])):F("",!0),t.displayLoadingSpinner?(A(),q(Ze,{key:2,class:"absolute",indeterminate:"","animation-speed":"2100",color:"primary"})):F("",!0)]),_:1}),t.configurationStore.getConfigElement("uisettings.gallery_show_filter",!1)&&o.getFilterAvailable(i.itemRepository[t.currentSlideIndex].media_type)&&i.showToolbar?(A(),q(gn,{key:0,id:"gallery-drawer-filters",modelValue:t.rightDrawerOpen,"onUpdate:modelValue":n[5]||(n[5]=a=>t.rightDrawerOpen=a),class:"q-pa-sm",side:"right",overlay:"",elevated:""},{default:L(()=>[V("div",vr,G(e.$t("Choose your filter")),1),(A(!0),O(oe,null,ae(t.configurationStore.getConfigElement("uisettings.gallery_filter_userselectable",[]),a=>(A(),q(me,{key:a,bordered:"",class:"q-mb-sm no-shadow"},{default:L(()=>[M(Ge,{class:"q-pa-none"},{default:L(()=>[M(In,{class:"rounded-borders",loading:"lazy",src:`/api/mediaprocessing/preview/${t.currentSlideId}/${a}`,onClick:u=>o.applyFilter(t.currentSlideId,a)},{default:L(()=>[V("div",Sr,G(a),1)]),_:2},1032,["src","onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue"])):F("",!0),M(Sn,{class:"q-pa-none galleryimagedetail full-height"},{default:L(()=>[i.singleItemView?(A(),O("div",pr,[M(me,{class:"column no-wrap flex-center full-height q-pa-sm"},{default:L(()=>[i.itemRepository[0].media_type!="video"?(A(),O("div",_r,[V("img",{draggable:!1,class:"rounded-borders full-height",style:{"object-fit":"contain","max-width":"100%","max-height":"100%"},src:i.itemRepository[0].preview},null,8,Cr)])):(A(),O("div",br,[V("video",{draggable:!1,src:i.itemRepository[0].preview,class:"rounded-borders full-height",muted:"",autoplay:"",style:{"object-fit":"contain","max-width":"100%","max-height":"100%"},loop:"",playsinline:"",controls:"",controlslist:"nofullscreen nodownload noremoteplayback noplaybackrate",disablepictureinpicture:""},null,8,Er)]))]),_:1})])):(A(),O("div",Ir,[ye((A(),q(An,{modelValue:t.currentSlideId,"onUpdate:modelValue":n[6]||(n[6]=a=>t.currentSlideId=a),class:"",style:{width:"100%",height:"100%"},"control-type":"flat","control-color":"primary",swipeable:"",animated:"",autoplay:i.slideshowTimeout,draggable:"false",arrows:i.showToolbar,infinite:!0,"transition-prev":i.slideshowUseFade?"fade":"slide-right","transition-next":i.slideshowUseFade?"fade":"slide-left",onTransition:n[7]||(n[7]=(a,u)=>{if(i.randomOrder){let g=o.slicedImages.findIndex(_=>_.id==a);t.currentSlideIndex=e.rndIncides[g],g>2?e.rndIncidesFull.push(e.rndIncidesFull.shift()):e.rndIncidesFull.unshift(e.rndIncidesFull.pop()),e.rndIncides=e.rndIncidesFull.slice(0,5)}else t.currentSlideIndex=i.itemRepository.findIndex(g=>g.id===a);console.log("Showing slide ",t.currentSlideIndex),o.abortTimer()})},{default:L(()=>[(A(!0),O(oe,null,ae(o.slicedImages,a=>(A(),q(Bn,{key:a.id,name:a.id,class:"column no-wrap flex-center full-height q-pa-sm"},{default:L(()=>[a.media_type!="video"?(A(),O("div",Br,[V("img",{draggable:!1,class:"rounded-borders full-height",style:{"object-fit":"contain","max-width":"100%","max-height":"100%"},src:a.preview},null,8,Tr)])):(A(),O("div",Rr,[V("video",{autoplay:"",loop:"",muted:"",playsinline:"",draggable:!1,src:a.preview,class:"rounded-borders full-height",style:{"object-fit":"contain","max-width":"100%","max-height":"100%"},controls:"",controlslist:"nofullscreen nodownload noremoteplayback noplaybackrate",disablepictureinpicture:""},null,8,Ar)]))]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue","autoplay","arrows","transition-prev","transition-next"])),[[hn,t.handleSwipeDown,void 0,{mouse:!0,down:!0}]])])),t.configurationStore.getConfigElement("uisettings.gallery_show_qrcode",!1)&&i.showToolbar?(A(),q(vn,{key:2,position:"top-right",offset:[30,30]},{default:L(()=>[V("div",null,[M(l,{type:"image/png",tag:"svg",margin:2,width:200,"error-correction-level":"low",color:{dark:"#111111",light:"#EEEEEE"},value:o.getImageQrData()},null,8,["value"])])]),_:1})):F("",!0)]),_:1})]),_:1},8,["onClick"]))}const Or=en(hr,[["render",Nr]]);export{Or as G,In as Q};
