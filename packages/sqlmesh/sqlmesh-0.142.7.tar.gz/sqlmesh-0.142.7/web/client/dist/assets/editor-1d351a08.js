import{ay as N,a1 as h,az as m,v as Z,b as F}from"./index-4a39458b.js";import{M as R}from"./file-314b3444.js";const p="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHAobil7cmV0dXJuIG49PT0hMX1mdW5jdGlvbiB3KG4pe3JldHVybiBhKG4pfHxuPT09IiJ9ZnVuY3Rpb24gYShuKXtyZXR1cm4gbj09bnVsbH1mdW5jdGlvbiBEKC4uLm4pe3JldHVybiBuLmZpbHRlcihCb29sZWFuKS5qb2luKCJfXyIpfWNvbnN0IHI9e1Vwc3RyZWFtOiJ1cHN0cmVhbSIsRG93bnN0cmVhbToiZG93bnN0cmVhbSJ9LG09c2VsZjttLm9ubWVzc2FnZT1hc3luYyBuPT57aWYobi5kYXRhLnRvcGljPT09ImxpbmVhZ2UiKXRyeXtjb25zdHtjdXJyZW50TGluZWFnZTp0LG5ld0xpbmVhZ2U6cyxtYWluTm9kZTpvfT1uLmRhdGEucGF5bG9hZCxlPWF3YWl0IHkodCxzKSxjPWF3YWl0IGcobyxlKTttLnBvc3RNZXNzYWdlKHt0b3BpYzoibGluZWFnZSIscGF5bG9hZDp7bGluZWFnZTplLG5vZGVzQ29ubmVjdGlvbnM6Y319KX1jYXRjaCh0KXttLnBvc3RNZXNzYWdlKHt0b3BpYzoiZXJyb3IiLGVycm9yOnR9KX19O2FzeW5jIGZ1bmN0aW9uIHkobj17fSx0PXt9KXtyZXR1cm4gT2JqZWN0LmVudHJpZXModCkucmVkdWNlKChzLFtvLGU9W11dKT0+e3ZhciBjO3JldHVybiBvPWVuY29kZVVSSShvKSxzW29dPXttb2RlbHM6ZS5tYXAoZW5jb2RlVVJJKSxjb2x1bW5zOigoYz1uPT1udWxsP3ZvaWQgMDpuW29dKT09bnVsbD92b2lkIDA6Yy5jb2x1bW5zKT8/dm9pZCAwfSxzfSx7fSl9YXN5bmMgZnVuY3Rpb24gZyhuLHQ9e30pe3JldHVybiBuZXcgUHJvbWlzZSgocyxvKT0+e2lmKGEodCl8fGEobikpcmV0dXJue307Y29uc3QgZT17fTt0cnl7ZChyLlVwc3RyZWFtLG4sdCxlKSxkKHIuRG93bnN0cmVhbSxuLHQsZSl9Y2F0Y2goYyl7byhjKX1zKGUpfSl9ZnVuY3Rpb24gZChuPXIuRG93bnN0cmVhbSx0LHM9e30sbz17fSl7dmFyIHU7Y29uc3QgZT1uPT09ci5Eb3duc3RyZWFtO2xldCBjPVtdO2U/Yz1PYmplY3Qua2V5cyhzKS5maWx0ZXIoaT0+c1tpXS5tb2RlbHMuaW5jbHVkZXModCkpOmM9KCh1PXNbdF0pPT1udWxsP3ZvaWQgMDp1Lm1vZGVscyk/P1tdLHAodCBpbiBvKSYmKG9bdF09ZigpKTtmb3IoY29uc3QgaSBvZiBjKXtjb25zdCBsPWU/Zih0LGksW29bdF1dKTpmKGksdCxbb1t0XV0pO2kgaW4gbz9vW2ldLmVkZ2VzLnB1c2gobCk6KG9baV09bCxkKG4saSxzLG8pKX19ZnVuY3Rpb24gZihuLHQscz1bXSl7Y29uc3Qgbz1EKG4sdCk7cmV0dXJue2lkOncobyk/dm9pZCAwOm8sZWRnZXM6c319fSkoKTsK",i=typeof window<"u"&&window.Blob&&new Blob([atob(p)],{type:"text/javascript;charset=utf-8"});function M(){let b;try{if(b=i&&(window.URL||window.webkitURL).createObjectURL(i),!b)throw"";return new Worker(b)}catch{return new Worker("data:application/javascript;base64,"+p)}finally{b&&(window.URL||window.webkitURL).revokeObjectURL(b)}}const o="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IGc9c2VsZjtpbXBvcnQoImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9weW9kaWRlL3YwLjIzLjIvZnVsbC9weW9kaWRlLmpzIikudGhlbigoKT0+e2NvbnN0IEM9cygpO2cub25tZXNzYWdlPWFzeW5jIGE9Pnt2YXIgaSxsLHQ7Y29uc3R7c3FsZ2xvdDpjfT1hd2FpdCBDO2lmKGEuZGF0YS50b3BpYz09PSJ2YWxpZGF0ZSIpe2xldCBJO3RyeXtJPUpTT04ucGFyc2UoKGk9Yy5nZXQoInZhbGlkYXRlIikpPT1udWxsP3ZvaWQgMDppKGEuZGF0YS5wYXlsb2FkKSl9Y2F0Y2h7ST0hMX1nLnBvc3RNZXNzYWdlKHt0b3BpYzoidmFsaWRhdGUiLHBheWxvYWQ6SX0pfWlmKGEuZGF0YS50b3BpYz09PSJkaWFsZWN0Iil7bGV0IEk7dHJ5e0k9SlNPTi5wYXJzZSgobD1jLmdldCgiZ2V0X2RpYWxlY3QiKSk9PW51bGw/dm9pZCAwOmwoYS5kYXRhLnBheWxvYWQpKX1jYXRjaHtJPXtrZXl3b3JkczoiIix0eXBlczoiIn19Zy5wb3N0TWVzc2FnZSh7dG9waWM6ImRpYWxlY3QiLHBheWxvYWQ6SX0pfWlmKGEuZGF0YS50b3BpYz09PSJkaWFsZWN0cyIpe2xldCBJO3RyeXtJPUpTT04ucGFyc2UoYy5nZXQoImRpYWxlY3RzIikpfWNhdGNoe0k9W119Zy5wb3N0TWVzc2FnZSh7dG9waWM6ImRpYWxlY3RzIixwYXlsb2FkOkl9KX1hLmRhdGEudG9waWM9PT0iZm9ybWF0IiYmZy5wb3N0TWVzc2FnZSh7dG9waWM6ImZvcm1hdCIscGF5bG9hZDooKHQ9Yy5nZXQoImZvcm1hdCIpKT09bnVsbD92b2lkIDA6dChhLmRhdGEucGF5bG9hZC5zcWwpKT8/IiJ9KSxhLmRhdGEudG9waWM9PT0iaW5pdCImJmcucG9zdE1lc3NhZ2Uoe3RvcGljOiJpbml0In0pfX0pLmNhdGNoKGNvbnNvbGUuZXJyb3IpO2FzeW5jIGZ1bmN0aW9uIHMoKXtnLnB5b2RpZGU9YXdhaXQgZy5sb2FkUHlvZGlkZSgpLGF3YWl0IGcucHlvZGlkZS5sb2FkUGFja2FnZSgibWljcm9waXAiKTtjb25zdCBDPWcucHlvZGlkZS5weWltcG9ydCgibWljcm9waXAiKTthd2FpdCBDLmluc3RhbGwoInNxbGdsb3QiKSxhd2FpdCBDLmluc3RhbGwoInR5cGluZy1leHRlbnNpb25zIik7Y29uc3QgYT1hd2FpdChhd2FpdCBmZXRjaChuZXcgVVJMKCJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsYVcxd2IzSjBJR3B6YjI0S0NtbHRjRzl5ZENCemNXeG5iRzkwQ21aeWIyMGdjM0ZzWjJ4dmRDQnBiWEJ2Y25RZ1pYaHdDbVp5YjIwZ2MzRnNaMnh2ZEM1a2FXRnNaV04wY3k1a2FXRnNaV04wSUdsdGNHOXlkQ0JFYVdGc1pXTjBMQ0JFYVdGc1pXTjBWSGx3WlFvS1pHbGhiR1ZqZEhNZ1BTQnFjMjl1TG1SMWJYQnpLQW9nSUNBZ1d3b2dJQ0FnSUNBZ0lIc0tJQ0FnSUNBZ0lDQWdJQ0FnSW1ScFlXeGxZM1JmZEdsMGJHVWlPaUFpVTFGTVIyeHZkQ0lnYVdZZ1pHbGhiR1ZqZENBOVBTQWlJaUJsYkhObElHUnBZV3hsWTNSZlkyeGhjM011WDE5dVlXMWxYMThzQ2lBZ0lDQWdJQ0FnSUNBZ0lDSmthV0ZzWldOMFgyNWhiV1VpT2lCa2FXRnNaV04wTEFvZ0lDQWdJQ0FnSUgwS0lDQWdJQ0FnSUNCbWIzSWdaR2xoYkdWamRDd2daR2xoYkdWamRGOWpiR0Z6Y3lCcGJpQkVhV0ZzWldOMExtTnNZWE56WlhNdWFYUmxiWE1vS1FvZ0lDQWdYUW9wQ2dvS1pHVm1JSEJoY25ObFgzUnZYMnB6YjI0b2MzRnNPaUJ6ZEhJc0lISmxZV1E2SUVScFlXeGxZM1JVZVhCbElEMGdUbTl1WlNrZ0xUNGdjM1J5T2dvZ0lDQWdjbVYwZFhKdUlHcHpiMjR1WkhWdGNITW9DaUFnSUNBZ0lDQWdXMlY0Y0M1a2RXMXdLQ2tnYVdZZ1pYaHdJR1ZzYzJVZ2UzMGdabTl5SUdWNGNDQnBiaUJ6Y1d4bmJHOTBMbkJoY25ObEtITnhiQ3dnY21WaFpEMXlaV0ZrTENCbGNuSnZjbDlzWlhabGJEMGlhV2R1YjNKbElpbGRDaUFnSUNBcENnb0taR1ZtSUdkbGRGOWthV0ZzWldOMEtHNWhiV1U2SUhOMGNpQTlJQ0lpS1NBdFBpQnpkSEk2Q2lBZ0lDQmthV0ZzWldOMElEMGdSR2xoYkdWamRDNWpiR0Z6YzJWekxtZGxkQ2h1WVcxbExDQkVhV0ZzWldOMEtRb2dJQ0FnYTJWNWQyOXlaSE1nUFNCa2FXRnNaV04wTG5SdmEyVnVhWHBsY2w5amJHRnpjeTVMUlZsWFQxSkVVd29nSUNBZ2RIbHdaVjl0WVhCd2FXNW5JRDBnWkdsaGJHVmpkQzVuWlc1bGNtRjBiM0pmWTJ4aGMzTXVWRmxRUlY5TlFWQlFTVTVIQ2dvZ0lDQWdjbVYwZFhKdUlHcHpiMjR1WkhWdGNITW9DaUFnSUNBZ0lDQWdld29nSUNBZ0lDQWdJQ0FnSUNBaWEyVjVkMjl5WkhNaU9pQWlJQ0l1YW05cGJpaHJaWGwzYjNKa2N5a3NDaUFnSUNBZ0lDQWdJQ0FnSUNKMGVYQmxjeUk2SUNJZ0lpNXFiMmx1S0hSNWNHVmZiV0Z3Y0dsdVp5NW5aWFFvZEN3Z2RDNTJZV3gxWlNrZ1ptOXlJSFFnYVc0Z1pYaHdMa1JoZEdGVWVYQmxMbFI1Y0dVcExBb2dJQ0FnSUNBZ0lIMEtJQ0FnSUNrS0NncGtaV1lnWm05eWJXRjBLSE54YkRvZ2MzUnlJRDBnSWlJc0lISmxZV1E2SUVScFlXeGxZM1JVZVhCbElEMGdUbTl1WlNrZ0xUNGdjM1J5T2dvZ0lDQWdjbVYwZFhKdUlDSmNiaUl1YW05cGJpZ0tJQ0FnSUNBZ0lDQnpjV3huYkc5MExuUnlZVzV6Y0dsc1pTaHpjV3dzSUhKbFlXUTljbVZoWkN3Z1pYSnliM0pmYkdWMlpXdzljM0ZzWjJ4dmRDNWxjbkp2Y25NdVJYSnliM0pNWlhabGJDNUpSMDVQVWtVc0lIQnlaWFIwZVQxVWNuVmxLUW9nSUNBZ0tRb0tDbVJsWmlCMllXeHBaR0YwWlNoemNXdzZJSE4wY2lBOUlDSWlMQ0J5WldGa09pQkVhV0ZzWldOMFZIbHdaU0E5SUU1dmJtVXBJQzArSUhOMGNqb0tJQ0FnSUhSeWVUb0tJQ0FnSUNBZ0lDQnpjV3huYkc5MExuUnlZVzV6Y0dsc1pTZ0tJQ0FnSUNBZ0lDQWdJQ0FnYzNGc0xDQnlaV0ZrUFhKbFlXUXNJSEJ5WlhSMGVUMUdZV3h6WlN3Z2RXNXpkWEJ3YjNKMFpXUmZiR1YyWld3OWMzRnNaMnh2ZEM1bGNuSnZjbk11UlhKeWIzSk1aWFpsYkM1SlRVMUZSRWxCVkVVS0lDQWdJQ0FnSUNBcENpQWdJQ0JsZUdObGNIUWdjM0ZzWjJ4dmRDNWxjbkp2Y25NdVVHRnljMlZGY25KdmNqb0tJQ0FnSUNBZ0lDQnlaWFIxY200Z2FuTnZiaTVrZFcxd2N5aEdZV3h6WlNrS0NpQWdJQ0J5WlhSMWNtNGdhbk52Ymk1a2RXMXdjeWhVY25WbEtRb0tDbnNLSUNBZ0lDSmthV0ZzWldOMGN5STZJR1JwWVd4bFkzUnpMQW9nSUNBZ0ltZGxkRjlrYVdGc1pXTjBJam9nWjJWMFgyUnBZV3hsWTNRc0NpQWdJQ0FpY0dGeWMyVmZkRzlmYW5OdmJpSTZJSEJoY25ObFgzUnZYMnB6YjI0c0NpQWdJQ0FpZG1Gc2FXUmhkR1VpT2lCMllXeHBaR0YwWlN3S0lDQWdJQ0ptYjNKdFlYUWlPaUJtYjNKdFlYUXNDbjBLIixzZWxmLmxvY2F0aW9uKSkpLnRleHQoKTtyZXR1cm4gZy5wb3N0TWVzc2FnZSh7dG9waWM6ImluaXQifSkse3NxbGdsb3Q6Zy5weW9kaWRlLnJ1blB5dGhvbihhKX19fSkoKTsK",s=typeof window<"u"&&window.Blob&&new Blob([atob(o)],{type:"text/javascript;charset=utf-8"});function J(){let b;try{if(b=s&&(window.URL||window.webkitURL).createObjectURL(s),!b)throw"";return new Worker(b)}catch{return new Worker("data:application/javascript;base64,"+o)}finally{b&&(window.URL||window.webkitURL).revokeObjectURL(b)}}const r=J(),[T,c]=N("tabs"),{tabs:u=[],id:U}=T()??{},V=G(),S=Y(V),Q=new Map([[V,S]]),j=h((b,e)=>({storedTabs:u,storedTabId:U,tab:S,tabs:Q,engine:r,dialects:[],previewQuery:void 0,previewTable:void 0,previewDiff:void 0,direction:"vertical",inTabs(d){return e().tabs.has(d)},replaceTab(d,l){const a=e(),n=Array.from(a.tabs.entries()),W=n.findIndex(([t])=>t===d.file);n[W]=[l.file,l],b(()=>({tabs:new Map(n)})),a.updateStoredTabsIds()},updateStoredTabsIds(){const d=e();if(Z(d.tab)){c({id:void 0,tabs:[]}),b(()=>({storedTabId:void 0,storedTabs:[]}));return}const l=[];for(const n of d.tabs.values())F(n.file.isChanged)&&n.file.isLocal||l.push({id:n.file.id,content:n.file.content});const a=d.tab.file.isChanged||d.tab.file.isRemote?d.tab.file.id:void 0;c({id:a,tabs:l}),b(()=>({storedTabId:a,storedTabs:l}))},refreshTab(d){Z(d)||e().selectTab({...d})},setDialects(d){b(()=>({dialects:d}))},selectTab(d){const l=e();b(()=>({tab:d})),l.updateStoredTabsIds()},addTabs(d){const l=e();for(const a of d)l.tabs.set(a.file,a);b(()=>({tabs:new Map(l.tabs)}))},addTab(d){const l=e();if(l.tabs.has(d.file))l.tabs.set(d.file,d),b(()=>({tabs:new Map(l.tabs)}));else{const a=Array.from(l.tabs.entries()),n=a.findIndex(([W])=>{var t;return W===((t=l.tab)==null?void 0:t.file)});a.splice(n<0?a.length:n+1,0,[d.file,d]),b(()=>({tabs:new Map(a)}))}l.updateStoredTabsIds()},closeTab(d){var a;const l=e();if(d.removeChanges(),l.tabs.delete(d),l.tabs.size===0)l.selectTab(void 0);else if(l.tabs.size===1){const n=Array.from(l.tabs.values());l.selectTab(n.at(0))}else if(d.id===((a=l.tab)==null?void 0:a.file.id)){const n=Array.from(l.tabs.values()),W=n.findIndex(t=>t.file===d);l.selectTab(n.at(W-1))}b(()=>({tabs:new Map(l.tabs)})),l.updateStoredTabsIds()},createTab:Y,setPreviewQuery(d){b(()=>({previewQuery:d}))},setPreviewTable(d){b(()=>({previewTable:d}))},setPreviewDiff(d){b(()=>({previewDiff:d}))},setDirection(d){b(()=>({direction:d}))}}));function Y(b=G()){return{id:m(),file:b,isValid:!0}}function G(b){return new R({id:b,name:"",path:"",content:`-- Create arbitrary SQL queries
-- and execute them against different environments

`})}export{M as W,G as c,r as s,j as u};
