(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3705],{96539:function(e,t,i){var r=i(77400).Symbol;e.exports=r},99736:function(e,t,i){var r=i(96539),a=i(34840),s=i(21258),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):s(e)}},39120:function(e,t,i){var r="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;e.exports=r},34840:function(e,t,i){var r=i(96539),a=Object.prototype,s=a.hasOwnProperty,o=a.toString,n=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,n),i=e[n];try{e[n]=void 0;var r=!0}catch(e){}var a=o.call(e);return r&&(t?e[n]=i:delete e[n]),a}},21258:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},77400:function(e,t,i){var r=i(39120),a="object"==typeof self&&self&&self.Object===Object&&self,s=r||a||Function("return this")();e.exports=s},11611:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},92360:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},55193:function(e,t,i){var r=i(99736),a=i(92360);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},79620:function(e,t,i){"use strict";i.d(t,{Z:function(){return D}});var r=i(24246),a=i(59003),s=i(92222),o=i(5702),n=i(86677),l=i(27378),c=i(8540),d=i(76552),u=i(6111),g=i(98320),h=i(64900),x=i(61934),j=i(20382),p=i(16956),L=i(51557),f=i(59104),v=i(15025),m=e=>{let{resourceType:t,changeTypeOverride:i}=e,a=(0,s.Cl)(),o=[];return t?t===f.X.SCHEMA?{columns:[a.accessor(e=>e.name,{id:"name",cell:e=>(0,r.jsx)(p.Z,{changeTypeOverride:i,result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Name",...e})}),a.accessor(e=>e.urn,{id:"project",cell:e=>(0,r.jsx)(c.G3,{value:(0,v.Z)(e.getValue())}),header:e=>(0,r.jsx)(c.Rr,{value:"Project",...e})}),a.display({id:"status",cell:e=>(0,r.jsx)(j.Z,{changeTypeOverride:i,result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Status",...e})}),a.accessor(e=>e.system,{id:"system",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"System",...e})}),a.accessor(e=>e.monitor_config_id,{id:"monitor",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"Detected by",...e})}),a.accessor(e=>e.updated_at,{id:"time",cell:e=>(0,r.jsx)(g.Cy,{time:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"When",...e})}),a.display({id:"actions",cell:e=>(0,r.jsx)(h.Z,{ignoreChildActions:i===L.E.MONITORED||i===L.E.MUTED,resource:e.row.original}),header:"Actions",size:180})]}:t===f.X.TABLE?{columns:[a.accessor(e=>e.name,{id:"name",cell:e=>(0,r.jsx)(p.Z,{changeTypeOverride:i,result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Table name",...e})}),a.accessor(e=>e.description,{id:"description",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue(),cellProps:e}),header:e=>(0,r.jsx)(c.Rr,{value:"Description",...e}),meta:{showHeaderMenu:!0}}),a.display({id:"status",cell:e=>(0,r.jsx)(j.Z,{changeTypeOverride:i,result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Status",...e})}),a.accessor(e=>e.monitor_config_id,{id:"monitor",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"Detected by",...e})}),a.accessor(e=>e.updated_at,{id:"time",cell:e=>(0,r.jsx)(g.Cy,{time:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"When",...e})}),a.display({id:"actions",cell:e=>(0,r.jsx)(h.Z,{resource:e.row.original}),header:"Actions"})]}:t===f.X.FIELD?{columns:[a.accessor(e=>e.name,{id:"name",cell:e=>(0,r.jsx)(p.Z,{changeTypeOverride:i,result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Field name",...e})}),a.accessor(e=>e.source_data_type,{id:"data-type",cell:e=>(0,r.jsx)(x.Z,{type:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"Data type",...e})}),a.accessor(e=>e.description,{id:"description",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue(),cellProps:e}),header:e=>(0,r.jsx)(c.Rr,{value:"Description",...e}),meta:{showHeaderMenu:!0}}),a.display({id:"status",cell:e=>(0,r.jsx)(j.Z,{changeTypeOverride:i,result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Status",...e})}),a.accessor(e=>e.monitor_config_id,{id:"monitor",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"Detected by",...e})}),a.accessor(e=>e.updated_at,{id:"time",cell:e=>(0,r.jsx)(g.Cy,{time:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"When",...e})}),a.display({id:"actions",cell:e=>(0,r.jsx)(h.Z,{resource:e.row.original}),header:"Actions"})]}:{columns:o}:{columns:o}},y=i(10284),b=e=>{let{initialFilterTabIndex:t=0}=e,[i,r]=(0,l.useState)(t),a=(0,l.useMemo)(()=>[{label:"Action Required",filters:[y.LL.ADDITION,y.LL.REMOVAL],childFilters:[y.LL.ADDITION,y.LL.REMOVAL]},{label:"Monitored",filters:[y.LL.MONITORED],childFilters:[],changeTypeOverride:L.E.MONITORED},{label:"Unmonitored",filters:[y.LL.MUTED],childFilters:[],changeTypeOverride:L.E.MUTED}],[]);return{filterTabs:a,filterTabIndex:i,setFilterTabIndex:r,activeDiffFilters:a[i].filters,activeChildDiffFilters:a[i].childFilters,activeChangeTypeOverride:a[i].changeTypeOverride}},_=i(38637),T=i(87573),w=i(52962),H=i(71329),M=i(2053),R=i(22770);let O={items:[],total:0,page:1,size:50,pages:1},C=()=>(0,r.jsx)(o.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:(0,r.jsxs)(o.gCW,{children:[(0,r.jsx)(o.xvT,{fontSize:"md",fontWeight:"600",children:"No activity found"}),(0,r.jsx)(o.xvT,{fontSize:"sm",children:"You're up to date!"})]})});var D=e=>{var t,i;let{resourceUrn:g}=e,h=(0,n.useRouter)(),[x,j]=(0,l.useState)(""),{filterTabs:p,setFilterTabIndex:L,filterTabIndex:v,activeDiffFilters:y,activeChildDiffFilters:D,activeChangeTypeOverride:Z}=b({initialFilterTabIndex:(null===(t=h.query)||void 0===t?void 0:t.filterTabIndex)?Number(null===(i=h.query)||void 0===i?void 0:i.filterTabIndex):void 0}),{PAGE_SIZES:I,pageSize:E,setPageSize:S,onPreviousPageClick:V,isPreviousPageDisabled:k,onNextPageClick:N,isNextPageDisabled:F,startRange:A,endRange:P,pageIndex:U,setTotalPages:G,resetPageIndexToDefault:z}=(0,c.oi)();(0,l.useEffect)(()=>{z()},[g,x,z,y,D]);let{isFetching:W,isLoading:X,data:q}=(0,u.z8)({staged_resource_urn:g,page:U,size:E,child_diff_status:D,diff_status:y,search:x}),B=(0,w.G)(null==q?void 0:q.items[0]),{columns:Q}=m({resourceType:B,changeTypeOverride:Z}),{items:K,total:Y,pages:$}=(0,l.useMemo)(()=>null!=q?q:O,[q]);(0,l.useEffect)(()=>{G($)},[$,G]);let J=(0,l.useMemo)(()=>Q,[Q]),{navigateToDetectionResults:ee}=(0,_.Z)(),et=(0,a.b7)({getCoreRowModel:(0,s.sC)(),getGroupedRowModel:(0,s.qe)(),getExpandedRowModel:(0,s.rV)(),getRowId:H.Z,columns:J,manualPagination:!0,data:K,columnResizeMode:"onChange"});return X?(0,r.jsx)(c.I4,{rowHeight:36,numRows:36}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{filterTabs:p,filterTabIndex:v,onChange:L}),(0,r.jsx)(c.Q$,{children:(0,r.jsx)(o.kCb,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"full",children:(0,r.jsxs)(o.kCb,{gap:6,align:"center",children:[(0,r.jsx)(o.xuv,{flexShrink:0,children:(0,r.jsx)(R.M,{value:x,onChange:j})}),(0,r.jsx)(T.Z,{})]})})}),(0,r.jsx)(c.ZK,{tableInstance:et,onRowClick:e=>ee({resourceUrn:e.urn,filterTabIndex:v}),getRowIsClickable:e=>B!==f.X.FIELD||(0,M.Z)(e),emptyTableNotice:(0,r.jsx)(C,{})}),(0,r.jsx)(c.s8,{totalRows:Y||0,pageSizes:I,setPageSize:S,onPreviousPageClick:V,isPreviousPageDisabled:k||W,onNextPageClick:N,isNextPageDisabled:F||W,startRange:A,endRange:P})]})}},64900:function(e,t,i){"use strict";i.d(t,{Z:function(){return h}});var r=i(24246),a=i(5702),s=i(53359),o=i(10284);let n=(0,a.IUT)({displayName:"MonitorOffIcon",viewBox:"0 0 12 12",path:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.47125 1H5.85H6.15H6.51188L6.58875 1.36914L7.52062 5.83268L6.42408 4.98635L6.03375 3.11719L5.8038 4.50761L4.99323 3.882L5.40562 1.38867L5.47125 1ZM4.80795 5.0022L4.67675 5.79545L5.48735 6.42109L5.61854 5.62783L4.80795 5.0022ZM6.73856 6.49227L6.96125 7.55866L8.42407 8.6877L8.69498 8.00228L7.94864 7.42624L7.88625 7.58398L7.83501 7.33853L6.73856 6.49227ZM8.33138 6.45844L9.07755 7.03434L9.30188 6.4668H11.55H12V5.5293H11.55H9H8.69812L8.58375 5.82031L8.33138 6.45844ZM7.27551 9.06443L7.35399 9.125H7.28813L7.27551 9.06443ZM4.49147 6.91566L5.30209 7.54131L4.79437 10.6113L4.72875 11H4.35H4.05H3.69563L3.61313 10.6406L2.64563 6.46875H0.45H0V5.53125H0.45H2.69777L3.49646 6.1477L4.15125 8.97266L4.49147 6.91566Z",fill:"currentColor"}),(0,r.jsx)("g",{"clip-path":"url(#clip0_341_3102)",children:(0,r.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.6755 10.4168L0.164222 2.304L0.775218 1.51237L11.2865 9.62517L10.6755 10.4168Z",fill:"currentColor"})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_341_3102",children:(0,r.jsx)("rect",{width:"11.5",height:"9",fill:"white",transform:"translate(0 1.5)"})})})]})}),l=(0,a.IUT)({displayName:"MonitorOnIcon",viewBox:"0 0 12 10",path:(0,r.jsx)("path",{d:"M5.47125 0H5.85H6.15H6.51188L6.58875 0.369141L7.88625 6.58398L8.58375 4.82031L8.69812 4.5293H9H11.55H12V5.4668H11.55H9.30188L8.36625 7.83398L8.25188 8.125H7.95H7.65H7.28813L7.21125 7.75586L6.03375 2.11719L4.79437 9.61133L4.72875 10H4.35H4.05H3.69563L3.61313 9.64062L2.64563 5.46875H0.45H0V4.53125H0.45H3H3.35438L3.43688 4.89062L4.15125 7.97266L5.40562 0.388672L5.47125 0Z",fill:"currentColor"})});var c=i(35682),d=i(6111),u=i(59104),g=i(52962),h=e=>{let{resource:t,ignoreChildActions:i=!1}=e,h=(0,g.G)(t),[x,{isLoading:j}]=(0,d.v8)(),[p,{isLoading:L}]=(0,d.vi)(),{successAlert:f}=(0,s.V)(),[v,{isLoading:m}]=(0,d.Tl)(),y=j||L||m,{diff_status:b,child_diff_statuses:_}=t,T=h===u.X.SCHEMA,w=h===u.X.FIELD,H=T&&void 0===b||!w&&b===o.LL.ADDITION,M=b!==o.LL.MUTED,R=b===o.LL.MUTED&&!w,O=b===o.LL.MUTED&&w,C=_&&(_[o.LL.ADDITION]||_[o.LL.REMOVAL]),D=b===o.LL.MONITORED&&!i&&C;return(0,r.jsxs)(a.Ugi,{onClick:e=>e.stopPropagation(),children:[H&&(0,r.jsx)(c.Z,{title:"Monitor",icon:(0,r.jsx)(l,{}),onClick:async()=>{await x({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id}),f("Data discovery has started. The results may take some time to appear in the “Data discovery“ tab.","".concat(t.name||"The resource"," is now being monitored."))},disabled:y,loading:j}),O&&(0,r.jsx)(c.Z,{title:"Un-Mute",icon:(0,r.jsx)(l,{}),onClick:async()=>{await v({staged_resource_urn:t.urn}),f("The resource has been un-muted.","".concat(t.name||"The resource"," is now un-muted."))},disabled:y,loading:j}),R&&(0,r.jsx)(c.Z,{title:"Monitor",icon:(0,r.jsx)(l,{}),onClick:async()=>{await x({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id,unmute_children:!0,classify_monitored_resources:!0}),f("Data discovery has started. The results may take some time to appear in the “Data discovery“ tab.","".concat(t.name||"The resource"," is now being monitored."))},disabled:y,loading:j}),D&&(0,r.jsx)(c.Z,{title:"Confirm",icon:(0,r.jsx)(a.nQG,{}),onClick:async()=>{await x({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id}),f('These changes have been added to a Fides dataset. To view, navigate to "Manage datasets".',"Table changes confirmed")},disabled:y,loading:j}),M&&(0,r.jsx)(c.Z,{title:"Ignore",icon:(0,r.jsx)(n,{}),onClick:async()=>{await p({staged_resource_urn:t.urn}),f("Ignored data will not be monitored for changes or added to Fides datasets.","".concat(t.name||"Resource"," ignored"))},disabled:y,loading:L})]})}}}]);