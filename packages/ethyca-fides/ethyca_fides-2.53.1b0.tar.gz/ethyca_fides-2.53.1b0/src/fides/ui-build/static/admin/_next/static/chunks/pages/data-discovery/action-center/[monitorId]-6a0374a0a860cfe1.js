(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2423],{96539:function(e,t,n){var s=n(77400).Symbol;e.exports=s},99736:function(e,t,n){var s=n(96539),o=n(34840),r=n(21258),i=s?s.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):r(e)}},39120:function(e,t,n){var s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=s},34840:function(e,t,n){var s=n(96539),o=Object.prototype,r=o.hasOwnProperty,i=o.toString,a=s?s.toStringTag:void 0;e.exports=function(e){var t=r.call(e,a),n=e[a];try{e[a]=void 0;var s=!0}catch(e){}var o=i.call(e);return s&&(t?e[a]=n:delete e[a]),o}},21258:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},77400:function(e,t,n){var s=n(39120),o="object"==typeof self&&self&&self.Object===Object&&self,r=s||o||Function("return this")();e.exports=r},11611:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},92360:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},55193:function(e,t,n){var s=n(99736),o=n(92360);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==s(e)}},86850:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-discovery/action-center/[monitorId]",function(){return n(63544)}])},83543:function(e,t,n){"use strict";n.d(t,{OP:function(){return a},Ud:function(){return s},WJ:function(){return r},qv:function(){return i},wi:function(){return o}});let{useGetAggregateMonitorResultsQuery:s,useGetDiscoveredSystemAggregateQuery:o,useGetDiscoveredAssetsQuery:r,useAddMonitorResultsMutation:i,useIgnoreMonitorResultsMutation:a}=n(21618).u.injectEndpoints({endpoints:e=>({getAggregateMonitorResults:e.query({query:e=>{let{page:t=1,size:n=20,search:s}=e;return{url:"/plus/discovery-monitor/aggregate-results",params:{page:t,size:n,search:s,diff_status:"addition"}}},providesTags:["Discovery Monitor Results"]}),getDiscoveredSystemAggregate:e.query({query:e=>{let{key:t,page:n=1,size:s=20,search:o}=e;return{url:"/plus/discovery-monitor/system-aggregate-results",params:{monitor_config_id:t,page:n,size:s,search:o,diff_status:"addition"}}},providesTags:["Discovery Monitor Results"]}),getDiscoveredAssets:e.query({query:e=>{let{key:t,system:n,page:s=1,size:o=20,search:r}=e;return{url:"/plus/discovery-monitor/".concat(t,"/results"),params:{resolved_system_id:n,page:s,size:o,search:r,diff_status:"addition"}}},providesTags:()=>["Discovery Monitor Results"]}),addMonitorResults:e.mutation({query:e=>({method:"POST",url:"/plus/discovery-monitor/promote",params:{staged_resource_urns:e.urnList,system_key:e.systemId}}),invalidatesTags:["Discovery Monitor Results"]}),ignoreMonitorResults:e.mutation({query:e=>({method:"POST",url:"/plus/discovery-monitor/mute",params:{staged_resource_urns:e.urnList,system_key:e.systemId}}),invalidatesTags:["Discovery Monitor Results"]})})})},63544:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var s=n(24246),o=n(86677),r=n(65464),i=n(11032),a=n(37541),l=n(59003),u=n(92222),c=n(78670),d=n(27378),g=n(8540),f=n(83543),m=n(22770),v=n(2686);let p=e=>{let{system:t}=e;return(0,s.jsxs)(c.kCb,{alignItems:"center",height:"100%",children:[!(null==t?void 0:t.system_key)&&(0,s.jsx)(c.ua7,{label:"New system",children:(0,s.jsx)("span",{children:v.QL.Change})}),(0,s.jsx)(c.xvT,{fontSize:"xs",fontWeight:"semibold",lineHeight:4,overflow:"hidden",textOverflow:"ellipsis",children:(null==t?void 0:t.name)||"Uncategorized assets"})]})},y=()=>{let e=(0,u.Cl)();return{columns:[e.accessor(e=>e.name,{id:"system_name",cell:e=>(0,s.jsx)(p,{system:e.row.original}),header:"System",meta:{width:"auto"}}),e.accessor(e=>e.total_updates,{id:"total_updates",cell:e=>(0,s.jsx)(g.G3,{value:e.getValue()}),header:"Assets",size:80}),e.accessor(e=>e.locations,{id:"locations",cell:e=>(0,s.jsx)(g.G3,{value:e.getValue().length>1?"".concat(e.getValue().length," locations"):e.getValue()[0]}),header:"Locations"}),e.accessor(e=>e.domains,{id:"domains",cell:e=>(0,s.jsx)(g.G3,{value:e.getValue().length>1?"".concat(e.getValue().length," domains"):e.getValue()[0]}),header:"Domains"})]}},h=e=>{let{monitorId:t}=e,n=(0,o.useRouter)(),{PAGE_SIZES:r,pageSize:a,setPageSize:v,onPreviousPageClick:p,isPreviousPageDisabled:h,onNextPageClick:j,isNextPageDisabled:x,startRange:b,endRange:_,pageIndex:w,setTotalPages:R,resetPageIndexToDefault:S}=(0,g.oi)(),[C,P]=(0,d.useState)("");(0,d.useEffect)(()=>{S()},[t,C,S]);let{data:k,isLoading:O,isFetching:T}=(0,f.wi)({key:t,page:w,size:a,search:C});(0,d.useEffect)(()=>{k&&R(k.pages||1)},[k,R]);let{columns:E}=y(),I=(0,l.b7)({getCoreRowModel:(0,u.sC)(),columns:E,manualPagination:!0,data:(null==k?void 0:k.items)||[],columnResizeMode:"onChange"});return O?(0,s.jsx)(g.I4,{rowHeight:36,numRows:36}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.Q$,{children:(0,s.jsx)(c.kCb,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"full",children:(0,s.jsx)(c.kCb,{gap:6,align:"center",children:(0,s.jsx)(c.xuv,{flexShrink:0,children:(0,s.jsx)(m.M,{value:C,onChange:P})})})})}),(0,s.jsx)(g.ZK,{tableInstance:I,onRowClick:e=>{var s;n.push("".concat(i.vi,"/").concat(t,"/").concat(null!==(s=e.id)&&void 0!==s?s:i.Kl))},emptyTableNotice:(0,s.jsx)(c.oj8,{image:c.oj8.PRESENTED_IMAGE_SIMPLE,description:"All caught up!"})}),(0,s.jsx)(g.s8,{totalRows:(null==k?void 0:k.items.length)||0,pageSizes:r,setPageSize:v,onPreviousPageClick:p,isPreviousPageDisabled:h||T,onNextPageClick:j,isNextPageDisabled:x||T,startRange:b,endRange:_})]})};var j=()=>{let e=decodeURIComponent((0,o.useRouter)().query.monitorId);return(0,s.jsxs)(r.Z,{title:"Action center - Discovered assets by system",children:[(0,s.jsx)(a.Z,{heading:"Action center",breadcrumbItems:[{title:"All activity",href:i.vi},{title:e}]}),(0,s.jsx)(h,{monitorId:e})]})}}},function(e){e.O(0,[8033,5559,8540,1767,2888,9774,179],function(){return e(e.s=86850)}),_N_E=e.O()}]);