(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8443],{96539:function(e,t,n){var i=n(77400).Symbol;e.exports=i},99736:function(e,t,n){var i=n(96539),r=n(34840),s=n(21258),o=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?r(e):s(e)}},74833:function(e,t,n){var i=n(56127),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},39120:function(e,t,n){var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},34840:function(e,t,n){var i=n(96539),r=Object.prototype,s=r.hasOwnProperty,o=r.toString,a=i?i.toStringTag:void 0;e.exports=function(e){var t=s.call(e,a),n=e[a];try{e[a]=void 0;var i=!0}catch(e){}var r=o.call(e);return i&&(t?e[a]=n:delete e[a]),r}},21258:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},77400:function(e,t,n){var i=n(39120),r="object"==typeof self&&self&&self.Object===Object&&self,s=i||r||Function("return this")();e.exports=s},56127:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},66726:function(e,t,n){var i=n(11611),r=n(82846),s=n(91936),o=Math.max,a=Math.min;e.exports=function(e,t,n){var c,l,u,d,f,p,m=0,v=!1,g=!1,x=!0;if("function"!=typeof e)throw TypeError("Expected a function");function h(t){var n=c,i=l;return c=l=void 0,m=t,d=e.apply(i,n)}function y(e){var n=e-p,i=e-m;return void 0===p||n>=t||n<0||g&&i>=u}function j(){var e,n,i,s=r();if(y(s))return b(s);f=setTimeout(j,(e=s-p,n=s-m,i=t-e,g?a(i,u-n):i))}function b(e){return(f=void 0,x&&c)?h(e):(c=l=void 0,d)}function _(){var e,n=r(),i=y(n);if(c=arguments,l=this,p=n,i){if(void 0===f)return m=e=p,f=setTimeout(j,t),v?h(e):d;if(g)return clearTimeout(f),f=setTimeout(j,t),h(p)}return void 0===f&&(f=setTimeout(j,t)),d}return t=s(t)||0,i(n)&&(v=!!n.leading,u=(g="maxWait"in n)?o(s(n.maxWait)||0,t):u,x="trailing"in n?!!n.trailing:x),_.cancel=function(){void 0!==f&&clearTimeout(f),m=0,c=p=l=f=void 0},_.flush=function(){return void 0===f?d:b(r())},_}},11611:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},92360:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},55193:function(e,t,n){var i=n(99736),r=n(92360);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},82846:function(e,t,n){var i=n(77400);e.exports=function(){return i.Date.now()}},91936:function(e,t,n){var i=n(74833),r=n(11611),s=n(55193),o=0/0,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=c.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?o:+e}},40741:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-discovery/action-center",function(){return n(58401)}])},43124:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var i=n(24246),r=n(78670),s=n(88038),o=n.n(s),a=n(86677);n(27378);var c=n(11596),l=n(72247),u=n(11032),d=()=>{let e=(0,a.useRouter)();return(0,i.jsx)(r.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,i.jsxs)(r.xuv,{children:[(0,i.jsxs)(r.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,i.jsx)(r.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,i.jsx)(r.wpx,{onClick:()=>{e.push(u.fz)},children:"Configure"})]}),(0,i.jsxs)(r.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},f=e=>{let{children:t,title:n,padded:s=!0,mainProps:u}=e,f=(0,c.hz)(),p=(0,a.useRouter)(),m="/privacy-requests"===p.pathname||"/datastore-connection"===p.pathname,v=!(f.flags.privacyRequestsConfiguration&&m),{data:g}=(0,l.JE)(void 0,{skip:v}),{data:x}=(0,l.PW)(void 0,{skip:v}),h=f.flags.privacyRequestsConfiguration&&(!g||!x)&&m;return(0,i.jsxs)(r.kCb,{"data-testid":n,direction:"column",h:"100vh",children:[(0,i.jsxs)(o(),{children:[(0,i.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,i.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(r.kCb,{as:"main",direction:"column",py:s?6:0,px:s?10:0,h:s?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...u,children:[h?(0,i.jsx)(d,{}):null,t]})]})}},37541:function(e,t,n){"use strict";var i=n(24246),r=n(78670),s=n(18622);t.Z=e=>{let{heading:t,breadcrumbItems:n,isSticky:o=!0,children:a,rightContent:c,style:l,...u}=e;return(0,i.jsxs)("div",{...u,style:o?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...l}:{paddingBottom:"24px",...l},children:[(0,i.jsxs)(r.jqI,{justify:"space-between",children:["string"==typeof t?(0,i.jsx)(r.X6q,{className:n||a?"pb-4":void 0,fontSize:"2xl","data-testid":"page-heading",children:t}):t,c&&(0,i.jsx)("div",{"data-testid":"page-header-right-content",children:c})]}),!!n&&(0,i.jsx)(s.m,{className:a?"pb-4":void 0,items:n,"data-testid":"page-breadcrumb"}),a]})}},18622:function(e,t,n){"use strict";n.d(t,{m:function(){return l}});var i=n(24246),r=n(78670),s=n(79894),o=n.n(s),a=n(27378);let{Text:c}=r.AntTypography,l=e=>{let{items:t,...n}=e,s=(0,a.useMemo)(()=>null==t?void 0:t.map((e,n)=>{let r=n===t.length-1,s={...e};return"string"==typeof s.title&&(s.title=(0,i.jsx)(c,{style:{color:"inherit",maxWidth:r?void 0:400},ellipsis:!r,children:s.title})),s.icon&&(s.title=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"anticon align-text-bottom",children:s.icon}),s.title]})),s.href&&s.title&&(s.title=(0,i.jsx)(o(),{href:s.href,className:"ant-breadcrumb-link",children:s.title}),delete s.href),s}),[t]);return(0,i.jsx)(r.zrq,{items:s,...n})}},22770:function(e,t,n){"use strict";n.d(t,{M:function(){return c}});var i=n(24246),r=n(66726),s=n.n(r),o=n(27378),a=n(33312);let c=e=>{let{value:t,onChange:n}=e,[r,c]=(0,o.useState)(t),l=s()(n,500),u=(0,o.useCallback)(e=>{c(e),l(e)},[]);return(0,i.jsx)(a.Z,{search:r,onChange:u,onClear:()=>{c(""),n("")}})}},83543:function(e,t,n){"use strict";n.d(t,{OP:function(){return a},Ud:function(){return i},WJ:function(){return s},qv:function(){return o},wi:function(){return r}});let{useGetAggregateMonitorResultsQuery:i,useGetDiscoveredSystemAggregateQuery:r,useGetDiscoveredAssetsQuery:s,useAddMonitorResultsMutation:o,useIgnoreMonitorResultsMutation:a}=n(21618).u.injectEndpoints({endpoints:e=>({getAggregateMonitorResults:e.query({query:e=>{let{page:t=1,size:n=20,search:i}=e;return{url:"/plus/discovery-monitor/aggregate-results",params:{page:t,size:n,search:i,diff_status:"addition"}}},providesTags:["Discovery Monitor Results"]}),getDiscoveredSystemAggregate:e.query({query:e=>{let{key:t,page:n=1,size:i=20,search:r}=e;return{url:"/plus/discovery-monitor/system-aggregate-results",params:{monitor_config_id:t,page:n,size:i,search:r,diff_status:"addition"}}},providesTags:["Discovery Monitor Results"]}),getDiscoveredAssets:e.query({query:e=>{let{key:t,system:n,page:i=1,size:r=20,search:s}=e;return{url:"/plus/discovery-monitor/".concat(t,"/results"),params:{resolved_system_id:n,page:i,size:r,search:s,diff_status:"addition"}}},providesTags:()=>["Discovery Monitor Results"]}),addMonitorResults:e.mutation({query:e=>({method:"POST",url:"/plus/discovery-monitor/promote",params:{staged_resource_urns:e.urnList,system_key:e.systemId}}),invalidatesTags:["Discovery Monitor Results"]}),ignoreMonitorResults:e.mutation({query:e=>({method:"POST",url:"/plus/discovery-monitor/mute",params:{staged_resource_urns:e.urnList,system_key:e.systemId}}),invalidatesTags:["Discovery Monitor Results"]})})})},58401:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var i=n(24246),r=n(78670),s=n(79894),o=n.n(s),a=n(27378),c=n(43124),l=n(11032),u=n(37541),d=n(8540),f=n(83543);let p=e=>{let{isConfigLoading:t}=e;return(0,i.jsx)(c.Z,{title:"Action center",mainProps:{className:"h-full"},children:(0,i.jsx)(r.jqI,{justify:"center",align:"center",className:"h-full",children:t?(0,i.jsx)(r.$jN,{color:"primary.900"}):(0,i.jsx)(r.DUx,{message:"Coming soon...",description:"Action center is currently disabled.",type:"info",showIcon:!0})})})},m=()=>(0,i.jsx)(r.oj8,{image:r.oj8.PRESENTED_IMAGE_SIMPLE,description:"All caught up! Set up an integration monitor to track your infrastructure in greater detail.",children:(0,i.jsx)(o(),{href:l.KH,passHref:!0,legacyBehavior:!0,children:(0,i.jsx)(r.wpx,{type:"primary",children:"Visit integrations"})})});var v=n(7195),g=n(21820);let{Text:x}=r.AntTypography,h=e=>{let{monitorSummary:t,showSkeleton:n,...s}=e,[c,u]=(0,a.useState)(void 0),{name:d,property:f,total_updates:p,updates:m,last_monitored:h,warning:y,key:j}=t,b=Object.entries(m).map(e=>"".concat(e[1]," ").concat(e[0],"s")).join(", "),_=h?(0,v.B)(new Date(h),new Date,{addSuffix:!0}):void 0;return(0,a.useEffect)(()=>{f&&u((0,g.tl)(f))},[f]),(0,i.jsx)(r.krs.Item,{"data-testid":"monitor-result-".concat(j),...s,children:(0,i.jsxs)(r.N_L,{avatar:!0,title:!1,loading:n,active:!0,children:[(0,i.jsx)(r.krs.Item.Meta,{avatar:!!c&&(0,i.jsx)(r.t3Z,{src:c,size:"small"}),title:(0,i.jsxs)(o(),{href:"".concat(l.vi,"/").concat(j),className:"whitespace-nowrap",children:["".concat(p," assets detected").concat(f?"on ".concat(f):""),!!y&&(0,i.jsx)(r.esZ,{title:"string"==typeof y?y:void 0,children:(0,i.jsx)(r.PJP.OdJ,{className:"ml-1 inline-block align-middle",style:{color:"var(--fidesui-error)"}})})]}),description:"".concat(b," detected.")}),(0,i.jsxs)(r.jqI,{className:"gap-12",children:[(0,i.jsx)(x,{style:{maxWidth:300},ellipsis:{tooltip:d},children:d}),!!_&&(0,i.jsx)(r.esZ,{title:(0,g.p6)(h),children:(0,i.jsx)(x,{"data-testid":"monitor-date",children:_})})]})]})})};var y=n(22770),j=n(27365),b=()=>{var e;let t=(0,r.pmc)(),{PAGE_SIZES:n,pageSize:s,setPageSize:v,onPreviousPageClick:g,isPreviousPageDisabled:x,onNextPageClick:b,isNextPageDisabled:_,startRange:w,endRange:k,pageIndex:T,setTotalPages:N,resetPageIndexToDefault:S}=(0,d.oi)(),[C,P]=(0,a.useState)(""),{data:q,isLoading:E}=(0,j.tB)({api_set:!1}),R=!!(null==q?void 0:null===(e=q.detection_discovery)||void 0===e?void 0:e.website_monitor_enabled);(0,a.useEffect)(()=>{S()},[C,S]);let{data:M,isError:O,isLoading:I,isFetching:A}=(0,f.Ud)({page:T,size:s,search:C},{skip:E||!R});(0,a.useEffect)(()=>{O&&t&&R&&t({title:"Error fetching data",description:"Please try again later",status:"error"})},[O,t,R]),(0,a.useEffect)(()=>{M&&N(M.total||1)},[M,N]);let D=(null==M?void 0:M.items)||[],z=A?Array.from({length:s},(e,t)=>({key:t.toString(),updates:[],last_monitored:null})):[],Z=(0,a.useCallback)(e=>[(0,i.jsx)(o(),{href:"".concat(l.vi,"/").concat(e),passHref:!0,legacyBehavior:!0,children:(0,i.jsx)(r.wpx,{type:"link",className:"p-0","data-testid":"review-button-".concat(e),children:"Review"})},"review")],[]);return R?(0,i.jsxs)(c.Z,{title:"Action center",children:[(0,i.jsx)(u.Z,{heading:"Action center",breadcrumbItems:[{title:"All activity"}]}),(0,i.jsx)(r.jqI,{className:"justify-between py-6",children:(0,i.jsx)(y.M,{value:C,onChange:P})}),(0,i.jsx)(r.krs,{loading:I,dataSource:D||z,locale:{emptyText:(0,i.jsx)(m,{})},renderItem:e=>!!e&&(0,i.jsx)(h,{showSkeleton:A,monitorSummary:e,actions:Z(e.key)},e.key)}),!!D&&!!(null==M?void 0:M.total)&&M.total>s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.htM,{className:"mb-6 mt-0"}),(0,i.jsx)(d.s8,{totalRows:(null==M?void 0:M.total)||0,pageSizes:n,setPageSize:v,onPreviousPageClick:g,isPreviousPageDisabled:x||A,onNextPageClick:b,isNextPageDisabled:_||A,startRange:w,endRange:k})]})]}):(0,i.jsx)(p,{isConfigLoading:E})}}},function(e){e.O(0,[8033,5559,8540,2888,9774,179],function(){return e(e.s=40741)}),_N_E=e.O()}]);