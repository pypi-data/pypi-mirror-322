apiVersion: engine.h2o.ai/v1alpha1
kind: H2OSetup
metadata:
  # "system.default" is a reserved placeholder for a "default" H2OSetup that is used as a fallback
  # H2OSetup for H2OEngines that are in workspace that do not have their "own" H2OSetup.
  # Note: there cannot exist a workspace with workspace_id="system.default" (dot '.' is not an allowed character),
  # hence, there cannot be a collision of a "default" H2OSetup with H2OSetup from "system.default"
  # workspace (such workspace cannot exist).
  name: system.default
spec:
  nodeCountConstraint:
    min: 1
    max: null
    default: 1
  cpuConstraint:
    min: 1
    max: null
    default: 1
  gpuConstraint:
    min: 0
    max: null
    default: 0
  memoryBytesConstraint:
    min: 2147483648
    max: null
    default: 4294967296
  maxIdleDurationConstraint:
    min: "0s"
    max: null
    default: "1h"
  maxRunningDurationConstraint:
    min: "0s"
    max: null
    default: "4h"
  podTemplateSpec:
    spec:
      containers:
        - name: h2o-3
      tolerations:
        - key: "dedicated"
          operator: "Equal"
          value: "steam"
          effect: "NoSchedule"