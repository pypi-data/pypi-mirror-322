apiVersion: engine.h2o.ai/v1alpha1
kind: DriverlessAISetup
metadata:
  # "system.default" is a reserved placeholder for a "default" DriverlessAISetup that is used as a fallback
  # DriverlessAISetup for DAIEngines that are in workspace that do not have their "own" DriverlessAISetup.
  # Note: there cannot exist a workspace with workspace_id="system.default" (dot '.' is not an allowed character),
  # hence, there cannot be a collision of a "default" DriverlessAISetup with DriverlessAISetup from "system.default"
  # workspace (such workspace cannot exist).
  name: system.default
spec:
  cpuConstraint:
    min: 1
    default: 1
    max: null
  gpuConstraint:
    min: 0
    default: 0
    max: null
  memoryBytesConstraint:
    min: 1073741824
    max: 1099511627776
    default: 1073741824
  storageBytesConstraint:
    min: 1073741824
    max: 1099511627776
    default: 1073741824
  maxIdleDurationConstraint:
    min: "5m"
    max: "200h"
    default: "4h"
  maxRunningDurationConstraint:
    min: "5m"
    max: "200h"
    default: "4h"
  podTemplateSpec:
    spec:
      containers:
        - name: driverless-ai
      tolerations:
        - key: "dedicated"
          operator: "Equal"
          value: "steam"
          effect: "NoSchedule"