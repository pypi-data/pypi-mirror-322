Metadata-Version: 2.4
Name: mcp-server-hive
Version: 0.6.5
Summary: A Hive MCP server for data analysis
Requires-Python: >=3.10
Requires-Dist: mcp>=1.0.0
Requires-Dist: pure-sasl>=0.6.2
Requires-Dist: pyhive
Requires-Dist: thrift
Provides-Extra: dev
Requires-Dist: black>=23.0.0; extra == 'dev'
Requires-Dist: pyright>=1.1.389; extra == 'dev'
Requires-Dist: pytest-asyncio>=0.25.0; extra == 'dev'
Requires-Dist: pytest-cov>=4.0.0; extra == 'dev'
Requires-Dist: pytest>=7.0.0; extra == 'dev'
Description-Content-Type: text/markdown

# Hive MCP Server

## Overview
A Model Context Protocol (MCP) server implementation that provides database interaction and business intelligence capabilities through Hive. This server enables running HQL queries, analyzing business data, and automatically generating business insight memos.

## Components

### Resources
The server exposes a single dynamic resource:
- `memo://insights`: A continuously updated business insights memo that aggregates discovered insights during analysis
  - Auto-updates as new insights are discovered via the append-insight tool

### Prompts
The server provides a demonstration prompt:
- `mcp-demo`: Interactive prompt that guides users through database operations
  - Required argument: `topic` - The business domain to analyze
  - Guides users through analysis and insight generation
  - Integrates with the business insights memo

### Tools
The server offers six core tools:

#### Query Tools
- `read_query`
   - Execute SELECT queries to read data from the database
   - Input:
     - `query` (string): The SELECT HQL query to execute
   - Returns: Query results as array of objects

- `write_query`
   - Execute INSERT, UPDATE, or DELETE queries
   - Input:
     - `query` (string): The HQL modification query
   - Returns: `{ affected_rows: number }`

- `create_table`
   - Create new tables in the database
   - Input:
     - `query` (string): CREATE TABLE HQL statement
   - Returns: Confirmation of table creation

#### Schema Tools
- `list_tables`
   - Get a list of all tables in the database
   - No input required
   - Returns: Array of table names

- `describe-table`
   - View schema information for a specific table
   - Input:
     - `table_name` (string): Name of table to describe
   - Returns: Array of column definitions with names and types

#### Analysis Tools
- `append_insight`
   - Add new business insights to the memo resource
   - Input:
     - `insight` (string): Business insight discovered from data analysis
   - Returns: Confirmation of insight addition
   - Triggers update of memo://insights resource

## Command Line Arguments

- `--username`: Hive username (default: "hive")
- `--password`: Hive password (default: "")
- `--host`: Hive server hostname (default: "localhost")
- `--port`: Hive server port (default: 10000)
- `--database`: Hive database name (default: "default")
- `--configuration`: Additional configuration string for Hive connection (default: "")

## Usage with Claude Desktop

### uvx

```json
"mcpServers": {
  "hive": {
    "command": "uvx",
    "args": [
      "mcp-server-hive",
      "--host", "localhost",
      "--port", "10000",
      "--username", "hive",
      "--database", "default",
      "--configuration", "key1=value1;key2=value2"
    ]
  }
}
```

### Docker

```json
"mcpServers": {
  "hive": {
    "command": "docker",
    "args": [
      "run",
      "--rm",
      "-i",
      "-v", "mcp-test:/mcp",
      "mcp/hive",
      "--host", "hiveserver",
      "--port", "10000",
      "--username", "hive",
      "--database", "default"
    ]
  }
}
```

## Building

Docker:

```bash
docker build -t mcp/hive .
```

## License

This MCP server is licensed under the MIT License. This means you are free to use, modify, and distribute the software, subject to the terms and conditions of the MIT License. For more details, please see the LICENSE file in the project repository.
